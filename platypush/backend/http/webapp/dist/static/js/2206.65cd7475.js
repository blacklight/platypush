"use strict";(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[2206,2991],{2206:function(t,e,i){i.r(e),i.d(e,{default:function(){return f}});var l=i(6252);const o={class:"media-jellyfin-container browser"},n={class:"media-jellyfin-browser"};function s(t,e,i,s,a,c){const d=(0,l.up)("MediaNav"),r=(0,l.up)("Loading"),h=(0,l.up)("Movies"),p=(0,l.up)("Media");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(d,{path:a.path,onBack:e[0]||(e[0]=e=>t.$emit("back"))},null,8,["path"]),(0,l._)("div",n,[c.isLoading?((0,l.wg)(),(0,l.j4)(r,{key:0})):"movies"===c.currentView?((0,l.wg)(),(0,l.j4)(h,(0,l.dG)({key:1},c.componentData.props,(0,l.mx)(c.componentData.on),{collection:a.collection,onSelect:c.select}),null,16,["collection","onSelect"])):((0,l.wg)(),(0,l.j4)(p,(0,l.dG)({key:2},c.componentData.props,(0,l.mx)(c.componentData.on),{collection:a.collection,onSelect:c.select,onSelectCollection:c.selectCollection}),null,16,["collection","onSelect","onSelectCollection"]))])])}i(560);var a=i(6791),c=i(2991),d=i(6640),r=i(5868),h=i(6593),p={mixins:[d["default"]],components:{Loading:a.Z,MediaNav:c["default"],Media:r["default"],Movies:h["default"]},emits:["add-to-playlist","back","download","download-audio","play","play-with-opts"],data(){return{collection:null,loading_:!1,path:[]}},computed:{componentData(){return{props:{collection:this.collection,filter:this.filter,loading:this.isLoading,path:this.path},on:{"add-to-playlist":t=>this.$emit("add-to-playlist",t),download:t=>this.$emit("download",t),"download-audio":t=>this.$emit("download-audio",t),play:t=>this.$emit("play",t),"play-with-opts":t=>this.$emit("play-with-opts",t)}}},currentView(){if(!this.collection)return"index";switch(this.collection.collection_type){case"movies":return"movies";case"homevideos":return"videos";default:return"index"}},isLoading(){return this.loading_||this.loading},rootItem(){const t={id:"",title:"Jellyfin",type:"index",icon:{class:"fas fa-server"}};return t.click=()=>{this.collection=null,this.select(t)},t}},methods:{select(t){if(t){if(this.path.length>0&&this.path[this.path.length-1].id===t.id)return;if("index"===t.type)this.path=[this.rootItem];else{const e=this.path.findIndex((e=>e.id===t.id));e>=0?this.path=this.path.slice(0,e+1):this.path.push({title:t.name,click:()=>this.selectCollection(t),...t})}}else this.path=[]},selectCollection(t){this.collection=t,this.select(t)}},watch:{collection(){this.setUrlArgs({collection:this.collection?.id})}},mounted(){this.path=[this.rootItem]},unmounted(){this.setUrlArgs({collection:null})}},u=i(3744);const m=(0,u.Z)(p,[["render",s],["__scopeId","data-v-27624e4f"]]);var f=m},6593:function(t,e,i){i.r(e),i.d(e,{default:function(){return m}});var l=i(6252);const o={class:"movies index"};function n(t,e,i,n,s,a){const c=(0,l.up)("Loading"),d=(0,l.up)("NoItems"),r=(0,l.up)("Results"),h=(0,l.up)("SortButton");return(0,l.wg)(),(0,l.iD)("div",o,[t.isLoading?((0,l.wg)(),(0,l.j4)(c,{key:0})):0===a.movies.length?((0,l.wg)(),(0,l.j4)(d,{key:1,"with-shadow":!1},{default:(0,l.w5)((()=>[(0,l.Uk)(" No movies found. ")])),_:1})):((0,l.wg)(),(0,l.j4)(r,{key:2,results:a.movies,sources:{jellyfin:!0},filter:t.filter,"selected-result":t.selectedResult,onAddToPlaylist:e[0]||(e[0]=e=>t.$emit("add-to-playlist",e)),onDownload:e[1]||(e[1]=e=>t.$emit("download",e)),onPlay:e[2]||(e[2]=e=>t.$emit("play",e)),onPlayWithOpts:e[3]||(e[3]=e=>t.$emit("play-with-opts",e)),onRemoveFromPlaylist:e[4]||(e[4]=e=>t.$emit("remove-from-playlist",e)),onSelect:e[5]||(e[5]=e=>t.selectedResult=e)},null,8,["results","filter","selected-result"])),a.movies.length>0?((0,l.wg)(),(0,l.j4)(h,{key:3,value:t.sort,"with-release-date":!0,"with-critic-rating":!0,"with-community-rating":!0,onInput:e[6]||(e[6]=e=>t.sort=e)},null,8,["value"])):(0,l.kq)("",!0)])}var s=i(6791),a=i(8113),c=i(3222),d=i(1602),r=i(4279),h={mixins:[a["default"]],components:{Loading:s.Z,NoItems:c.Z,Results:d.Z,SortButton:r["default"]},computed:{movies(){return this.sortedItems?.filter((t=>"movie"===t.item_type))??[]}},async mounted(){await this.refresh()}},p=i(3744);const u=(0,p.Z)(h,[["render",n],["__scopeId","data-v-f07087c4"]]);var m=u},2991:function(t,e,i){i.r(e),i.d(e,{default:function(){return k}});var l=i(6252),o=i(3577);const n=t=>((0,l.dD)("data-v-1e886630"),t=t(),(0,l.Cn)(),t),s={class:"nav"},a={class:"path"},c=n((()=>(0,l._)("i",{class:"fas fa-home"},null,-1))),d=[c],r=n((()=>(0,l._)("span",{class:"separator"},[(0,l._)("i",{class:"fas fa-chevron-right"})],-1))),h=["title","onClick"],p={key:1},u={key:0,class:"separator"},m=n((()=>(0,l._)("i",{class:"fas fa-chevron-right"},null,-1))),f=[m];function w(t,e,i,n,c,m){return(0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("span",a,[(0,l._)("span",{class:"back token",title:"Back",onClick:e[0]||(e[0]=e=>t.$emit("back"))},d),r]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.path,((e,n)=>((0,l.wg)(),(0,l.iD)("span",{class:"path",key:n},[(0,l._)("span",{class:"token",title:e.title,onClick:t=>m.onClick(e)},[(t.icon=e.icon?.["class"])?((0,l.wg)(),(0,l.iD)("i",{key:0,class:(0,o.C_)(["icon",t.icon])},null,2)):(0,l.kq)("",!0),e.title?((0,l.wg)(),(0,l.iD)("span",p,(0,o.zw)(e.title),1)):(0,l.kq)("",!0)],8,h),(n>0||i.path.length>1)&&n<i.path.length-1?((0,l.wg)(),(0,l.iD)("span",u,f)):(0,l.kq)("",!0)])))),128))])}var y={emits:["back","select"],props:{path:{type:Array,default:()=>[]}},methods:{onClick(t){t.click&&(t.click(),this.$emit("select",t))}}},v=i(3744);const g=(0,v.Z)(y,[["render",w],["__scopeId","data-v-1e886630"]]);var k=g}}]);
//# sourceMappingURL=2206.65cd7475.js.map