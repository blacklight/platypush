"use strict";(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[7257],{2962:function(e,n,a){a.d(n,{Z:function(){return p}});var s=a(6252);const t=e=>((0,s.dD)("data-v-63e10a38"),e=e(),(0,s.Cn)(),e),o=["title"],r=t((()=>(0,s._)("i",{class:"fas fa-pen-to-square"},null,-1))),l=[r];function i(e,n,a,t,r,i){return(0,s.wg)(),(0,s.iD)("button",{class:"edit-btn",title:a.title,onClick:n[0]||(n[0]=e=>i.proxy(e)),onTouch:n[1]||(n[1]=e=>i.proxy(e)),onInput:n[2]||(n[2]=e=>i.proxy(e))},l,40,o)}var c={emits:["input","click","touch"],props:{title:{type:String,default:"Edit"}},methods:{proxy(e){this.$emit(e.type,e)}}},u=a(3744);const m=(0,u.Z)(c,[["render",i],["__scopeId","data-v-63e10a38"]]);var p=m},657:function(e,n,a){a.d(n,{Z:function(){return m}});var s=a(6252),t=a(3577);const o={class:"icon-container"},r=["src","alt"];function l(e,n,a,l,i,c){return(0,s.wg)(),(0,s.iD)("div",o,[a.url?.length?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"icon",src:a.url,alt:a.alt},null,8,r)):c.className?.length?((0,s.wg)(),(0,s.iD)("i",{key:1,class:(0,t.C_)(["icon",c.className]),style:(0,t.j5)({color:a.color})},null,6)):(0,s.kq)("",!0)])}var i={props:{class:{type:String},url:{type:String},color:{type:String,default:""},alt:{type:String,default:""}},computed:{className(){return this.class}}},c=a(3744);const u=(0,c.Z)(i,[["render",l],["__scopeId","data-v-706a3bd1"]]);var m=u},8117:function(e,n,a){a.d(n,{Z:function(){return d}});var s=a(6252),t=a(9963);const o=e=>((0,s.dD)("data-v-99805094"),e=e(),(0,s.Cn)(),e),r=["disabled"],l=o((()=>(0,s._)("button",{type:"submit"},[(0,s._)("i",{class:"fas fa-circle-check"})],-1))),i=o((()=>(0,s._)("i",{class:"fas fa-ban"},null,-1))),c=[i];function u(e,n,a,o,i,u){return(0,s.wg)(),(0,s.iD)("form",{onSubmit:n[4]||(n[4]=(0,t.iM)(((...e)=>u.submit&&u.submit(...e)),["prevent"])),class:"name-editor"},[(0,s.wy)((0,s._)("input",{type:"text",disabled:a.disabled,"onUpdate:modelValue":n[0]||(n[0]=e=>i.text=e),onKeydown:n[1]||(n[1]=(...e)=>u.proxy&&u.proxy(...e)),onKeyup:n[2]||(n[2]=(...e)=>u.proxy&&u.proxy(...e)),ref:"input"},null,40,r),[[t.nr,i.text]]),l,(0,s._)("button",{class:"cancel",onClick:n[3]||(n[3]=n=>e.$emit("cancel"))},c),(0,s.WI)(e.$slots,"default",{},void 0,!0)],32)}var m={emits:["input","cancel","keyup","keydown"],props:{value:{type:String},disabled:{type:Boolean,default:!1}},data(){return{text:null}},methods:{proxy(e){this.$emit(e.type,e)},submit(){return this.$emit("input",this.text),!1}},mounted(){this.text=this.value,this.$refs.input.focus()}},p=a(3744);const f=(0,p.Z)(m,[["render",u],["__scopeId","data-v-99805094"]]);var d=f},3222:function(e,n,a){a.d(n,{Z:function(){return u}});var s=a(6252),t=a(3577);const o={class:"no-items-container"};function r(e,n,a,r,l,i){return(0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",{class:(0,t.C_)(["no-items fade-in",{shadow:a.withShadow}])},[(0,s.WI)(e.$slots,"default",{},void 0,!0)],2)])}var l={name:"NoItems",props:{withShadow:{type:Boolean,default:!0}}},i=a(3744);const c=(0,i.Z)(l,[["render",r],["__scopeId","data-v-4856c4d7"]]);var u=c},4967:function(e,n,a){a.r(n),a.d(n,{default:function(){return d}});var s=a(6252),t=a(3577);const o=["title"],r={key:0,class:"fas fa-spinner fa-spin loading"},l={key:1,class:"fas fa-circle-exclamation error"};function i(e,n,a,i,c,u){const m=(0,s.up)("Icon");return(0,s.wg)(),(0,s.iD)("div",{class:(0,t.C_)(["entity-icon-container",{"with-color-fill":!!u.colorFill}]),title:e.prettify(a.entity.type||""),style:(0,t.j5)(u.colorFillStyle)},[a.loading?((0,s.wg)(),(0,s.iD)("i",r)):a.error?((0,s.wg)(),(0,s.iD)("i",l)):((0,s.wg)(),(0,s.j4)(m,(0,t.vs)((0,s.dG)({key:2},u.computedIconNormalized)),null,16))],14,o)}var c=a(657),u=a(8637),m={name:"EntityIcon",components:{Icon:c.Z},mixins:[u.Z],props:{loading:{type:Boolean,default:!1},error:{type:Boolean,default:!1},entity:{type:Object,required:!0},icon:{type:Object,default:()=>{}},hasColorFill:{type:Boolean,default:!1}},data(){return{component:null,modalVisible:!1}},computed:{computedIcon(){let e={...this.entity?.meta?.icon||{}};return Object.keys(this.icon||{}).length&&(e=this.icon),{...e}},colorFill(){return this.hasColorFill&&this.computedIcon.color},colorFillStyle(){return this.colorFill&&!this.error?{background:this.colorFill}:{}},computedIconNormalized(){const e={...this.computedIcon};return this.colorFill&&delete e.color,e},type(){let e=this.entity.type||"";return e.charAt(0).toUpperCase()+e.slice(1)}}},p=a(3744);const f=(0,p.Z)(m,[["render",i],["__scopeId","data-v-49689016"]]);var d=f},847:function(e,n,a){a.r(n),a.d(n,{default:function(){return r}});var s=a(8637),t={name:"EntityMixin",mixins:[s.Z],emits:["input","loading"],props:{loading:{type:Boolean,default:!1},error:{type:Boolean,default:!1},value:{type:Object,required:!0},parent:{type:Object,default:()=>{}},children:{type:Object,default:()=>{}},allEntities:{type:Object,default:()=>{}},level:{type:Number,default:0}},data(){return{modalVisible:!1,collapsed:!0}},computed:{type(){let e=this.value.type||"";return e.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("")}}};const o=t;var r=o},5666:function(e,n,a){a.r(n),a.d(n,{default:function(){return F}});var s=a(6252),t=a(9963),o=a(3577);const r=e=>((0,s.dD)("data-v-d3ee090e"),e=e(),(0,s.Cn)(),e),l={class:"row item"},i={class:"title"},c={class:"value icon-canvas"},u={key:0,class:"icon-editor"},m={key:0,class:"icon-edit-form"},p={class:"icon-container"},f=["src"],d=r((()=>(0,s._)("i",{class:"fas fa-rotate-left"},null,-1))),_=[d],h=r((()=>(0,s._)("span",{class:"help"},[(0,s.Uk)(" Supported: image URLs or "),(0,s._)("a",{href:"https://fontawesome.com/icons",target:"_blank"},"FontAwesome icon classes"),(0,s.Uk)(". ")],-1))),y={class:"row item"},S=r((()=>(0,s._)("div",{class:"title"}," Icon color ",-1))),g={class:"value icon-color-picker"},v=["value"],w=r((()=>(0,s._)("i",{class:"fas fa-rotate-left"},null,-1))),I=[w];function b(e,n,a,r,d,w){const b=(0,s.up)("EditButton"),k=(0,s.up)("NameEditor"),C=(0,s.up)("Icon");return(0,s.wg)(),(0,s.iD)("form",{class:"icon-editor",onSubmit:n[8]||(n[8]=e=>w.onIconEdit(d.newIcon,e)),onClick:n[9]||(n[9]=(0,t.iM)((()=>{}),["stop"]))},[(0,s._)("div",l,[(0,s._)("div",i,[(0,s.Uk)(" Icon "),d.editIcon?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(b,{key:0,title:"Edit Icon",onClick:n[0]||(n[0]=(0,t.iM)((e=>d.editIcon=!0),["stop"]))}))]),(0,s._)("div",c,[d.editIcon?((0,s.wg)(),(0,s.iD)("span",u,[null!=d.newIcon?((0,s.wg)(),(0,s.iD)("span",m,[(0,s._)("span",p,[w.currentIcon?.url?((0,s.wg)(),(0,s.iD)("img",{key:0,src:w.currentIcon.url},null,8,f)):((0,s.wg)(),(0,s.iD)("i",{key:1,class:(0,o.C_)(w.currentIcon.class),style:(0,o.j5)({color:w.currentIcon.color})},null,6))]),(0,s.Wm)(k,{value:w.currentIcon.url||w.currentIcon.class,disabled:d.loading,onKeyup:n[2]||(n[2]=e=>d.newIcon=e.target.value?.trim()),onInput:n[3]||(n[3]=e=>w.onIconEdit(d.newIcon)),onCancel:n[4]||(n[4]=e=>d.editIcon=!1)},{default:(0,s.w5)((()=>[(0,s._)("button",{type:"button",title:"Reset",onClick:n[1]||(n[1]=(0,t.iM)((e=>w.onIconEdit(null,e)),["stop"]))},_)])),_:1},8,["value","disabled"])])):(0,s.kq)("",!0),h])):((0,s.wg)(),(0,s.j4)(C,(0,o.vs)((0,s.dG)({key:1},w.currentIcon)),null,16))])]),(0,s._)("div",y,[S,(0,s._)("div",g,[(0,s._)("input",{type:"color",value:w.currentIcon.color,onInput:n[5]||(n[5]=(0,t.iM)((()=>{}),["stop"])),onChange:n[6]||(n[6]=(0,t.iM)(((...e)=>w.onIconColorEdit&&w.onIconColorEdit(...e)),["stop"]))},null,40,v),(0,s._)("button",{type:"button",title:"Reset",onClick:n[7]||(n[7]=(0,t.iM)((e=>w.onIconColorEdit(null)),["stop"]))},I)])])],32)}var k=a(2962),C=a(657),D=a(8117),x=a(8637),E=a(7369),j={components:{EditButton:k.Z,Icon:C.Z,NameEditor:D.Z},mixins:[x.Z],emits:["change","input"],props:{entity:{type:Object,required:!0}},data(){return{editIcon:!1,loading:!1,newIcon:null,newColor:null}},computed:{currentIcon(){return{...(E[this.entity.type]||{})?.icon||{},...this.entity.meta?.icon||{},...this.newIcon?this.iconObj(this.newIcon):{},...this.newColor?.length?{color:this.newColor}:{}}}},methods:{async edit(e,n){const a={[this.entity.id]:{icon:e}};this.loading=!0,n&&n.stopPropagation();try{const n=(await this.request("entities.set_meta",a))[0];e=n?.meta?.icon,e&&this.$emit("input",e)}finally{this.loading=!1,this.editIcon=!1}},async onIconEdit(e,n){const a={...this.currentIcon,...this.iconObj(e)||{}};await this.edit(a,n)},async onIconColorEdit(e){const n=e?.target?.value,a={...this.currentIcon,...n?.length?{color:n}:{color:null}};this.newColor=n,await this.edit(a,e)},iconObj(e){return e?.length?e.startsWith("http")?{url:e}:{class:e}:{...this.currentIcon,url:this.entity.meta?.icon?.url,class:this.entity.meta?.icon?.class}}},watch:{editIcon(){this.newIcon=(this.entity.meta?.icon?.url||this.entity.meta?.icon?.["class"]||this.currentIcon.url||this.currentIcon.class)?.trim()},newIcon(){this.$emit("change",this.currentIcon)},newColor(){this.$emit("change",this.currentIcon)}}},Z=a(3744);const B=(0,Z.Z)(j,[["render",b],["__scopeId","data-v-d3ee090e"]]);var F=B},7369:function(e){e.exports=JSON.parse('{"alarm":{"name":"Alarm","name_plural":"Alarms","icon":{"class":"fas fa-stopwatch"}},"assistant":{"name":"Assistant","name_plural":"Assistants","icon":{"class":"fas fa-microphone-lines"}},"battery":{"name":"Battery","name_plural":"Batteries","icon":{"class":"fas fa-battery-full"}},"weather":{"name":"Weather","name_plural":"Weather","icon":{"class":"fas fa-cloud-sun-rain"}},"weather_forecast":{"name":"Weather Forecast","name_plural":"Weather Forecast","icon":{"class":"fas fa-cloud-sun-rain"}},"button":{"name":"Button","name_plural":"Buttons","icon":{"class":"fas fa-circle-dot"}},"cpu_info":{"name":"System","name_plural":"System","icon":{"class":"fas fa-circle-info"}},"cpu_stats":{"name":"System","name_plural":"System","icon":{"class":"fas fa-gauge"}},"cpu_times":{"name":"System","name_plural":"System","icon":{"class":"fas fa-clock"}},"memory_stats":{"name":"System","name_plural":"System","icon":{"class":"fas fa-memory"}},"swap_stats":{"name":"System","name_plural":"System","icon":{"class":"fas fa-memory"}},"disk":{"name":"System","name_plural":"System","icon":{"class":"fas fa-hard-drive"}},"network_interface":{"name":"System","name_plural":"System","icon":{"class":"fas fa-ethernet"}},"system_temperature":{"name":"System","name_plural":"System","icon":{"class":"fas fa-temperature-half"}},"system_fan":{"name":"System","name_plural":"System","icon":{"class":"fas fa-fan"}},"system_battery":{"name":"System","name_plural":"System","icon":{"class":"fas fa-battery-full"}},"current_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-bolt"}},"cpu":{"name":"System","name_plural":"System","icon":{"class":"fas fa-microchip"}},"motion_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-person-running"}},"distance_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-ruler-horizontal"}},"bluetooth_device":{"name":"Device","name_plural":"Devices","icon":{"class":"fab fa-bluetooth-b"}},"cloud_instance":{"name":"Cloud Entity","name_plural":"Cloud Entities","icon":{"class":"fas fa-cloud"}},"bluetooth_service":{"name":"Service","name_plural":"Services","icon":{"class":"fas fa-satellite-dish"}},"accelerometer":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-up-down-left-right"}},"magnetometer":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-magnet"}},"device":{"name":"Device","name_plural":"Devices","icon":{"class":"fas fa-gear"}},"volume":{"name":"Dimmer","name_plural":"Dimmers","icon":{"class":"fas fa-volume-high"}},"dimmer":{"name":"Dimmer","name_plural":"Dimmers","icon":{"class":"fas fa-gauge"}},"energy_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-plug"}},"entity":{"name":"Entity","name_plural":"Entities","icon":{"class":"fas fa-circle-question"}},"humidity_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-droplet"}},"dew_point_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-hand-holding-droplet"}},"illuminance_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-sun"}},"light":{"name":"Light","name_plural":"Lights","icon":{"class":"fas fa-lightbulb"}},"contact_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"far fa-hand"}},"presence_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-person"}},"procedure":{"name":"Procedure","name_plural":"Procedures","icon":{"class":"fas fa-cogs"}},"weight_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-weight-scale"}},"link_quality":{"name":"Link Quality","name_plural":"Link Qualities","icon":{"class":"fas fa-tower-broadcast"}},"power_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-plug"}},"temperature_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-temperature-half"}},"steps_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-shoe-prints"}},"heart_rate_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-heart-pulse"}},"ping_host":{"name":"Host","name_plural":"Hosts","icon":{"class":"fas fa-server"}},"time_duration_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-clock"}},"pressure_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-gauge"}},"muted":{"name":"Switch","name_plural":"Switches","icon":{"class":"fas fa-volume-xmark"}},"enum_switch":{"name":"Switch","name_plural":"Switches","icon":{"class":"fas fa-gauge"}},"switch":{"name":"Switch","name_plural":"Switches","icon":{"class":"fas fa-toggle-on"}},"variable":{"name":"Variable","name_plural":"Variables","icon":{"class":"fas fa-square-root-variable"}},"voltage_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-car-battery"}},"composite_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-thermometer"}},"binary_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-thermometer"}},"numeric_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-thermometer"}},"percent_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-thermometer"}},"enum_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-thermometer"}},"raw_sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-thermometer"}},"sensor":{"name":"Sensor","name_plural":"Sensors","icon":{"class":"fas fa-thermometer"}}}')}}]);
//# sourceMappingURL=7257.115c325c.js.map