{"version":3,"file":"static/js/8297.8ed75248.js","mappings":"kJAAO,MAAMA,EACTC,WAAAA,CAAYC,GAQR,GAPAC,KAAKD,OAAS,CACVE,IAAK,CAAC,EAAG,KACTC,IAAK,CAAC,EAAG,KACTC,IAAK,CAAC,EAAG,KACTC,GAAI,CAAC,IAAK,MAGVL,EACA,IAAK,MAAMM,KAAQC,OAAOC,KAAKP,KAAKD,QAC5BA,EAAOM,KACPL,KAAKD,OAAOM,GAAQN,EAAOM,GAC3C,CAEAG,SAAAA,CAAUC,EAAGC,EAAQC,GACjB,OAAOA,EAAO,IAAQF,EAAEC,EAAO,KAAOC,EAAO,GAAGA,EAAO,KAAQD,EAAO,GAAGA,EAAO,GACpF,CAEAE,QAAAA,CAASC,EAAGC,EAAGC,IACVF,EAAGC,EAAGC,GAAK,CACRf,KAAKQ,UAAUK,EAAGb,KAAKD,OAAOE,IAAK,CAAC,EAAG,MACvCD,KAAKQ,UAAUM,EAAGd,KAAKD,OAAOG,IAAK,CAAC,EAAG,MACvCF,KAAKQ,UAAUO,EAAGf,KAAKD,OAAOI,IAAK,CAAC,EAAG,OAG3CY,GAAK,IACL,MAAMC,EAAIF,EAAIG,KAAKC,IAAIH,EAAG,EAAIA,GAAK,IAC7BI,EAAIC,IACN,MAAMC,GAAKD,EAAIP,EAAI,IAAM,GACnBS,EAAQP,EAAIC,EAAIC,KAAKM,IAAIN,KAAKC,IAAIG,EAAI,EAAG,EAAIA,EAAG,IAAK,GAC3D,OAAOJ,KAAKO,MAAM,IAAMF,EAAM,EAGlC,MAAO,CAACH,EAAE,GAAIA,EAAE,GAAIA,EAAE,GAC1B,CAEAM,QAAAA,CAASC,EAAGC,EAAGC,GACXF,GAAK,IACLC,GAAK,IACLC,GAAK,IACL,MAAML,EAAMN,KAAKM,IAAIG,EAAGC,EAAGC,GAAIV,EAAMD,KAAKC,IAAIQ,EAAGC,EAAGC,GACpD,IAAIf,EAAGC,EAAGC,GAAKQ,EAAML,GAAO,EAE5B,GAAGK,IAAQL,EACPL,EAAIC,EAAI,MACL,CACH,MAAMe,EAAIN,EAAML,EAGhB,OAFAJ,EAAIC,EAAI,GAAMc,GAAK,EAAIN,EAAML,GAAOW,GAAKN,EAAML,GAExCK,GACH,KAAKG,EAAGb,GAAKc,EAAIC,GAAKC,GAAKF,EAAIC,EAAI,EAAI,GAAI,MAC3C,KAAKD,EAAGd,GAAKe,EAAIF,GAAKG,EAAI,EAAG,MAC7B,KAAKD,EAAGf,GAAKa,EAAIC,GAAKE,EAAI,EAAG,MAEjChB,GAAK,CACT,CAEA,MAAO,CACHiB,SAAS9B,KAAKQ,UAAUK,EAAG,CAAC,EAAG,GAAIb,KAAKD,OAAOE,MAC/C6B,SAAS9B,KAAKQ,UAAUM,EAAG,CAAC,EAAG,GAAId,KAAKD,OAAOG,MAC/C4B,SAAS9B,KAAKQ,UAAUO,EAAG,CAAC,EAAG,GAAIf,KAAKD,OAAOI,MAEvD,CAEA4B,OAAAA,CAAQtB,EAAGuB,EAAGC,GAEQ,MAAdA,IACAA,EAAajC,KAAKD,OAAOI,IAAI,IAEjC,MAAM+B,EAAI,EAAMzB,EAAIuB,EACdG,GAAKF,GAAcjC,KAAKD,OAAOI,IAAI,GAAG,IAAIiC,QAAQ,GAClDC,EAAKF,EAAIH,EAAKvB,EACd6B,EAAKH,EAAIH,EAAKE,EAGpB,IAAIK,EAAY,SAAJF,EAAmB,QAAJF,EAAmB,QAAJG,EACtCE,EAAe,SAAJH,EAAmB,SAAJF,EAAmB,QAAJG,EACzCG,EAAa,QAAJJ,EAAmB,QAAJF,EAAmB,QAAJG,EAkC3C,OA/BIC,EAAME,GAAQF,EAAMC,GAASD,EAAM,GACnCC,GAAgBD,EAChBE,GAAcF,EACdA,EAAM,GACCC,EAAQC,GAAQD,EAAQD,GAAOC,EAAQ,GAC9CD,GAAYC,EACZC,GAAcD,EACdA,EAAQ,GACDC,EAAOF,GAAOE,EAAOD,GAASC,EAAO,IAC5CF,GAAYE,EACZD,GAAgBC,EAChBA,EAAO,GAIXF,EAAOA,GAAO,SAAY,MAAQA,EAAM,MAAgBtB,KAAKyB,IAAIH,EAAM,EAAM,KAAQ,KACrFC,EAASA,GAAS,SAAY,MAAQA,EAAQ,MAAgBvB,KAAKyB,IAAIF,EAAQ,EAAM,KAAQ,KAC7FC,EAAQA,GAAQ,SAAY,MAAQA,EAAO,MAAgBxB,KAAKyB,IAAID,EAAO,EAAM,KAAQ,KAGzFF,EAAOtB,KAAKO,MAAY,IAANe,GAClBC,EAASvB,KAAKO,MAAc,IAARgB,GACpBC,EAAQxB,KAAKO,MAAa,IAAPiB,GAEfE,MAAMJ,KACNA,EAAM,GACNI,MAAMH,KACNA,EAAQ,GACRG,MAAMF,KACNA,EAAO,GAEJ,CAACF,EAAKC,EAAOC,GAAMG,KACrBC,GAAM5B,KAAKC,IAAID,KAAKM,IAAI,EAAGsB,GAAI,MACxC,CAEAC,OAAAA,CAAQP,EAAKC,EAAOC,GACZF,EAAM,IAAKA,GAAO,KAClBC,EAAQ,IAAKA,GAAS,KACtBC,EAAO,IAAKA,GAAQ,KAGxBF,EAAQA,EAAM,OAAWtB,KAAKyB,KAAKH,EAAM,MAAS,MAAe,KAAQA,EAAM,MAC/EC,EAAUA,EAAQ,OAAWvB,KAAKyB,KAAKF,EAAQ,MAAS,MAAe,KAAQA,EAAQ,MACvFC,EAASA,EAAO,OAAWxB,KAAKyB,KAAKD,EAAO,MAAS,MAAe,KAAQA,EAAO,MAGnF,MAAMJ,EAAY,QAANE,EAAyB,QAARC,EAA0B,QAAPC,EAC1CN,EAAY,QAANI,EAAyB,QAARC,EAA0B,QAAPC,EAC1CH,EAAY,MAANC,EAAyB,OAARC,EAA0B,QAAPC,EAGhD,IAAIhC,EAAMsC,YAAYV,GAAKA,EAAIF,EAAIG,IAAIF,QAAQ,IAC3CJ,EAAMe,YAAYZ,GAAKE,EAAIF,EAAIG,IAAIF,QAAQ,IAO/C,OALIO,MAAMlC,KACNA,EAAI,GACJkC,MAAMX,KACNA,EAAI,GAED,CAACvB,EAAGuB,EACf,CAEAgB,QAAAA,CAAST,EAAKC,EAAOC,GACjB,OAAOxB,KAAKC,IAAI,EAAIlB,KAAKyB,SAASc,EAAKC,EAAOC,GAAM,GAAIzC,KAAKD,OAAOI,IAAI,GAC5E,CAEA8C,MAAAA,CAAO3B,GACH,OAAiB,MAAbA,EAAMiB,KAA8B,MAAfjB,EAAMkB,OAA+B,MAAdlB,EAAMmB,KAC3C,CAACnB,EAAMiB,IAAKjB,EAAMkB,MAAOlB,EAAMmB,MAC3B,MAAXnB,EAAMI,GAAwB,MAAXJ,EAAMK,GAAwB,MAAXL,EAAMM,EACrC,CAACN,EAAMI,EAAGJ,EAAMK,EAAGL,EAAMM,GAChCN,EAAM4B,IACC5B,EAAM4B,SADjB,CAEJ,CAEAC,KAAAA,CAAM7B,GACF,OAAe,MAAXA,EAAMb,GAAwB,MAAXa,EAAMU,EAClB,CAACV,EAAMb,EAAGa,EAAMU,GACvBV,EAAM8B,GACC9B,EAAM8B,QADjB,CAEJ,CAEAC,KAAAA,CAAM/B,GACF,MAAM4B,EAAMlD,KAAKiD,OAAO3B,GACxB,GAAI4B,EACA,OAAOA,EAEX,MAAME,EAAKpD,KAAKmD,MAAM7B,GACtB,OAAI8B,GAAM9B,EAAMnB,IACLH,KAAK+B,WAAWqB,EAAI9B,EAAMnB,KACjCmB,EAAMrB,KAAOqB,EAAMpB,KAAOoB,EAAMnB,IACzBH,KAAKY,SAASU,EAAMrB,IAAKqB,EAAMpB,IAAKoB,EAAMnB,MAErDmD,QAAQC,MAAM,wCACdD,QAAQC,MAAMjC,GAClB,CAEAkC,IAAAA,CAAKlC,GACD,MAAM8B,EAAKpD,KAAKmD,MAAM7B,GACtB,GAAI8B,GAAM9B,EAAMnB,IACZ,MAAO,CAACiD,EAAG,GAAIA,EAAG,GAAI9B,EAAMnB,KAEhC,MAAM+C,EAAMlD,KAAKiD,OAAO3B,GACxB,GAAI4B,EACA,OAAOlD,KAAK8C,WAAWI,GAE3B,GAAI5B,EAAMrB,KAAOqB,EAAMpB,KAAOoB,EAAMnB,IAAK,CACrC,MAAM+C,EAAMlD,KAAKY,SAASU,EAAMrB,IAAKqB,EAAMpB,IAAKoB,EAAMnB,KACtD,OAAOH,KAAK8C,WAAWI,EAC3B,CAEAI,QAAQC,MAAM,mCACdD,QAAQC,MAAMjC,EAClB,CAEAmC,KAAAA,CAAMnC,GACF,GAAIA,EAAMrB,KAAOqB,EAAMpB,KAAOoB,EAAMnB,IAChC,MAAO,CAACmB,EAAMrB,IAAKqB,EAAMpB,IAAKoB,EAAMnB,KAExC,MAAM+C,EAAMlD,KAAKiD,OAAO3B,GACxB,GAAI4B,EACA,OAAOlD,KAAKyB,YAAYyB,GAE5B,MAAME,EAAKpD,KAAKmD,MAAM7B,GACtB,GAAI8B,GAAM9B,EAAMnB,IAAK,CACjB,MAAM+C,EAAMlD,KAAK+B,WAAWqB,EAAI9B,EAAMnB,KACtC,OAAOH,KAAKyB,YAAYyB,EAC5B,CAEAI,QAAQC,MAAM,mCACdD,QAAQC,MAAMjC,EAClB,CAEAoC,QAAAA,CAASC,GACL,MAAO,CACLA,EAAIC,MAAM,EAAG,GACbD,EAAIC,MAAM,EAAG,GACbD,EAAIC,MAAM,EAAG,IACbhB,KAAIiB,GAAK/B,SAAS+B,EAAG,KAC3B,CAEAC,QAAAA,CAASZ,GACP,MAAO,IAAMA,EAAIN,KAAKnC,IAClB,IAAIkD,EAAMlD,EAAEsD,SAAS,IAGrB,OAFIJ,EAAIK,OAAS,IACfL,EAAM,IAAMA,GACPA,CAAG,IACTM,KAAK,GACZ,E,+FCpOKC,MAAM,kB,uCAMLA,MAAM,oB,sGANdC,EAAAA,EAAAA,IAqBQ,QArBRC,EAqBQ,CApB8DC,EAAAC,Y,WAApEH,EAAAA,EAAAA,IAGO,Q,MAHDD,OAAKK,EAAAA,EAAAA,IAAA,CAAC,eAAc,cAAwBF,EAAAG,c,CACjBH,EAAAC,Y,WAA/BH,EAAAA,EAAAA,IAA8D,Q,MAAxDD,MAAM,a,aAA8BO,EAAAA,EAAAA,IAAQJ,EAASK,MAAH,K,2BACxBL,EAAAC,Y,WAAhCH,EAAAA,EAAAA,IAA+D,Q,MAAzDD,MAAM,c,aAA+BO,EAAAA,EAAAA,IAAQJ,EAASK,MAAH,K,iDAG3DC,EAAAA,EAAAA,IAcO,OAdPC,EAcO,EAbLD,EAAAA,EAAAA,IAU8C,SAVvCT,OAAKK,EAAAA,EAAAA,IAAA,CAAC,SAAQ,cAESF,EAAAG,aADvBK,KAAK,QAEJ3D,IAAKmD,EAAAK,MAAM,GACXnD,IAAK8C,EAAAK,MAAM,GACXI,KAAMT,EAAAS,KACNC,SAAUV,EAAAU,SACVC,MAAOX,EAAAW,MACRC,IAAI,QACHC,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAAC,GAAOC,EAAAC,MAAM,QAASF,IAAM,WACjCG,SAAML,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAAC,GAAOC,EAAAC,MAAM,SAAUF,IAAM,Y,WAEjBhB,EAAAG,Y,WAA1BL,EAAAA,EAAAA,IAAuE,Q,MAAjED,MAAM,Q,aAAyBO,EAAAA,EAAAA,IAAQJ,EAAMW,OAACC,IAAI,S,+BAM9D,OACEQ,MAAO,CAAC,QAAS,UACjBC,MAAO,CACLV,MAAO,CACLH,KAAMc,QAGRZ,SAAU,CACRF,KAAMe,QACNC,SAAS,GAGXnB,MAAO,CACLG,KAAMiB,MACND,QAASA,IAAM,CAAC,EAAG,MAGrBf,KAAM,CACJD,KAAMc,OACNE,QAAS,GAGXrB,UAAW,CACTK,KAAMe,QACNC,SAAS,GAGXvB,UAAW,CACTO,KAAMe,QACNC,SAAS,K,UChDf,MAAME,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,gHCAY9B,MAAM,S,0CARhBC,EAAAA,EAAAA,IAYM,OAZDD,OAAKK,EAAAA,EAAAA,IAAA,CAAC,eAAc,CAAAQ,SAAoBV,EAAAU,YAAYkB,QAAKd,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAc,IAAOC,EAAAjB,SAAAiB,EAAAjB,WAAAgB,IAAO,Y,EAE1EvB,EAAAA,EAAAA,IAAiD,SAA1CE,KAAK,WAAYuB,QAAS/B,EAAAW,MAAQqB,GAAIhC,EAAAgC,I,WAC7C1B,EAAAA,EAAAA,IAQQ,c,aANNA,EAAAA,EAAAA,IAEM,OAFDT,MAAM,UAAQ,EACjBS,EAAAA,EAAAA,IAAmB,OAAdT,MAAM,U,KAEbS,EAAAA,EAAAA,IAEO,OAFP2B,EAEO,EADLC,EAAAA,EAAAA,IAAQjB,EAAAkB,OAAA,kBAAAC,GAAA,Q,GAOhB,OACEC,KAAM,eACNjB,MAAO,CAAC,SACRC,MAAO,CACLW,GAAI,CACFxB,KAAM8B,QAGR3B,MAAO,CACLH,KAAMe,QACNC,SAAS,GAGXd,SAAU,CACRF,KAAMe,QACNC,SAAS,IAIbe,QAAS,CACP1B,OAAAA,CAAQ2B,GACN,GAAI7G,KAAK+E,SACP,OAAO,EAET/E,KAAKuF,MAAM,QAASsB,EACtB,I,UCnCJ,MAAMd,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O,2FCRO9B,MAAM,wB,GACJA,MAAM,S,SACJA,MAAM,2B,SAQNA,MAAM,qC,SAiBNA,MAAM,S,yFA3BfC,EAAAA,EAAAA,IA2CM,MA3CNC,EA2CM,EA1CJO,EAAAA,EAAAA,IAyCM,MAzCN2B,EAyCM,CAxCwD,MAAjBQ,EAAAC,eAAyBzG,OAAOC,KAAK8D,EAAA2C,QAAU,CAAC,GAAGhD,S,WAA9FG,EAAAA,EAAAA,IAMM,MANN8C,EAMM,EALJC,EAAAA,EAAAA,IAIkDC,EAAA,CAJzCH,OAAQ3C,EAAA2C,OACR,iBAAgB3C,EAAA+C,cAChB,kBAAiB/C,EAAAgD,eACjBC,SAAMnC,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAAC,cAAgB1B,GACxBkC,SAAMpC,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,eAAgBF,K,yEAI9B/E,OAAOC,KAAK4F,EAAAqB,iBAAmB,CAAC,GAAGxD,QAA2B,MAAjB8C,EAAAC,gB,WADxD5C,EAAAA,EAAAA,IAeM,MAfNS,EAeM,EAbFsC,EAAAA,EAAAA,IAY2DO,EAAA,CAZnDC,MAAOvB,EAAAqB,gBACPG,OAAQxB,EAAAqB,gBACRI,OAAQzB,EAAA0B,cAAcf,EAAAC,eACtB,kBAAiB1C,EAAAgD,eACjBS,WAAY3B,EAAA4B,kBAAkBjB,EAAAC,eAC9B,oBAAkB,EACnBiB,MAAM,mBACLC,QAAK9C,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAAC,cAAgB,MACvBmB,cAAY/C,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,eAAgBF,IACpC8C,cAAYhD,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,eAAgB,CAAjB6C,QAA2BtB,EAAAC,cAAasB,QAAWhD,KACtEiD,WAASnD,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,YAAaF,IAC9BkD,iBAAepD,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,kBAAmBF,IAC1CmD,gBAAcrD,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,iBAAkBF,K,sFAG3BhB,EAAA2C,SAASF,EAAAC,iB,WAAlC5C,EAAAA,EAAAA,IAcM,MAdNsE,EAcM,EAbJvB,EAAAA,EAAAA,IAY2DO,EAAA,CAZnDC,MAAOrD,EAAA2C,OAAOF,EAAAC,eACdY,OAAQxB,EAAAuC,gBACRd,OAAQzB,EAAA0B,cAAcf,EAAAC,eACtB,kBAAiB1C,EAAAgD,eACjBS,WAAY3B,EAAA4B,kBAAkBjB,EAAAC,eAC9BkB,QAAK9C,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAAC,cAAgB,MACvB4B,cAAYxD,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,eAAgBF,IACpC6C,cAAY/C,EAAA,MAAAA,EAAA,IAAAE,GAAEC,EAAAC,MAAM,eAAgBF,IACpC8C,cAAYhD,EAAA,MAAAA,EAAA,IAAAE,GAAEC,EAAAC,MAAM,eAAgB,CAAjB6C,QAA2BtB,EAAAC,cAAasB,QAAWhD,KACtEuD,WAASzD,EAAA,MAAAA,EAAA,IAAAE,GAAEC,EAAAC,MAAM,YAAa,CAAd6C,QAAwBtB,EAAAC,cAAa/B,MAASK,KAC9DiD,WAASnD,EAAA,MAAAA,EAAA,IAAAE,GAAEC,EAAAC,MAAM,YAAaF,IAC9BkD,iBAAepD,EAAA,MAAAA,EAAA,IAAAE,GAAEC,EAAAC,MAAM,kBAAmBF,IAC1CmD,gBAAcrD,EAAA,MAAAA,EAAA,IAAAE,GAAEC,EAAAC,MAAM,iBAAkBF,K,wGCxCxD,GACEqB,KAAM,QACNjB,MAAO,CAAC,WACRC,MAAO,CAELmD,OAAQ,CACNhE,KAAMvE,OACNuF,QAASA,QAIXiD,WAAY,CACVjE,KAAM8B,OACNoC,UAAU,IAIdC,IAAAA,GACE,MAAO,CACLC,SAAS,EAEb,EAEAC,OAAAA,GACElJ,KAAKuF,MAAM,UAAWvF,KACxB,GCvBF,MAAM+F,EAAc,EAEpB,Q,iBCJO7B,MAAM,0B,GAEFA,MAAM,oB,GAOJA,MAAM,oB,iBAMLA,MAAM,c,GAGNA,MAAM,6B,mGAlBlBC,EAAAA,EAAAA,IAwBM,MAxBNC,EAwBM,EAvBJ8C,EAAAA,EAAAA,IAsBYiC,EAAA,M,kBArBV,IAUM,EAVNxE,EAAAA,EAAAA,IAUM,MAVN2B,EAUM,C,aATJ3B,EAAAA,EAAAA,IAEM,OAFDT,MAAM,SAAO,EAChBS,EAAAA,EAAAA,IAA8B,KAA3BT,MAAM,uB,iBAEXS,EAAAA,EAAAA,IAEM,OAFDT,MAAM,cAAa,WAExB,KACAS,EAAAA,EAAAA,IAEM,MAFNsC,EAEM,EADJC,EAAAA,EAAAA,IAA8DkC,EAAA,CAA/CpE,MAAOmB,EAAAkD,YAAcnE,QAAKC,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,Y,qCAIrDpB,EAAAA,EAAAA,IAQMmF,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAR2CpD,EAAAqD,cAAT9B,K,WAAxCvD,EAAAA,EAAAA,IAQM,OARDD,MAAM,sBAAqDuF,IAAK/B,EAAMrB,GAAKJ,QAAKZ,GAAEC,EAAAC,MAAM,SAAUmC,EAAMrB,K,EAC3G1B,EAAAA,EAAAA,IAEO,OAFP8D,GAEOhE,EAAAA,EAAAA,IADFiD,EAAMhB,MAAQ,UAAUgB,EAAMrB,OAAE,IAErC1B,EAAAA,EAAAA,IAGO,OAHP+E,EAGO,EAFLxC,EAAAA,EAAAA,IACgDkC,EAAA,CADjCpE,MAAO0C,EAAMiC,MAAMC,OAAS7E,SAAU2C,EAAMrB,MAAOhC,EAAA+C,eAAiB,CAAC,GACrElC,QAAKG,GAAEC,EAAAC,MAAM,SAAUmC,I,4ECpBzCxD,MAAM,c,GACJA,MAAM,W,0CADbC,EAAAA,EAAAA,IAIM,MAJNC,EAIM,EAHJO,EAAAA,EAAAA,IAEM,MAFN2B,EAEM,EADJC,EAAAA,EAAAA,IAAQjB,EAAAkB,OAAA,c,CAMd,OACEE,KAAM,a,UCHR,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,KAEpE,Q,kBFwBA,GACEA,KAAM,SACNmD,WAAY,CAACC,aAAY,IAAEC,UAASA,GACpCtE,MAAO,CAAC,SAAU,UAClBC,MAAO,CACLsB,OAAQ,CACNnC,KAAMvE,OACNuF,QAASA,QAGXuB,cAAe,CACbvC,KAAMvE,OACNuF,QAASA,QAGXwB,eAAgB,CACdxC,KAAMvE,OACNuF,QAASA,IAAM,IAAIhG,EAAAA,IAIvBmK,SAAU,CACRR,YAAAA,GACE,OAAOlJ,OAAO2J,QAAQjK,KAAKgH,QACtBkD,MAAK,CAAClJ,EAAGY,IAAMZ,EAAE,GAAG0F,KAAKyD,cAAcvI,EAAE,GAAG8E,QAC5C9D,KAAI,EAAEyD,EAAIqB,MACF,IACFA,EACHrB,GAAIA,KAGd,EAEAgD,WAAAA,GACE,IAAK,MAAM3B,KAASpH,OAAO8J,OAAOpK,KAAKgH,QACrC,GAAIU,GAAOiC,OAAOC,OAChB,OAAO,EAEX,OAAO,CACT,IGjEJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,SCRO1F,MAAM,yB,GAEFA,MAAM,oB,SACJA,MAAM,S,2BASNA,MAAM,oB,SAKRA,MAAM,a,SAINA,MAAM,e,GACJA,MAAM,qB,qBAYNA,MAAM,gB,uBAYNA,MAAM,gB,uBASNA,MAAM,+B,SAONA,MAAM,+B,wLA9DjBC,EAAAA,EAAAA,IAsEM,MAtENC,EAsEM,EArEJ8C,EAAAA,EAAAA,IAoEYiC,EAAA,M,kBAnEV,IAaM,EAbNxE,EAAAA,EAAAA,IAaM,MAbN2B,EAaM,CAZqBjC,EAAAqD,Q,WAAzBvD,EAAAA,EAAAA,IAIM,MAJN8C,EAIM,CAHuD5C,EAAAgG,iB,WAA3DlG,EAAAA,EAAAA,IAES,U,MAFDD,MAAM,WAAW8D,MAAM,OAAQ/B,QAAKd,EAAA,KAAAA,EAAA,OAAAe,IAAEC,EAAAmE,OAAAnE,EAAAmE,SAAApE,K,kBAC5CvB,EAAAA,EAAAA,IAAiC,KAA9BT,MAAM,uBAAqB,e,mCAIlCS,EAAAA,EAAAA,IAC4F,OADvFT,OAAKK,EAAAA,EAAAA,IAAA,CAAC,aAAY,CAAAgG,SAAqC,UAAjBzD,EAAA0D,gB,aACtC/F,EAAAA,EAAAA,IAAQ0B,EAAUsE,WAAExE,QAAKd,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAA0D,aAAgC,UAAjB1D,EAAA0D,aAA2B,KAAO,U,WAE7CnG,EAAAqD,Q,WAApCvD,EAAAA,EAAAA,IAEM,MAFNsE,EAEM,EADJvB,EAAAA,EAAAA,IAA2EkC,EAAA,CAA5DpE,MAAOmB,EAAAkD,YAAcnE,QAAKC,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,eAAgBlB,EAAAqD,S,uCAIvCrD,EAAAsD,QAAWrH,OAAOC,KAAK8D,EAAAsD,QAAQ3D,S,WAI7DG,EAAAA,EAAAA,IA+CM,MA/CNuG,EA+CM,EA9CJ/F,EAAAA,EAAAA,IAUM,MAVNgG,EAUM,EATJhG,EAAAA,EAAAA,IAES,UAFAT,OAAKK,EAAAA,EAAAA,IAAA,CAAAgG,SAA8B,WAAjBzD,EAAA0D,eAA6BxC,MAAO3D,EAAA2D,MAAQ/B,QAAKd,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAA0D,aAAe,W,oBAC3F7F,EAAAA,EAAAA,IAAmC,KAAhCT,MAAM,yBAAuB,Y,OAElCS,EAAAA,EAAAA,IAES,UAFAT,OAAKK,EAAAA,EAAAA,IAAA,CAAAgG,SAA8B,WAAjBzD,EAAA0D,eAA4BxC,MAAM,SAAU/B,QAAKd,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAA0D,aAAe,W,oBAC3F7F,EAAAA,EAAAA,IAA+B,KAA5BT,MAAM,qBAAmB,Y,IAE9BS,EAAAA,EAAAA,IAES,UAFAT,OAAKK,EAAAA,EAAAA,IAAA,CAAAgG,SAA8B,YAAjBzD,EAAA0D,eAA6BxC,MAAM,UAAW/B,QAAKd,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAA0D,aAAe,Y,oBAC7F7F,EAAAA,EAAAA,IAA+B,KAA5BT,MAAM,qBAAmB,Y,KAIiB,WAAjB4C,EAAA0D,e,WAAhCrG,EAAAA,EAAAA,IAUM,MAVNyG,EAUM,G,WATJC,EAAAA,EAAAA,IAQaC,EAAAA,GAAA,Q,aAPX3G,EAAAA,EAAAA,IAMMmF,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IALqBpD,EAAA4E,cAAY,CAA1BC,EAAO3E,M,WADpBlC,EAAAA,EAAAA,IAMM,OANDD,OAAKK,EAAAA,EAAAA,IAAA,CAAC,gBAAe,CAAA0G,SAAoBD,EAAM3E,KAAOS,EAAAoE,iBACjBzB,IAAKpD,EACzCJ,QAAKZ,GAAEyB,EAAAoE,cAAgBpE,EAAAoE,gBAAkBF,EAAM3E,GAAK,KAAO2E,EAAM3E,I,EACrEa,EAAAA,EAAAA,IAEwEiE,EAAA,CAFhEH,MAAOA,EAAQtD,MAAOrD,EAAAqD,MAAQ0D,UAAWJ,EAAM3E,KAAOS,EAAAoE,cACtD,kBAAiB7G,EAAAgD,eAAiBE,SAAMlC,GAAEC,EAAAC,MAAM,eAAgByF,GAChE1C,WAASjD,GAAEC,EAAAC,MAAM,YAAa,CAAdyF,MAAsBA,EAAKhG,MAASK,K,2GAKZ,WAAjByB,EAAA0D,e,WAArCrG,EAAAA,EAAAA,IAOM,MAPNkH,EAOM,G,WANJR,EAAAA,EAAAA,IAKaC,EAAAA,GAAA,Q,aAJX3G,EAAAA,EAAAA,IAGMmF,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAFqBpD,EAAAmF,cAAY,CAA1BC,EAAOlF,M,WADpBlC,EAAAA,EAAAA,IAGM,OAHDD,OAAKK,EAAAA,EAAAA,IAAA,CAAC,gBAAe,CAAAgG,SAAoBgB,EAAMlF,KAAOS,EAAA0E,iBACjB/B,IAAKpD,EAAKJ,QAAKZ,GAAEc,EAAAsF,gBAAgBF,EAAMlF,K,EAC/Ea,EAAAA,EAAAA,IAAuCwE,EAAA,CAA/BH,MAAOA,EAAQ7D,MAAOrD,EAAAqD,O,qDAKiC,UAAjBZ,EAAA0D,e,WAApDrG,EAAAA,EAAAA,IAKM,MALNwH,EAKM,G,WAJJd,EAAAA,EAAAA,IAGaC,EAAAA,GAAA,OAFX5D,EAAAA,EAAAA,IACoD0E,EAAA,CADzClE,MAAOrD,EAAAqD,MAAQC,OAAQtD,EAAAsD,OAAS,kBAAiBtD,EAAAgD,eACjDuB,WAASzD,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,YAAaF,K,wDAIwB,YAAjByB,EAAA0D,e,WAApDrG,EAAAA,EAAAA,IAKM,MALN0H,EAKM,G,WAJJhB,EAAAA,EAAAA,IAGaC,EAAAA,GAAA,OAFX5D,EAAAA,EAAAA,IAC6F4E,EAAA,CADnFpE,MAAOrD,EAAAqD,MAAQC,OAAQtD,EAAAsD,OAAS,kBAAiBtD,EAAAgD,eAAiB,qBAAoBhD,EAAAyD,WACtFiE,QAAK5G,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,kBAAmBF,IAAU2G,OAAI7G,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,iBAAkBF,K,6GAhDxFlB,EAAAA,EAAAA,IAEM,MAFNuF,EAAqE,yB,iBChBlExF,MAAM,O,GAIHA,MAAM,2B,SAKTA,MAAM,e,kGAVbC,EAAAA,EAAAA,IAcM,OAdDD,OAAKK,EAAAA,EAAAA,IAAA,CAAC,QAAO,CAAA0G,UAAqB5G,EAAA+G,aAAYnG,IAAI,W,EACrDN,EAAAA,EAAAA,IAOM,MAPNP,EAOM,EANJO,EAAAA,EAAAA,IAEO,QAFDT,MAAM,aAAc+B,QAAKd,EAAA,KAAAA,EAAA,OAAAe,IAAEC,EAAA8F,cAAA9F,EAAA8F,gBAAA/F,M,QAC5B7B,EAAA2G,MAAMtE,MAAQ,UAAUrC,EAAA2G,MAAM3E,OAAE,IAErC1B,EAAAA,EAAAA,IAEO,OAFP2B,EAEO,EADLY,EAAAA,EAAAA,IAA4FkC,EAAA,CAA7EpE,MAAOX,EAAA2G,MAAMrB,MAAMuC,GAAKnH,SAAUV,EAAA4E,QAAU/D,QAAKC,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,SAAUlB,EAAA2G,S,iCAItD3G,EAAA+G,W,4BAAhCjH,EAAAA,EAAAA,IAGM,MAHN8C,EAGM,EAFJC,EAAAA,EAAAA,IACoD0E,EAAA,CADzCZ,MAAO3G,EAAA2G,MAAQ/B,QAAS5E,EAAA4E,QAAU,kBAAiB5E,EAAAgD,eACnDiB,WAASnD,EAAA,KAAAA,EAAA,GAAAE,GAAEC,EAAAC,MAAM,YAAaF,K,oFCTtCnB,MAAM,O,IAIJA,MAAM,kB,UAMRA,MAAM,O,IAIJA,MAAM,kB,UAMNA,MAAM,O,IAILA,MAAM,kB,yGA3BhBC,EAAAA,EAAAA,IA+BM,OA/BDD,MAAM,0BAA2B+B,QAAKd,EAAA,KAAAA,EAAA,GAAAE,GAAEA,EAAO8G,oB,CACnC9H,EAAA4E,U,WAAf4B,EAAAA,EAAAA,IAA0BuB,EAAA,CAAA3C,IAAA,M,eAEU,MAAbtD,EAAAwD,MAAMxJ,M,WAA7BgE,EAAAA,EAAAA,IAQM,MARNC,GAQM,C,aAPJO,EAAAA,EAAAA,IAEM,OAFDT,MAAM,cAAY,EACrBS,EAAAA,EAAAA,IAAwB,KAArBT,MAAM,iB,KAEXS,EAAAA,EAAAA,IAGM,MAHN2B,GAGM,EAFJY,EAAAA,EAAAA,IAC+GmF,EAAA,CADtG3H,MAAOL,EAAAgD,eAAetH,OAAOI,IAAM4E,SAAUV,EAAA4E,QAAUjE,MAAOmB,EAAAwD,MAAMxJ,IACpEqF,SAAML,EAAA,KAAAA,EAAA,IAAAC,EAAAA,GAAAA,KAAAC,GAAOC,EAAAC,MAAMlB,EAAA2G,MAAQ,YAAc,YAAa,CAA9B/I,WAA2CH,SAASuD,EAAOiH,OAAOtH,UAAK,Y,0DAIzE,MAAZmB,EAAAwD,MAAMvJ,K,WAA7B+D,EAAAA,EAAAA,IAQM,MARN8C,GAQM,C,aAPJtC,EAAAA,EAAAA,IAEM,OAFDT,MAAM,cAAY,EACrBS,EAAAA,EAAAA,IAAqC,KAAlCT,MAAM,8B,KAEXS,EAAAA,EAAAA,IAGM,MAHNC,GAGM,EAFJsC,EAAAA,EAAAA,IACgHmF,EAAA,CADvG3H,MAAOL,EAAAgD,eAAetH,OAAOK,GAAK2E,SAAUV,EAAA4E,QAAUjE,MAAOmB,EAAAwD,MAAMvJ,GACnEoF,SAAML,EAAA,KAAAA,EAAA,IAAAC,EAAAA,GAAAA,KAAAC,GAAOC,EAAAC,MAAMlB,EAAA2G,MAAQ,YAAc,YAAa,CAA9BuB,YAA4CzK,SAASuD,EAAOiH,OAAOtH,UAAK,Y,0DAIpFmB,EAAAqG,W,WAAzBrI,EAAAA,EAAAA,IAOQ,QAPRsE,GAOQ,C,aANN9D,EAAAA,EAAAA,IAEO,QAFDT,MAAM,cAAY,EACtBS,EAAAA,EAAAA,IAA4B,KAAzBT,MAAM,qB,KAEXS,EAAAA,EAAAA,IAEO,OAFP+E,GAEO,EADL/E,EAAAA,EAAAA,IAAqE,SAA9DE,KAAK,QAASG,MAAOmB,EAAAqG,SAAWhH,SAAML,EAAA,KAAAA,EAAA,IAAAC,EAAAA,GAAAA,KAAA,IAAAc,IAAOC,EAAAsG,eAAAtG,EAAAsG,iBAAAvG,IAAa,Y,6DAWzE,IACEQ,KAAM,WACNmD,WAAY,CAAC6C,QAAO,KAAEC,OAAMA,GAAAA,GAC5BlH,MAAO,CAAC,YAAa,aACrBC,MAAO,CACLsF,MAAO,CACLnG,KAAMvE,QAGRqH,OAAQ,CACN9C,KAAMvE,QAGRoH,MAAO,CACL7C,KAAMvE,QAGR2I,QAAS,CACPpE,KAAMe,QACNC,SAAS,GAGXwB,eAAgB,CACdxC,KAAMvE,OACNuF,QAASA,IAAM,IAAIhG,EAAAA,IAIvBmK,SAAU,CACRL,KAAAA,GACE,GAAI3J,KAAKgL,OAAOrB,MACd,OAAO3J,KAAKgL,MAAMrB,MAEpB,MAAMA,EAAQ3J,KAAK0H,OAAOiC,OAAS,CAAC,EACpC,IAAK3J,KAAK2H,OACR,OAAOgC,EAET,MAAMiD,EAAOxC,GACLA,GAAUA,EAAOpG,OAGnBoG,EAAO,aAActE,MAChB,IAAIsE,EAAO,GAAG7J,QAAQqC,KAAKiK,GACzBD,EAAIxC,EAAOxH,KAAKoC,GAAUA,EAAM6H,QAGpCzC,EAAO0C,QAAO,CAACC,EAAK/H,IAAU+H,EAAI/H,GAAO,GAAKoF,EAAOpG,OAPnD,EAUX,MAAO,IACF2F,KACArJ,OAAO2J,QACN3J,OAAO8J,OAAOpK,KAAK2H,QAAQmF,QAAO,CAACE,EAAKhC,KACtC,CAAC,MAAO,MAAO,MAAO,MAAO,KAAM,MAAO,QAAS,OAAQ,MAAMiC,SAAS5M,IAC7C,MAAvB2K,EAAMrB,QAAQtJ,KAChB2M,EAAI3M,GAAQ,IAAK2M,EAAI3M,IAAS,GAAK2K,EAAMrB,MAAMtJ,IACjD,IAGK2M,IACN,CAAC,IACNF,QAAO,CAACE,GAAM3M,EAAM+J,MACpB4C,EAAI3M,GAAQuM,EAAIxC,GACT4C,IACN,CAAC,GAER,EAEA1L,KAAAA,GACE,OAAOtB,KAAKkN,SAASlN,KAAK2J,MAC5B,EAEA6C,QAAAA,GACE,MAAMtJ,EAAMlD,KAAKqH,eAAehE,MAAMrD,KAAK2J,OAC3C,OAAIzG,EACK,IAAMA,EAAIN,KAAKnC,IACpB,IAAIkD,EAAMlD,EAAEsD,SAAS,IAGrB,OAFIJ,EAAIK,OAAS,IACfL,EAAM,IAAMA,GACPA,CAAE,IACRM,KAAK,IAEH,IACT,GAGF2C,QAAS,CACP6F,aAAAA,CAAc5F,GACZ,MAAM3D,EAAM2D,EAAMyF,OAAOtH,MAAMpB,MAAM,GAAGuJ,MAAM,gBAAgBvK,KAAKwK,GAAMtL,SAAU,KAAIsL,OACvFpN,KAAKuF,MAAMvF,KAAKgL,MAAQ,YAAc,YAAa,CACjD9H,IAAKA,EACLE,GAAIpD,KAAKqH,eAAevE,WAAWI,GACnCmK,IAAKrN,KAAKqH,eAAe5F,YAAYyB,GACrCjB,WAAYjC,KAAKqH,eAAerE,YAAYE,IAEhD,EAEAgK,QAAAA,CAASvD,GACP,MAAO,CACLzG,IAAKlD,KAAKqH,eAAehE,MAAMsG,GAC/BvG,GAAIpD,KAAKqH,eAAe7D,KAAKmG,GAC7B0D,IAAKrN,KAAKqH,eAAe5D,MAAMkG,GAEnC,ICvIJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UFaA,IACEjD,KAAM,QACNmD,WAAY,CAACyD,SAAQ,GAAExD,aAAYA,EAAAA,GACnCrE,MAAO,CAAC,SAAU,YAAa,YAAa,YAC5CC,MAAO,CACLsF,MAAO,CACLnG,KAAMvE,OACNuF,QAASA,QAGX6B,MAAO,CACL7C,KAAMvE,OACNuF,QAASA,QAGXoD,QAAS,CACPpE,KAAMe,QACNC,SAAS,GAGXuF,UAAW,CACTvG,KAAMe,QACNC,SAAS,GAGXwB,eAAgB,CACdxC,KAAMvE,OACNuF,QAASA,IAAM,IAAIhG,EAAAA,IAIvB+G,QAAS,CACPqF,YAAAA,GACEjM,KAAKuF,MAAMvF,KAAKoL,UAAY,WAAa,YAC3C,IGlDJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,U,0FCRiB/G,EAAA4E,U,WAAf4B,EAAAA,EAAAA,IAA0BuB,EAAA,CAAA3C,IAAA,M,gBAC1B9E,EAAAA,EAAAA,IAEM,OAFDT,MAAM,iBAAkB+B,QAAKd,EAAA,KAAAA,EAAA,OAAAe,IAAEC,EAAAmB,UAAAnB,EAAAmB,YAAApB,M,QAC/B7B,EAAAkH,MAAM7E,MAAQ,UAAUrC,EAAAkH,MAAMlF,OAAE,I,IAKvC,QACEK,KAAM,QACNjB,MAAO,CAAC,UACRC,MAAO,CACL6F,MAAO,CACL1G,KAAMvE,OACNuF,QAASA,QAGX6B,MAAO,CACL7C,KAAMvE,OACNuF,QAASA,QAGXoD,QAAS,CACPpE,KAAMe,QACNC,SAAS,IAIbe,QAAS,CACPU,QAAAA,GACE,GAAItH,KAAKiJ,QACP,OAAO,EAETjJ,KAAKuF,MAAM,SACb,IC7BJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,UCHSrB,MAAM,uB,IACJA,MAAM,oB,IACJA,MAAM,O,IAIJA,MAAM,S,IAKRA,MAAM,O,IAEJA,MAAM,S,IAWVA,MAAM,a,UACJA,MAAM,O,IAIJA,MAAM,S,UAORA,MAAM,O,IAIJA,MAAM,S,UAORA,MAAM,O,IAIJA,MAAM,S,UAORA,MAAM,O,IAIJA,MAAM,S,UAORA,MAAM,O,IAIJA,MAAM,S,UAORA,MAAM,O,IAIJA,MAAM,S,IAORA,MAAM,O,IAIJA,MAAM,S,iBAQRA,MAAM,O,IAIJA,MAAM,S,iBAUZA,MAAM,U,IACJA,MAAM,O,qMAzHfC,EAAAA,EAAAA,IAwIM,OAxIDD,MAAM,8BAA+B+B,QAAKd,EAAA,MAAAA,EAAA,IAAAE,GAAEA,EAAO8G,oB,CACvC9H,EAAA4E,U,WAAf4B,EAAAA,EAAAA,IAA0BuB,EAAA,CAAA3C,IAAA,M,gBAE1B9E,EAAAA,EAAAA,IAmHM,MAnHNP,GAmHM,EAlHJO,EAAAA,EAAAA,IAqBM,MArBN2B,GAqBM,EApBJ3B,EAAAA,EAAAA,IAOM,MAPNsC,GAOM,C,eANJtC,EAAAA,EAAAA,IAEM,OAFDT,MAAM,SAAQ,mBAEnB,KACAS,EAAAA,EAAAA,IAEM,MAFNC,GAEM,EADJsC,EAAAA,EAAAA,IAAmEkC,EAAA,CAApDpE,MAAOmB,EAAAoH,iBAAmBrI,QAAOiB,EAAAqH,iB,iCAIpD7I,EAAAA,EAAAA,IAUM,MAVN8D,GAUM,C,eATJ9D,EAAAA,EAAAA,IAAkC,OAA7BT,MAAM,SAAQ,aAAS,KAC5BS,EAAAA,EAAAA,IAOM,MAPN+E,GAOM,EANJ/E,EAAAA,EAAAA,IAKQ,eAJNA,EAAAA,EAAAA,IAGS,UAHDT,MAAM,WAAY+B,QAAKd,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAA2G,kBAAoBpI,EAAOiH,OAAOtH,Q,oBACjEL,EAAAA,EAAAA,IAA0D,UAAlDK,MAAM,oBAAmB,oBAAgB,IACjDL,EAAAA,EAAAA,IAAoC,UAA5BK,MAAM,SAAQ,SAAK,gBAOrCL,EAAAA,EAAAA,IA0FM,MA1FN+F,GA0FM,CAzFyC,qBAAtB5D,EAAA2G,oB,WAAvBtJ,EAAAA,EAAAA,IASM,MATNwG,GASM,C,eARJhG,EAAAA,EAAAA,IAEM,OAFDT,MAAM,SAAQ,eAEnB,KACAS,EAAAA,EAAAA,IAIM,MAJN+I,GAIM,EAHJxG,EAAAA,EAAAA,IAEsFyG,EAAA,CAFxEjJ,MAAOL,EAAAgD,eAAetH,OAAOE,IAAM8E,SAAUV,EAAA4E,QAC7CjE,MAAO8B,EAAAgB,WAAW8F,iBAAiBC,UACnCC,UAAO3I,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAAgB,WAAW8F,iBAAiBC,UAAYxI,EAAOiH,OAAOtH,Q,0DAIpC,qBAAtB8B,EAAA2G,oB,WAAvBtJ,EAAAA,EAAAA,IASM,MATNyG,GASM,C,eARJjG,EAAAA,EAAAA,IAEM,OAFDT,MAAM,SAAQ,eAEnB,KACAS,EAAAA,EAAAA,IAIM,MAJNoJ,GAIM,EAHJ7G,EAAAA,EAAAA,IAEsFyG,EAAA,CAFxEjJ,MAAOL,EAAAgD,eAAetH,OAAOG,IAAM6E,SAAUV,EAAA4E,QAC7CjE,MAAO8B,EAAAgB,WAAW8F,iBAAiBI,UACnCF,UAAO3I,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAAgB,WAAW8F,iBAAiBI,UAAY3I,EAAOiH,OAAOtH,Q,0DAIpC,qBAAtB8B,EAAA2G,oB,WAAvBtJ,EAAAA,EAAAA,IASM,MATNkH,GASM,C,eARJ1G,EAAAA,EAAAA,IAEM,OAFDT,MAAM,SAAQ,eAEnB,KACAS,EAAAA,EAAAA,IAIM,MAJNsJ,GAIM,EAHJ/G,EAAAA,EAAAA,IAEsFyG,EAAA,CAFxEjJ,MAAOL,EAAAgD,eAAetH,OAAOG,IAAM6E,SAAUV,EAAA4E,QAC7CjE,MAAO8B,EAAAgB,WAAW8F,iBAAiBM,UACnCJ,UAAO3I,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAAgB,WAAW8F,iBAAiBM,UAAY7I,EAAOiH,OAAOtH,Q,0DAIpC,qBAAtB8B,EAAA2G,oB,WAAvBtJ,EAAAA,EAAAA,IASM,MATNwH,GASM,C,eARJhH,EAAAA,EAAAA,IAEM,OAFDT,MAAM,SAAQ,cAEnB,KACAS,EAAAA,EAAAA,IAIM,MAJNkH,GAIM,EAHJ3E,EAAAA,EAAAA,IAE2FmF,EAAA,CAFlF3H,MAAOL,EAAAgD,eAAetH,OAAOE,IAAM8E,SAAUV,EAAA4E,QAC7CjE,MAAO8B,EAAAgB,WAAW8F,iBAAiBO,SACnC3I,SAAML,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAAgB,WAAW8F,iBAAiBO,SAAWpL,WAAWsC,EAAOiH,OAAOtH,S,0DAIxC,qBAAtB8B,EAAA2G,oB,WAAvBtJ,EAAAA,EAAAA,IASM,MATNiK,GASM,C,eARJzJ,EAAAA,EAAAA,IAEM,OAFDT,MAAM,SAAQ,cAEnB,KACAS,EAAAA,EAAAA,IAIM,MAJN0J,GAIM,EAHJnH,EAAAA,EAAAA,IAE2FmF,EAAA,CAFlF3H,MAAOL,EAAAgD,eAAetH,OAAOG,IAAM6E,SAAUV,EAAA4E,QAC7CjE,MAAO8B,EAAAgB,WAAW8F,iBAAiBU,SACnC9I,SAAML,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAAgB,WAAW8F,iBAAiBU,SAAWvL,WAAWsC,EAAOiH,OAAOtH,S,0DAIxC,qBAAtB8B,EAAA2G,oB,WAAvBtJ,EAAAA,EAAAA,IASM,MATNoK,GASM,C,eARJ5J,EAAAA,EAAAA,IAEM,OAFDT,MAAM,SAAQ,cAEnB,KACAS,EAAAA,EAAAA,IAIM,MAJN6J,GAIM,EAHJtH,EAAAA,EAAAA,IAE2FmF,EAAA,CAFlF3H,MAAOL,EAAAgD,eAAetH,OAAOI,IAAM4E,SAAUV,EAAA4E,QAC7CjE,MAAO8B,EAAAgB,WAAW8F,iBAAiBa,SACnCjJ,SAAML,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAAgB,WAAW8F,iBAAiBa,SAAW1L,WAAWsC,EAAOiH,OAAOtH,S,2DAIrFL,EAAAA,EAAAA,IAUM,MAVN+J,GAUM,C,eATJ/J,EAAAA,EAAAA,IAEM,OAFDT,MAAM,SAAQ,qBAEnB,KACAS,EAAAA,EAAAA,IAKM,MALNgK,GAKM,EAJJhK,EAAAA,EAAAA,IAGQ,eAFNA,EAAAA,EAAAA,IACoG,SAD7FE,KAAK,SAAUG,MAAO8B,EAAAgB,WAAWhB,EAAA2G,mBAAmBmB,mBAAoB9J,KAAK,MAC5EI,QAAKC,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAAgB,WAAWhB,EAAA2G,mBAAmBmB,mBAAqB7L,WAAWsC,EAAOiH,OAAOtH,S,mBAKjGL,EAAAA,EAAAA,IAUM,MAVNkK,GAUM,C,eATJlK,EAAAA,EAAAA,IAEM,OAFDT,MAAM,SAAQ,wBAEnB,KACAS,EAAAA,EAAAA,IAKM,MALNmK,GAKM,EAJJnK,EAAAA,EAAAA,IAGQ,eAFNA,EAAAA,EAAAA,IAC+H,SADxHE,KAAK,SAAUG,MAAO8B,EAAAgB,WAAWhB,EAAA2G,mBAAmBsB,SAAUjK,KAAK,IAClEI,QAAKC,EAAA,KAAAA,EAAA,GAAAE,GAAEyB,EAAAgB,WAAWhB,EAAA2G,mBAAmBsB,SAAW1J,EAAOiH,OAAOtH,OAAOhB,OAASjB,WAAWsC,EAAOiH,OAAOtH,OAAS,O,uBAOlIL,EAAAA,EAAAA,IAeM,MAfNqK,GAeM,EAdJrK,EAAAA,EAAAA,IAMM,MANNsK,GAMM,EALJtK,EAAAA,EAAAA,IAIQ,eAHNA,EAAAA,EAAAA,IACgI,SADzHE,KAAK,WACJuB,QAAS9F,OAAOC,KAAK8D,EAAAsD,QAAQ3D,SAAW1D,OAAO8J,OAAOtD,EAAAoI,gBAAgBC,QAAQC,GAAMA,IAAGpL,OAASiC,QAAKd,EAAA,KAAAA,EAAA,OAAAe,IAAEC,EAAAkJ,iBAAAlJ,EAAAkJ,mBAAAnJ,K,kCAAiB,uBAElI,U,aAGF/B,EAAAA,EAAAA,IAKMmF,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IALiClF,EAAAsD,QAAM,CAApBqD,EAAO3E,M,WAAhClC,EAAAA,EAAAA,IAKM,OALDD,MAAM,MAAqCuF,IAAKpD,G,EACnD1B,EAAAA,EAAAA,IAGQ,e,SAFNA,EAAAA,EAAAA,IAAsG,SAA/FE,KAAK,W,yBAAoBiC,EAAAoI,eAAe7I,GAAEhB,EAAIH,QAAKG,GAAEyB,EAAAoI,eAAe7I,IAAOS,EAAAoI,eAAe7I,I,oBAAjES,EAAAoI,eAAe7I,O,QAAuD,KACtG5B,EAAAA,EAAAA,IAAGuG,EAAMtE,MAAI,U,oBCpIhBxC,MAAM,iB,sFAAXC,EAAAA,EAAAA,IAYM,MAZNC,GAYM,G,aAXJD,EAAAA,EAAAA,IAUwCmF,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAAhBlF,EAAAW,OAAK,CAAdoK,EAAGvC,M,WAVlB1I,EAAAA,EAAAA,IAUwC,SAVjCD,MAAM,SAASW,KAAK,QAASG,MAAOoK,EAAIlO,IAAKmD,EAAAK,MAAM,GAAKnD,IAAK8C,EAAAK,MAAM,GAAKI,KAAMT,EAAAS,KAC7EC,SAAUV,EAAAU,S,WAAUE,IAAI,SACxBC,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,GAAAA,KAAA,IAAAc,IAAOC,EAAAmJ,UAAAnJ,EAAAmJ,YAAApJ,IAAQ,WACpBV,SAAML,EAAA,KAAAA,EAAA,IAAAC,EAAAA,GAAAA,KAAA,IAAAc,IAAOC,EAAAmJ,UAAAnJ,EAAAmJ,YAAApJ,IAAQ,WACrB4H,UAAO3I,EAAA,KAAAA,EAAA,IAAAC,EAAAA,GAAAA,KAAA,IAAAc,IAAOC,EAAAmJ,UAAAnJ,EAAAmJ,YAAApJ,IAAQ,WACtBqJ,YAASpK,EAAA,KAAAA,EAAA,IAAAC,EAAAA,GAAAA,KAAA,IAAAc,IAAOC,EAAAmJ,UAAAnJ,EAAAmJ,YAAApJ,IAAQ,WACxBsJ,aAAUrK,EAAA,KAAAA,EAAA,IAAAC,EAAAA,GAAAA,KAAA,IAAAc,IAAOC,EAAAmJ,UAAAnJ,EAAAmJ,YAAApJ,IAAQ,WACzBuJ,WAAQtK,EAAA,KAAAA,EAAA,IAAAC,EAAAA,GAAAA,KAAA,IAAAc,IAAOC,EAAAmJ,UAAAnJ,EAAAmJ,YAAApJ,IAAQ,WACvBwJ,QAAKvK,EAAA,KAAAA,EAAA,IAAAC,EAAAA,GAAAA,KAAA,IAAAc,IAAOC,EAAAmJ,UAAAnJ,EAAAmJ,YAAApJ,IAAQ,WACpByJ,UAAOxK,EAAA,KAAAA,EAAA,IAAAC,EAAAA,GAAAA,KAAA,IAAAc,IAAOC,EAAAmJ,UAAAnJ,EAAAmJ,YAAApJ,IAAQ,WACEuD,IAAKoD,G,uBAKzC,QACEnG,KAAM,cACNjB,MAAO,CAAC,QAAS,SAAU,UAAW,YAAa,aAAc,WAAY,QAAS,WACtFC,MAAO,CACLX,SAAU,CACRF,KAAMe,QACNC,SAAS,GAGXnB,MAAO,CACLG,KAAMiB,MACND,QAASA,IAAM,CAAC,EAAG,MAGrBf,KAAM,CACJD,KAAMc,OACNE,QAAS,GAGXb,MAAO,CACLH,KAAMiB,MACND,QAASA,IAAM,CAAC,EAAG,OAIvBe,QAAS,CACP0I,QAAAA,CAASzI,GACP7G,KAAKuF,MAAMsB,EAAMhC,KAAM,IAClBgC,EACHyF,OAAQ,IACHzF,EAAMyF,OACTtH,MAAOhF,KAAK4P,MAAM7P,OAAO6C,KAAKiN,GAAU9M,WAAW8M,EAAM7K,SAAQkF,SAGvE,IC5CJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UF2IA,IACExD,KAAM,UACNoJ,OAAQ,CAACC,EAAAA,GACTlG,WAAY,CAACC,aAAY,IAAE6C,OAAM,KAAEqD,YAAW,GAAEtD,QAAOA,GAAAA,GACvDjH,MAAO,CAAC,QAAS,QACjBC,MAAO,CACLiC,OAAQ,CACN9C,KAAMvE,QAGRoH,MAAO,CACL7C,KAAMvE,QAGR2I,QAAS,CACPpE,KAAMe,QACNC,SAAS,GAGXwB,eAAgB,CACdxC,KAAMvE,OACNuF,QAASA,IAAM,IAAIhG,EAAAA,GAGrBoQ,kBAAmB,CACjBpL,KAAMvE,OACNuF,QAASA,SAIbmD,IAAAA,GACE,MAAO,CACLyE,kBAAmB,mBACnByC,UAAW,CAAC,EACZhB,eAAgB5O,OAAOC,KAAKP,KAAK2H,QAAQmF,QAAO,CAACE,EAAKmD,KACpDnD,EAAImD,IAAW,EACRnD,IACN,CAAC,GACJlF,WAAY,CACV8F,iBAAkB,CAChBC,UAAW7N,KAAKqH,eAAetH,OAAOE,IACtC+N,UAAW,CACTlM,UAAU9B,KAAKqH,eAAetH,OAAOG,IAAI,GAAKF,KAAKqH,eAAetH,OAAOG,IAAI,IAAI,GACjFF,KAAKqH,eAAetH,OAAOG,IAAI,IAEjCgO,UAAW,CACTpM,SAAmF,KAAzE9B,KAAKqH,eAAetH,OAAOI,IAAI,GAAKH,KAAKqH,eAAetH,OAAOI,IAAI,KAC7EH,KAAKqH,eAAetH,OAAOI,IAAI,IAGjCgO,SAAUrM,UAAU9B,KAAKqH,eAAetH,OAAOE,IAAI,GAAKD,KAAKqH,eAAetH,OAAOE,IAAI,IAAM,IAC7FqO,SAAUxM,UAAU9B,KAAKqH,eAAetH,OAAOG,IAAI,GAAKF,KAAKqH,eAAetH,OAAOG,IAAI,IAAM,IAC7FuO,SAAU3M,UAAU9B,KAAKqH,eAAetH,OAAOI,IAAI,GAAKH,KAAKqH,eAAetH,OAAOI,IAAI,IAAM,IAC7FyO,mBAAoB,EACpBG,SAAU,MAGZqB,MAAO,CACLxB,mBAAoB,EACpBG,SAAU,OAIlB,EAEA/E,SAAU,CACRuD,gBAAAA,GACE,OAAOjN,OAAOC,KAAKP,KAAKiQ,mBAAmBjM,OAAS,CACtD,GAGF4C,QAAS,CACPyI,eAAAA,GACE,MAAMgB,EAAS/P,OAAO8J,OAAOpK,KAAKkP,gBAAgBC,QAAQC,GAAMA,IAAGpL,OAAS1D,OAAOC,KAAKP,KAAK2H,QAAQ3D,OACrG1D,OAAOC,KAAKP,KAAK2H,QAAQsF,SAASkD,IAChCnQ,KAAKkP,eAAeiB,GAAWE,CAAK,GAExC,EAEA7C,eAAAA,GACE,MAAM8C,EAAYtQ,KAAKuN,iBAAmB,OAAS,QAC7C2B,EAAiB5O,OAAO2J,QAAQjK,KAAKkP,gBAAgBC,QAAQnE,GAAUA,EAAM,KAAIpI,KAAKoI,GAAUA,EAAM,KACvGkE,EAAelL,OAKpBhE,KAAKuF,MAAM+K,EAAW,CACpB3I,OAAQuH,EACRgB,UAAW,IACNlQ,KAAK8H,WAAW9H,KAAKyN,mBACxByC,UAAWlQ,KAAKyN,qBARlBzN,KAAKuQ,cAAc,+BAWvB,IG3OJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,IAAQ,CAAC,YAAY,qBAEzF,UV0EA,IACE7J,KAAM,QACNjB,MAAO,CAAC,QAAS,eAAgB,eAAgB,YAAa,eAAgB,kBAAmB,kBACjGoE,WAAY,CAAC2G,QAAO,GAAE1G,aAAY,IAAEC,UAAS,EAAE0G,MAAK,GAAEC,MAAK,GAAEpD,SAAQA,IACrE5H,MAAO,CACLiC,OAAQ,CACN9C,KAAMvE,QAGRoH,MAAO,CACL7C,KAAMvE,QAGRsH,OAAQ,CACN/C,KAAMvE,QAGR0H,MAAO,CACLnD,KAAM8B,OACNd,QAAS,UAGXiC,WAAY,CACVjD,KAAMvE,OACNuF,QAASA,QAGXwB,eAAgB,CACdxC,KAAMvE,OACNuF,QAASA,IAAM,IAAIhG,EAAAA,GAGrBwK,eAAgB,CACdxF,KAAMe,QACNC,SAAS,IAIbmD,IAAAA,GACE,MAAO,CACLkC,cAAe,KACfM,cAAe,KACfhB,aAAc,SAElB,EAEAR,SAAU,CACRX,WAAAA,GACE,OAAiC,MAA7BrJ,KAAK0H,OAAOiC,OAAOC,OACd5J,KAAK0H,MAAMiC,MAAMC,OAEnBtJ,OAAO8J,OAAOpK,KAAK2H,QAAQgJ,MAAK3F,GAASA,EAAMrB,MAAMuC,IAC9D,EAEAnB,YAAAA,GACE,OAAK/K,KAAK2H,OAGHrH,OAAO2J,QAAQjK,KAAK2H,QACtBuC,MAAK,CAAClJ,EAAGY,IAAMZ,EAAE,GAAG0F,KAAKyD,cAAcvI,EAAE,GAAG8E,QAC5C9D,KAAI,EAAEyD,EAAI2E,MACF,IACFA,EACH3E,GAAIA,MAPH,EAUX,EAEAiF,YAAAA,GACE,OAAKtL,KAAK4H,OAGHtH,OAAO2J,QAAQjK,KAAK4H,QACtBsC,MAAK,CAAClJ,EAAGY,IAAMZ,EAAE,GAAG0F,KAAKyD,cAAcvI,EAAE,GAAG8E,QAC5C9D,KAAI,EAAEyD,EAAIkF,MACF,IACFA,EACHlF,GAAIA,MAPH,EAUX,EAEAoE,SAAAA,GACE,OAAIzK,KAAK0H,OAAOhB,KACP1G,KAAK0H,MAAMhB,KACE,MAAlB1G,KAAK0H,OAAOrB,GACN,UAASrG,KAAK0H,MAAMrB,MACvBrG,KAAKgI,KACd,GAGFpB,QAAS,CACP0D,KAAAA,CAAMzD,GACJA,EAAMsF,kBACNnM,KAAKuF,MAAM,QACb,EAEAkG,eAAAA,CAAgBpD,GACdrI,KAAKwL,cAAgBnD,EACrBrI,KAAKuF,MAAM,eAAgB8C,EAC7B,IWhLJ,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,UlBgDA,IACEyH,OAAQ,CAACC,EAAAA,EAAOa,GAChB/G,WAAY,CACVgH,MAAK,GACLC,OAAMA,GAGRrL,MAAO,CACL,eACA,gBACA,eACA,UACA,eACA,YACA,YACA,kBACA,kBAGFC,MAAO,CACLiC,OAAQ,CACN9C,KAAMvE,QAGR0G,OAAQ,CACNnC,KAAMvE,QAGRsH,OAAQ,CACN/C,KAAMvE,QAGRwH,WAAY,CACVjD,KAAMvE,QAGR+G,eAAgB,CACdxC,KAAMvE,OACNuF,QAASA,IAAM,IAAIhG,EAAAA,GAGrBkR,cAAe,CACblM,KAAMvE,OACNuF,QAASA,QAGXuB,cAAe,CACbvC,KAAMvE,OACNuF,QAASA,QAGXmL,aAAc,CACZnM,KAAM,CAACc,OAAQgB,UAInBqC,IAAAA,GACE,MAAO,CACLjC,cAAe,KACfkK,aAAa,EAEjB,EAEAjH,SAAU,CACRtB,eAAAA,GACE,MAAM3B,EAAgB/G,KAAK+G,eAAiB/G,KAAKgR,aACjD,OAAqB,MAAjBjK,EACK/G,KAAK2H,OAEP3H,KAAKgH,OAAOD,GAAeY,OAAOmF,QAAO,CAACnF,EAAQwI,KACvDxI,EAAOwI,GAAWnQ,KAAK2H,OAAOwI,GACvBxI,IACN,CAAC,EACN,EAEAuJ,aAAAA,GACE,OAAKlR,KAAKgH,OAGH1G,OAAO2J,QAAQjK,KAAKgH,QAAQ8F,QAAO,CAACE,GAAM5E,EAASV,MACxDA,EAAMC,OAAOsF,SAASkD,IACfnD,EAAImD,KACPnD,EAAImD,GAAW,CAAC,GAClBnD,EAAImD,GAAS/H,GAAWV,CAAI,IAGvBsF,IACN,CAAC,GAVK,CAAC,CAWZ,EAEAxF,eAAAA,GACE,OAAOlH,OAAOC,KAAKP,KAAK2H,QAAU,CAAC,GAChCwH,QAAQgB,IAAanQ,KAAKkR,cAAcf,KACxCrD,QAAO,CAACE,EAAKmD,KACZnD,EAAImD,GAAWnQ,KAAK2H,OAAOwI,GACpBnD,IACN,CAAC,EACR,EAEAnF,aAAAA,GACE,IAAK7H,KAAK4H,OACR,MAAO,CAAC,EAEV,MAAMuJ,EAAOnR,KACb,OAAOM,OAAO2J,QAAQjK,KAAK4H,QAAQkF,QAAO,CAACE,GAAM3E,EAASkD,MACxDA,EAAM5D,OAAOsF,SAASkD,IACpB,IAAKgB,EAAKD,cAAcf,GAItB,OAHKnD,GAAK,KACRA,GAAK,GAAK,CAAC,QACbA,GAAK,GAAG3E,GAAWkD,GAIrBjL,OAAOC,KAAK4Q,EAAKD,cAAcf,IAAUlD,SAAS7E,IAC3C4E,EAAI5E,KACP4E,EAAI5E,GAAW,CAAC,GAClB4E,EAAI5E,GAASC,GAAWkD,CAAI,GAC5B,IAGGyB,IACN,CAAC,EACN,EAEAjF,iBAAAA,GACE,MAAMoJ,EAAOnR,KACP8H,EAAaxH,OAAO2J,QAAQjK,KAAK8H,YAAYd,QAAU,CAAC,GAAG8F,QAAO,CAACE,GAAM5E,EAAS8H,MACtFlD,EAAI5E,GAAW,CAAC,EACZ8H,IACFlD,EAAI5E,GAAS,MAAQ8H,GAEhBlD,IACN,CAAC,GAEJ,MAAO,IACFlF,KACAxH,OAAO2J,QAAQjK,KAAK8H,YAAYH,QAAU,CAAC,GAAGmF,QAAO,CAACE,GAAMmD,EAASD,MACtE,MAAMxI,EAAQpH,OAAO8J,OAAO+G,EAAKD,cAAcf,IAAY,CAAC,KAAK,GAajE,OAZIzI,EACEwI,GAAyB,MAAZxI,EAAMrB,KAChB2G,EAAItF,EAAMrB,MACb2G,EAAItF,EAAMrB,IAAM,CAAC,GACnB2G,EAAItF,EAAMrB,IAAI8J,GAAWD,IAGtBlD,GAAK,KACRA,GAAK,GAAK,CAAC,GACbA,GAAK,GAAGmD,GAAWD,GAGdlD,CAAE,GACR,CAAC,GAER,GAGFpG,QAAS,CACPwK,iBAAAA,GACE,MAAMD,EAAOnR,KACPqR,EAAUrR,KAAKsR,QAAO,IAAMH,EAAKH,eAAeO,IAC/CJ,EAAKF,cACRE,EAAKF,aAAc,EACnBI,IAC0B,MAAtBF,EAAKpK,eAAmC,MAAVwK,IAChCJ,EAAKpK,cAAgBoK,EAAKH,cAE9B,GAEJ,EAEAQ,OAAAA,GACExR,KAAKuF,MAAM,UACb,EAEAkM,aAAAA,CAAc5K,GACZ,GAAIA,EAAM6K,cAAgB1R,KAAK8I,WAC7B,OAEF,IAAK9I,KAAK2H,OAAOd,EAAM8K,UAErB,YADA3R,KAAKwR,UAIP,MAAM7H,EAAQ,IAAI9C,GACZsJ,EAAUxG,EAAMgI,gBACfhI,EAAMgI,gBACNhI,EAAM9E,YACN8E,EAAM+H,YAEb1R,KAAKuF,MAAM,gBAAiB,CAC1Bc,GAAI8J,EACJxG,MAAOA,GAEX,EAEAiI,iBAAAA,CAAkB/K,GACZA,EAAM6K,cAAgB1R,KAAK8I,YAG/B9I,KAAKwR,SACP,GAGFtI,OAAAA,GACElJ,KAAK6R,UAAU7R,KAAKyR,cAAe,kBAC/B,wDACJzR,KAAK6R,UAAU7R,KAAK4R,kBAAmB,sBACnC,2DACA,4DAEJ5R,KAAKoR,mBACP,EAEAU,SAAAA,GACE9R,KAAK+R,YAAY,mBACjB/R,KAAK+R,YAAY,sBACnB,GmBzQF,MAAM,IAA2B,OAAgB,GAAQ,CAAC,CAAC,SAAS/L,GAAQ,CAAC,YAAY,qBAEzF,S","sources":["webpack://platypush/./src/components/panels/Light/color.js","webpack://platypush/./src/components/elements/Slider.vue","webpack://platypush/./src/components/elements/Slider.vue?787f","webpack://platypush/./src/components/elements/ToggleSwitch.vue","webpack://platypush/./src/components/elements/ToggleSwitch.vue?94aa","webpack://platypush/./src/components/panels/Light/Index.vue","webpack://platypush/./src/components/panels/Panel.vue","webpack://platypush/./src/components/panels/Panel.vue?40a7","webpack://platypush/./src/components/Light/Groups.vue","webpack://platypush/./src/components/MenuPanel.vue","webpack://platypush/./src/components/MenuPanel.vue?e8bb","webpack://platypush/./src/components/Light/Groups.vue?f495","webpack://platypush/./src/components/Light/Group.vue","webpack://platypush/./src/components/Light/Light.vue","webpack://platypush/./src/components/Light/Controls.vue","webpack://platypush/./src/components/Light/Controls.vue?5766","webpack://platypush/./src/components/Light/Light.vue?eed6","webpack://platypush/./src/components/Light/Scene.vue","webpack://platypush/./src/components/Light/Scene.vue?87a4","webpack://platypush/./src/components/Light/Animate.vue","webpack://platypush/./src/components/elements/RangeSlider.vue","webpack://platypush/./src/components/elements/RangeSlider.vue?500a","webpack://platypush/./src/components/Light/Animate.vue?a3c2","webpack://platypush/./src/components/Light/Group.vue?06ce","webpack://platypush/./src/components/panels/Light/Index.vue?36e9"],"sourcesContent":["export class ColorConverter {\n    constructor(ranges) {\n        this.ranges = {\n            hue: [0, 360],\n            sat: [0, 100],\n            bri: [0, 100],\n            ct: [154, 500],\n        }\n\n        if (ranges)\n            for (const attr of Object.keys(this.ranges))\n                if (ranges[attr])\n                    this.ranges[attr] = ranges[attr]\n    }\n\n    normalize(x, xRange, yRange) {\n        return yRange[0] + (((x-xRange[0]) * (yRange[1]-yRange[0])) / (xRange[1]-xRange[0]))\n    }\n\n    hslToRgb(h, s, l) {\n        [h, s, l] = [\n            this.normalize(h, this.ranges.hue, [0, 360]),\n            this.normalize(s, this.ranges.sat, [0, 100]),\n            this.normalize(l, this.ranges.bri, [0, 100]),\n        ]\n\n        l /= 100\n        const a = s * Math.min(l, 1 - l) / 100\n        const f = n => {\n            const k = (n + h / 30) % 12\n            const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1)\n            return Math.round(255 * color)\n        }\n\n        return [f(0), f(8), f(4)]\n    }\n\n    rgbToHsl(r, g, b){\n        r /= 255\n        g /= 255\n        b /= 255;\n        const max = Math.max(r, g, b), min = Math.min(r, g, b);\n        let h, s, l = (max + min) / 2;\n\n        if(max === min){\n            h = s = 0; // achromatic\n        } else {\n            const d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n            switch(max){\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n            h /= 6;\n        }\n\n        return [\n            parseInt(this.normalize(h, [0, 1], this.ranges.hue)),\n            parseInt(this.normalize(s, [0, 1], this.ranges.sat)),\n            parseInt(this.normalize(l, [0, 1], this.ranges.bri)),\n        ]\n    }\n\n    xyToRgb(x, y, brightness) {\n        // Set to maximum brightness if no custom value was given (Not the slick ECMAScript 6 way for compatibility reasons)\n        if (brightness == null)\n            brightness = this.ranges.bri[1];\n\n        const z = 1.0 - x - y;\n        const Y = (brightness / (this.ranges.bri[1]-1)).toFixed(2);\n        const X = (Y / y) * x;\n        const Z = (Y / y) * z;\n\n        //Convert to RGB using Wide RGB D65 conversion\n        let red \t=  X * 1.656492 - Y * 0.354851 - Z * 0.255038;\n        let green   = -X * 0.707196 + Y * 1.655397 + Z * 0.036152;\n        let blue \t=  X * 0.051713 - Y * 0.121364 + Z * 1.011530;\n\n        //If red, green or blue is larger than 1.0 set it back to the maximum of 1.0\n        if (red > blue && red > green && red > 1.0) {\n            green = green / red;\n            blue = blue / red;\n            red = 1.0;\n        } else if (green > blue && green > red && green > 1.0) {\n            red = red / green;\n            blue = blue / green;\n            green = 1.0;\n        } else if (blue > red && blue > green && blue > 1.0) {\n            red = red / blue;\n            green = green / blue;\n            blue = 1.0;\n        }\n\n        //Reverse gamma correction\n        red \t= red <= 0.0031308 ? 12.92 * red : (1.0 + 0.055) * Math.pow(red, (1.0 / 2.4)) - 0.055;\n        green \t= green <= 0.0031308 ? 12.92 * green : (1.0 + 0.055) * Math.pow(green, (1.0 / 2.4)) - 0.055;\n        blue \t= blue <= 0.0031308 ? 12.92 * blue : (1.0 + 0.055) * Math.pow(blue, (1.0 / 2.4)) - 0.055;\n\n        //Convert normalized decimal to decimal\n        red \t= Math.round(red * 255);\n        green \t= Math.round(green * 255);\n        blue \t= Math.round(blue * 255);\n\n        if (isNaN(red))\n            red = 0;\n        if (isNaN(green))\n            green = 0;\n        if (isNaN(blue))\n            blue = 0;\n\n        return [red, green, blue].map(\n            (c) => Math.min(Math.max(0, c), 255))  // lgtm [js/automatic-semicolon-insertion]\n    }\n\n    rgbToXY(red, green, blue) {\n        if (red > 1) { red /= 255; }\n        if (green > 1) { green /= 255; }\n        if (blue > 1) { blue /= 255; }\n\n        //Apply a gamma correction to the RGB values, which makes the color more vivid and more the like the color displayed on the screen of your device\n        red \t= (red > 0.04045) ? Math.pow((red + 0.055) / (1.0 + 0.055), 2.4) : (red / 12.92);\n        green \t= (green > 0.04045) ? Math.pow((green + 0.055) / (1.0 + 0.055), 2.4) : (green / 12.92);\n        blue \t= (blue > 0.04045) ? Math.pow((blue + 0.055) / (1.0 + 0.055), 2.4) : (blue / 12.92);\n\n        //RGB values to XYZ using the Wide RGB D65 conversion formula\n        const X \t\t= red * 0.664511 + green * 0.154324 + blue * 0.162028;\n        const Y \t\t= red * 0.283881 + green * 0.668433 + blue * 0.047685;\n        const Z \t\t= red * 0.000088 + green * 0.072310 + blue * 0.986039;\n\n        //Calculate the xy values from the XYZ values\n        let x \t\t= parseFloat((X / (X + Y + Z)).toFixed(4));\n        let y \t\t= parseFloat((Y / (X + Y + Z)).toFixed(4));\n\n        if (isNaN(x))\n            x = 0;\n        if (isNaN(y))\n            y = 0;\n\n        return [x, y];\n    }\n\n    rgbToBri(red, green, blue) {\n        return Math.min(2 * this.rgbToHsl(red, green, blue)[2], this.ranges.bri[1])\n    }\n\n    getRGB(color) {\n        if (color.red != null && color.green != null && color.blue != null)\n            return [color.red, color.green, color.blue]\n        if (color.r != null && color.g != null && color.b != null)\n            return [color.r, color.g, color.b]\n        if (color.rgb)\n            return color.rgb\n    }\n\n    getXY(color) {\n        if (color.x != null && color.y != null)\n            return [color.x, color.y]\n        if (color.xy)\n            return color.xy\n    }\n\n    toRGB(color) {\n        const rgb = this.getRGB(color)\n        if (rgb)\n            return rgb\n\n        const xy = this.getXY(color)\n        if (xy && color.bri)\n            return this.xyToRgb(...xy, color.bri)\n        if (color.hue && color.sat && color.bri)\n            return this.hslToRgb(color.hue, color.sat, color.bri)\n\n        console.debug('Could not determine color space')\n        console.debug(color)\n    }\n\n    toXY(color) {\n        const xy = this.getXY(color)\n        if (xy && color.bri)\n            return [xy[0], xy[1], color.bri]\n\n        const rgb = this.getRGB(color)\n        if (rgb)\n            return this.rgbToXY(...rgb)\n\n        if (color.hue && color.sat && color.bri) {\n            const rgb = this.hslToRgb(color.hue, color.sat, color.bri)\n            return this.rgbToXY(...rgb)\n        }\n\n        console.debug('Could not determine color space')\n        console.debug(color)\n    }\n\n    toHSL(color) {\n        if (color.hue && color.sat && color.bri)\n            return [color.hue, color.sat, color.bri]\n\n        const rgb = this.getRGB(color)\n        if (rgb)\n            return this.rgbToHsl(...rgb)\n\n        const xy = this.getXY(color)\n        if (xy && color.bri) {\n            const rgb = this.xyToRgb(...xy, color.bri)\n            return this.rgbToHsl(...rgb)\n        }\n\n        console.debug('Could not determine color space')\n        console.debug(color)\n    }\n\n    hexToRgb(hex) {\n        return [\n          hex.slice(1, 3),\n          hex.slice(3, 5),\n          hex.slice(5, 7),\n        ].map(_ => parseInt(_, 16))\n    }\n\n    rgbToHex(rgb) {\n      return '#' + rgb.map((x) => {\n          let hex = x.toString(16)\n          if (hex.length < 2)\n            hex = '0' + hex\n          return hex\n        }).join('')\n    }\n}\n","<template>\n  <label class=\"slider-wrapper\">\n    <span class=\"range-labels\" :class=\"{'with-label': withLabel}\" v-if=\"withRange\">\n      <span class=\"label left\" v-if=\"withRange\" v-text=\"range[0]\" />\n      <span class=\"label right\" v-if=\"withRange\" v-text=\"range[1]\" />\n    </span>\n\n    <span class=\"slider-container\">\n      <input class=\"slider\"\n             type=\"range\"\n             :class=\"{'with-label': withLabel}\"\n             :min=\"range[0]\"\n             :max=\"range[1]\"\n             :step=\"step\"\n             :disabled=\"disabled\"\n             :value=\"value\"\n             ref=\"range\"\n             @input.stop=\"$emit('input', $event)\"\n             @change.stop=\"$emit('change', $event)\">\n\n      <span class=\"label\" v-if=\"withLabel\" v-text=\"value\" ref=\"label\"></span>\n    </span>\n  </label>\n</template>\n\n<script>\nexport default {\n  emits: ['input', 'change'],\n  props: {\n    value: {\n      type: Number,\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n\n    range: {\n      type: Array,\n      default: () => [0, 100],\n    },\n\n    step: {\n      type: Number,\n      default: 1,\n    },\n\n    withLabel: {\n      type: Boolean,\n      default: false,\n    },\n\n    withRange: {\n      type: Boolean,\n      default: false,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$label-width: 3em;\n$thumb-height: 1em;\n$slider-height: 0.5em;\n\n.slider-wrapper {\n  width: 100%;\n  display: flex;\n  position: relative;\n  flex-direction: column;\n\n  .slider-container {\n    width: 100%;\n    display: flex;\n    position: relative;\n  }\n\n  input.slider {\n    width: 100%;\n    background: none;\n    height: 1.5em;\n    position: relative;\n    border-radius: 0.5em;\n    cursor: pointer;\n    outline: none;\n    overflow: hidden;\n    transition: all ease 100ms;\n    @include appearance(none);\n\n    &:active {\n      filter: brightness(80%);\n      cursor: grabbing;\n    }\n\n    &:hover {\n      filter: saturate(130%);\n    }\n\n    &:disabled {\n      cursor: not-allowed;\n      opacity: 0.5;\n      filter: grayscale(1);\n    }\n\n    /* Chrome and friends */\n    &::-webkit-slider-runnable-track {\n      position: relative;\n      border-radius: $slider-height;\n      background: linear-gradient($slider-bg 0 0) scroll no-repeat center /\n        100% calc(#{$slider-height} + 1px);\n    }\n\n    &::-webkit-slider-runnable-track,\n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      transition: all ease 100ms;\n      height: $thumb-height;\n    }\n\n    &::-webkit-slider-thumb {\n      --clip-top: calc((#{$thumb-height} - #{$slider-height}) * 0.5);\n      --clip-bottom: calc(#{$thumb-height} - var(--clip-top));\n      --clip-further: calc(100% + 1px);\n\n      width: $thumb-height;\n      background: $slider-progress-bg;\n      box-shadow: calc(-100vmax - #{$thumb-height} + 2.5px) #{$slider-height} #{$slider-height} 100vmax #{$slider-progress-bg};\n      border-radius: $thumb-height;\n      cursor: grab;\n\n      &:hover {\n        filter: brightness(130%) blur(1px);\n        cursor: grab;\n      }\n\n      clip-path: polygon(\n        100% -1px,\n        #{$slider-height} -1px,\n        0 var(--clip-top),\n        -100vmax var(--clip-top),\n        -100vmax var(--clip-bottom),\n        0 var(--clip-bottom),\n        #{$slider-height} 100%,\n        var(--clip-further) var(--clip-further)\n      );\n    }\n\n    /* Firefox */\n    &::-moz-range-track {\n      background: $slider-bg;\n      position: relative;\n      height: $slider-height;\n      border-radius: 0.5em;\n      box-shadow: inset 1px 0px 3px 0 $slider-track-shadow;\n    }\n\n    &::-moz-range-thumb {\n      $thumb-height: 1.125em;\n      width: $thumb-height;\n      height: $thumb-height;\n      position: relative;\n      background: $slider-thumb-bg;\n      border-radius: 50%;\n      border: none;\n      cursor: grabbing;\n      transition: all ease 100ms;\n      @include appearance(none);\n\n      &:hover {\n        filter: brightness(130%) blur(1px);\n        cursor: grab;\n      }\n\n      &:disabled {\n        background: $slider-thumb-disabled-bg;\n        cursor: not-allowed;\n      }\n    }\n\n    &::-moz-range-progress {\n      width: 100%;\n      height: $slider-height;\n      cursor: pointer;\n      background: $slider-progress-bg;\n      border-radius: 0.5em 0 0 0.5em;\n    }\n  }\n\n  .range-labels {\n    width: 100%;\n    display: flex;\n\n    .left {\n      text-align: left;\n    }\n\n    .right {\n      @extend .pull-right;\n      flex-grow: 1;\n    }\n  }\n\n  .label {\n    width: $label-width;\n    position: relative;\n    font-weight: normal;\n    text-align: center;\n  }\n\n  .with-label {\n    width: calc(100% - $label-width);\n  }\n}\n</style>\n","import { render } from \"./Slider.vue?vue&type=template&id=d90e850c&scoped=true\"\nimport script from \"./Slider.vue?vue&type=script&lang=js\"\nexport * from \"./Slider.vue?vue&type=script&lang=js\"\n\nimport \"./Slider.vue?vue&type=style&index=0&id=d90e850c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d90e850c\"]])\n\nexport default __exports__","<template>\n  <div class=\"power-switch\" :class=\"{disabled: disabled}\" @click.stop=\"onInput\">\n    <!--suppress HtmlFormInputWithoutLabel -->\n    <input type=\"checkbox\" :checked=\"value\" :id=\"id\">\n    <label>\n      <!--suppress HtmlUnknownTag -->\n      <div class=\"switch\">\n        <div class=\"dot\" />\n      </div>\n      <span class=\"label\">\n        <slot />\n      </span>\n    </label>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ToggleSwitch\",\n  emits: ['input'],\n  props: {\n    id: {\n      type: String,\n    },\n\n    value: {\n      type: Boolean,\n      default: false,\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    onInput(event) {\n      if (this.disabled)\n        return false\n\n      this.$emit('input', event)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.power-switch {\n  position: relative;\n  transition: transform .3s;\n  transform: scale(var(--scale, 1)) translateZ(0);\n\n  &:active {\n    --scale: .96;\n  }\n\n  &.disabled {\n    opacity: 0.6;\n  }\n\n  input {\n    display: none;\n    & + label {\n      border-radius: 1em;\n      display: inline-flex;\n      cursor: pointer;\n      position: relative;\n      transition: box-shadow .4s;\n\n      &:before {\n        content: '';\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        border-radius: inherit;\n        background: none;\n        opacity: var(--gradient, 0);\n        transition: opacity .4s;\n      }\n\n      .switch {\n        position: relative;\n        display: inline-block;\n        vertical-align: top;\n        height: 1.4em;\n        width: 2.5em;\n        border-radius: 1em;\n        background: $slider-bg;\n        box-shadow: inset 1px 0px 3px 0 $slider-track-shadow;\n\n        &:before {\n          content: '';\n          position: absolute;\n          left: 0;\n          top: 0;\n          right: 0;\n          bottom: 0;\n          border-radius: inherit;\n          background: $slider-progress-bg;\n          opacity: var(--gradient, 0);\n          transition: opacity .4s;\n        }\n\n        .dot {\n          background: $toggle-dot-bg;\n          position: absolute;\n          width: 1.5em;\n          height: 1.5em;\n          border-radius: 50%;\n          box-shadow: 1px 0px 3.5px 0 $slider-thumb-shadow;\n          left: -0.25em;\n          top: -0.05em;\n          transform: translateX(var(--offset, 0));\n          transition: transform .4s, box-shadow .4s;\n\n          &:before {\n            content: '';\n            position: absolute;\n            left: 0;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            border-radius: inherit;\n            background: $toggle-selected-dot-bg;\n            opacity: var(--gradient, 0);\n            transition: opacity .4s;\n          }\n        }\n      }\n\n      span {\n        line-height: 2em;\n        font-size: 1.2em;\n        color: var(--text, #646B8C);\n        font-weight: 500;\n        display: inline-block;\n        vertical-align: top;\n        position: relative;\n        margin-left: 0.5em;\n        transition: color .4s;\n      }\n\n      & + span {\n        text-align: center;\n        display: block;\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 100%;\n        opacity: 0;\n        font-size: 1em;\n        font-weight: 500;\n        color: $slider-bg;\n        transform: translateY(0.2em);\n        transition: opacity .4s, transform .4s;\n      }\n    }\n\n    &:not(:checked) {\n      & + label {\n        pointer-events: none;\n        & + span {\n          opacity: 1;\n          transform: translateY(0.6em);\n        }\n      }\n    }\n\n    &:checked {\n      & + label {\n        --offset: 1.5em;\n        --text: $slider-progress-bg;\n        --gradient: 1;\n        --shadow: rgba(0, 39, 6, .1);\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./ToggleSwitch.vue?vue&type=template&id=eff375b6&scoped=true\"\nimport script from \"./ToggleSwitch.vue?vue&type=script&lang=js\"\nexport * from \"./ToggleSwitch.vue?vue&type=script&lang=js\"\n\nimport \"./ToggleSwitch.vue?vue&type=style&index=0&id=eff375b6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-eff375b6\"]])\n\nexport default __exports__","<template>\n  <div class=\"plugin lights-plugin\">\n    <div class=\"panel\">\n      <div class=\"groups lights-container\" v-if=\"selectedGroup == null && Object.keys(groups || {}).length\">\n        <Groups :groups=\"groups\"\n                :loading-groups=\"loadingGroups\"\n                :color-converter=\"colorConverter\"\n                @select=\"selectedGroup = $event\"\n                @toggle=\"$emit('group-toggle', $event)\" />\n      </div>\n\n      <div class=\"lights-container ungrouped-lights\"\n           v-if=\"Object.keys(ungroupedLights || {}).length && selectedGroup == null\">\n          <Group :group=\"ungroupedLights\"\n                 :lights=\"ungroupedLights\"\n                 :scenes=\"scenesByGroup[selectedGroup]\"\n                 :color-converter=\"colorConverter\" \n                 :animations=\"animationsByGroup[selectedGroup]\"\n                 :with-back-button=\"false\"\n                 title=\"Ungrouped Lights\"\n                 @close=\"selectedGroup = null\"\n                 @light-toggle=\"$emit('light-toggle', $event)\"\n                 @select-scene=\"$emit('select-scene', {groupId: selectedGroup, sceneId: $event})\"\n                 @set-light=\"$emit('set-light', $event)\"\n                 @start-animation=\"$emit('start-animation', $event)\"\n                 @stop-animation=\"$emit('stop-animation', $event)\" />\n      </div>\n\n      <div class=\"group\" v-if=\"groups?.[selectedGroup]\">\n        <Group :group=\"groups[selectedGroup]\"\n               :lights=\"displayedLights\"\n               :scenes=\"scenesByGroup[selectedGroup]\"\n               :color-converter=\"colorConverter\" \n               :animations=\"animationsByGroup[selectedGroup]\"\n               @close=\"selectedGroup = null\"\n               @group-toggle=\"$emit('group-toggle', $event)\"\n               @light-toggle=\"$emit('light-toggle', $event)\"\n               @select-scene=\"$emit('select-scene', {groupId: selectedGroup, sceneId: $event})\"\n               @set-group=\"$emit('set-group', {groupId: selectedGroup, value: $event})\"\n               @set-light=\"$emit('set-light', $event)\"\n               @start-animation=\"$emit('start-animation', $event)\"\n               @stop-animation=\"$emit('stop-animation', $event)\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Utils from \"@/Utils\";\nimport Panel from \"@/components/panels/Panel\";\nimport Groups from \"@/components/Light/Groups\";\nimport Group from \"@/components/Light/Group\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\n\n/**\n * Generic component for light plugins panels.\n */\nexport default {\n  mixins: [Utils, Panel],\n  components: {\n    Group,\n    Groups,\n  },\n\n  emits: [\n    'group-toggle',\n    'light-changed',\n    'light-toggle',\n    'refresh',\n    'select-scene',\n    'set-group',\n    'set-light',\n    'start-animation',\n    'stop-animation',\n  ],\n\n  props: {\n    lights: {\n      type: Object,\n    },\n\n    groups: {\n      type: Object,\n    },\n\n    scenes: {\n      type: Object,\n    },\n\n    animations: {\n      type: Object,\n    },\n\n    colorConverter: {\n      type: Object,\n      default: () => new ColorConverter(),\n    },\n\n    loadingLights: {\n      type: Object,\n      default: () => {},\n    },\n\n    loadingGroups: {\n      type: Object,\n      default: () => {},\n    },\n\n    initialGroup: {\n      type: [Number, String],\n    },\n  },\n\n  data() {\n    return {\n      selectedGroup: null,\n      initialized: false,\n    }\n  },\n\n  computed: {\n    displayedLights() {\n      const selectedGroup = this.selectedGroup || this.initialGroup\n      if (selectedGroup == null)\n        return this.lights\n\n      return this.groups[selectedGroup].lights.reduce((lights, lightId) => {\n        lights[lightId] = this.lights[lightId]\n        return lights\n      }, {})\n    },\n\n    groupsByLight() {\n      if (!this.groups)\n        return {}\n\n      return Object.entries(this.groups).reduce((obj, [groupId, group]) => {\n        group.lights.forEach((lightId) => {\n          if (!obj[lightId])\n            obj[lightId] = {}\n          obj[lightId][groupId] = group\n        })\n\n        return obj\n      }, {})\n    },\n\n    ungroupedLights() {\n      return Object.keys(this.lights || {})\n        .filter((lightId) => !this.groupsByLight[lightId])\n        .reduce((obj, lightId) => {\n          obj[lightId] = this.lights[lightId]\n          return obj\n        }, {})\n    },\n\n    scenesByGroup() {\n      if (!this.scenes)\n        return {}\n\n      const self = this\n      return Object.entries(this.scenes).reduce((obj, [sceneId, scene]) => {\n        scene.lights.forEach((lightId) => {\n          if (!self.groupsByLight[lightId]) {\n            if (!obj[-1])\n              obj[-1] = {}\n            obj[-1][sceneId] = scene\n            return\n          }\n\n          Object.keys(self.groupsByLight[lightId]).forEach((groupId) => {\n            if (!obj[groupId])\n              obj[groupId] = {}\n            obj[groupId][sceneId] = scene\n          })\n        })\n\n        return obj\n      }, {})\n    },\n\n    animationsByGroup() {\n      const self = this\n      const animations = Object.entries(this.animations?.groups || {}).reduce((obj, [groupId, animation]) => {\n        obj[groupId] = {}\n        if (animation)\n          obj[groupId][null] = animation    // lgtm [js/implicit-operand-conversion]\n\n        return obj\n      }, {})\n\n      return {\n        ...animations,\n        ...Object.entries(this.animations?.lights || {}).reduce((obj, [lightId, animation]) => {\n          const group = Object.values(self.groupsByLight[lightId] || {})?.[0]\n          if (group) {\n            if (animation && group.id != null) {\n              if (!obj[group.id])\n                obj[group.id] = {}\n              obj[group.id][lightId] = animation\n            }\n          } else {\n            if (!obj[-1])\n              obj[-1] = {}\n            obj[-1][lightId] = animation\n          }\n\n          return obj\n        }, {})\n      }\n    }\n  },\n\n  methods: {\n    initSelectedGroup() {\n      const self = this\n      const unwatch = this.$watch(() => self.initialGroup, (newVal) => {\n        if (!self.initialized) {\n          self.initialized = true\n          unwatch()\n          if (self.selectedGroup == null && newVal != null) {\n            self.selectedGroup = self.initialGroup\n          }\n        }\n      })\n    },\n\n    refresh() {\n      this.$emit('refresh')\n    },\n\n    onLightChange(event) {\n      if (event.plugin_name !== this.pluginName)\n        return\n\n      if (!this.lights[event.light_id]) {\n        this.refresh()\n        return\n      }\n\n      const state = {...event}\n      const lightId = state.light_id\n      delete state.light_id\n      delete state.type\n      delete state.plugin_name\n\n      this.$emit('light-changed', {\n        id: lightId,\n        state: state,\n      })\n    },\n\n    onAnimationChange(event) {\n      if (event.plugin_name !== this.pluginName)\n        return\n\n      this.refresh()\n    },\n  },\n\n  mounted() {\n    this.subscribe(this.onLightChange, 'on-light-change',\n        'platypush.message.event.light.LightStatusChangeEvent')\n    this.subscribe(this.onAnimationChange, 'on-animation-change',\n        'platypush.message.event.light.LightAnimationStartedEvent',\n        'platypush.message.event.light.LightAnimationStoppedEvent')\n\n    this.initSelectedGroup()\n  },\n\n  unmounted() {\n    this.unsubscribe('on-light-change')\n    this.unsubscribe('on-animation-change')\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.plugin {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.panel {\n  width: 100%;\n  height: 100%;\n  box-shadow: none;\n  overflow: auto;\n}\n</style>\n\n<style lang=\"scss\">\n@import \"@/components/Light/groups.scss\";\n\n.lights-plugin {\n  .menu-panel {\n    ul {\n      li:not(.header) {\n        padding: 1.5em 1em;\n      }\n    }\n  }\n}\n</style>\n","<script>\nexport default {\n  name: \"Panel\",\n  emits: ['mounted'],\n  props: {\n    // Plugin configuration.\n    config: {\n      type: Object,\n      default: () => {},\n    },\n\n    // Plugin name.\n    pluginName: {\n      type: String,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      loading: false,\n    }\n  },\n\n  mounted() {\n    this.$emit('mounted', this)\n  }\n}\n</script>\n","import script from \"./Panel.vue?vue&type=script&lang=js\"\nexport * from \"./Panel.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n  <div class=\"light-groups-container\">\n    <MenuPanel>\n      <div class=\"panel-row header\">\n        <div class=\"col-3\">\n          <i class=\"icon fas fa-home\" />\n        </div>\n        <div class=\"col-6 name\">\n          Rooms\n        </div>\n        <div class=\"col-3 pull-right\">\n          <ToggleSwitch :value=\"anyLightsOn\" @input=\"$emit('toggle')\" />\n        </div>\n      </div>\n\n      <div class=\"panel-row row group\" v-for=\"group in groupsSorted\" :key=\"group.id\" @click=\"$emit('select', group.id)\">\n        <span class=\"name col-9\">\n          {{ group.name || `[Group ${group.id}]` }}\n        </span>\n        <span class=\"controls col-3 pull-right\">\n          <ToggleSwitch :value=\"group.state.any_on\" :disabled=\"group.id in (loadingGroups || {})\"\n                        @input=\"$emit('toggle', group)\" />\n        </span>\n      </div>\n    </MenuPanel>\n  </div>\n</template>\n\n<script>\nimport MenuPanel from \"@/components/MenuPanel\";\nimport ToggleSwitch from \"@/components/elements/ToggleSwitch\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\n\nexport default {\n  name: \"Groups\",\n  components: {ToggleSwitch, MenuPanel},\n  emits: ['select', 'toggle'],\n  props: {\n    groups: {\n      type: Object,\n      default: () => {},\n    },\n\n    loadingGroups: {\n      type: Object,\n      default: () => {},\n    },\n\n    colorConverter: {\n      type: Object,\n      default: () => new ColorConverter(),\n    },\n  },\n\n  computed: {\n    groupsSorted() {\n      return Object.entries(this.groups)\n          .sort((a, b) => a[1].name.localeCompare(b[1].name))\n          .map(([id, group]) => {\n            return {\n              ...group,\n              id: id,\n            }\n          })\n    },\n\n    anyLightsOn() {\n      for (const group of Object.values(this.groups))\n        if (group?.state?.any_on)\n          return true\n\n      return false\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./groups.scss\";\n</style>\n","<template>\n  <div class=\"menu-panel\">\n    <div class=\"content\">\n      <slot />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"MenuPanel\",\n}\n</script>\n\n<style lang=\"scss\">\n.menu-panel {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: $menu-panel-bg;\n  padding-top: 2em;\n\n  .content {\n    background: $menu-panel-content-bg;\n    border-radius: 15px;\n    box-shadow: $plugin-panel-shadow;\n    border: 0;\n\n    .panel-row {\n      display: flex;\n      margin: 0 !important;\n      padding: 1em;\n      box-shadow: $plugin-panel-entry-shadow;\n      cursor: pointer;\n      border: 0;\n      letter-spacing: 0.05em;\n\n      &:hover {\n        background: $hover-bg;\n      }\n\n      &:first-child {\n        border-radius: 15px 15px 0 0;\n        box-shadow: $plugin-panel-first-entry-shadow;\n      }\n\n      &:last-child {\n        border-radius: 0 0 15px 15px;\n        box-shadow: $plugin-panel-last-entry-shadow;\n      }\n    }\n\n    .header {\n      background: $menu-header-bg;\n      font-weight: bold;\n      box-shadow: $menu-header-shadow;\n\n      &:hover {\n        background: $menu-header-bg;\n      }\n    }\n  }\n}\n\n@media screen and (max-width: $desktop) {\n  .menu-panel {\n    padding-top: 0;\n\n    .content {\n      min-width: 100%;\n\n      .row {\n        &:first-child {\n          border-radius: 0;\n        }\n\n        &:last-child {\n          border-radius: 0;\n        }\n      }\n    }\n  }\n}\n\n@media screen and (min-width: $desktop) {\n  .menu-panel {\n    .content {\n      min-width: 75%;\n    }\n  }\n}\n\n@media screen and (min-width: $widescreen) {\n  .menu-panel {\n    .content {\n      min-width: 50%;\n    }\n  }\n}\n\n@media screen and (min-width: $fullhd) {\n  .menu-panel {\n    .content {\n      min-width: 35%;\n    }\n  }\n}\n</style>\n","import { render } from \"./MenuPanel.vue?vue&type=template&id=02113104\"\nimport script from \"./MenuPanel.vue?vue&type=script&lang=js\"\nexport * from \"./MenuPanel.vue?vue&type=script&lang=js\"\n\nimport \"./MenuPanel.vue?vue&type=style&index=0&id=02113104&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Groups.vue?vue&type=template&id=5b302176&scoped=true\"\nimport script from \"./Groups.vue?vue&type=script&lang=js\"\nexport * from \"./Groups.vue?vue&type=script&lang=js\"\n\nimport \"./Groups.vue?vue&type=style&index=0&id=5b302176&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5b302176\"]])\n\nexport default __exports__","<template>\n  <div class=\"light-group-container\">\n    <MenuPanel>\n      <div class=\"panel-row header\">\n        <div class=\"col-3\" v-if=\"group\">\n          <button class=\"back-btn\" title=\"Back\" @click=\"close\" v-if=\"withBackButton\">\n            <i class=\"fas fa-chevron-left\" />\n          </button>\n        </div>\n\n        <div class=\"col-6 name\" :class=\"{selected: selectedView === 'group'}\"\n             v-text=\"groupName\" @click=\"selectedView = selectedView === 'group' ? null : 'group'\" />\n\n        <div class=\"col-3 pull-right\" v-if=\"group\">\n          <ToggleSwitch :value=\"anyLightsOn\" @input=\"$emit('group-toggle', group)\" />\n        </div>\n      </div>\n\n      <div class=\"no-lights\" v-if=\"!lights || !Object.keys(lights).length\">\n        No lights found\n      </div>\n\n      <div class=\"lights-view\" v-else>\n        <div class=\"row view-selector\">\n          <button :class=\"{selected: selectedView === 'lights'}\" :title=\"title\" @click=\"selectedView = 'lights'\">\n            <i class=\"icon fas fa-lightbulb\" />\n          </button>\n          <button :class=\"{selected: selectedView === 'scenes'}\" title=\"Scenes\" @click=\"selectedView = 'scenes'\">\n            <i class=\"icon far fa-image\" />\n          </button>\n          <button :class=\"{selected: selectedView === 'animate'}\" title=\"Animate\" @click=\"selectedView = 'animate'\">\n            <i class=\"icon fas fa-video\" />\n          </button>\n        </div>\n\n        <div class=\"view fade-in\" v-if=\"selectedView === 'lights'\">\n          <keep-alive>\n            <div class=\"panel-row row\" :class=\"{expanded: light.id === selectedLight}\"\n                 v-for=\"(light, id) in lightsSorted\" :key=\"id\"\n                 @click=\"selectedLight = selectedLight === light.id ? null : light.id\">\n              <Light :light=\"light\" :group=\"group\" :collapsed=\"light.id !== selectedLight\"\n                     :color-converter=\"colorConverter\" @toggle=\"$emit('light-toggle', light)\"\n                     @set-light=\"$emit('set-light', {light: light, value: $event})\" />\n            </div>\n          </keep-alive>\n        </div>\n\n        <div class=\"view fade-in\" v-else-if=\"selectedView === 'scenes'\">\n          <keep-alive>\n            <div class=\"panel-row row\" :class=\"{selected: scene.id === selectedScene}\"\n                 v-for=\"(scene, id) in scenesSorted\" :key=\"id\" @click=\"onSceneSelected(scene.id)\">\n              <Scene :scene=\"scene\" :group=\"group\" />\n            </div>\n          </keep-alive>\n        </div>\n\n        <div class=\"view group-controls fade-in\" v-else-if=\"selectedView === 'group'\">\n          <keep-alive>\n            <Controls :group=\"group\" :lights=\"lights\" :color-converter=\"colorConverter\"\n                      @set-group=\"$emit('set-group', $event)\" />\n          </keep-alive>\n        </div>\n\n        <div class=\"view group-controls fade-in\" v-else-if=\"selectedView === 'animate'\">\n          <keep-alive>\n            <Animate :group=\"group\" :lights=\"lights\" :color-converter=\"colorConverter\" :running-animations=\"animations\"\n                     @start=\"$emit('start-animation', $event)\" @stop=\"$emit('stop-animation', $event)\" />\n          </keep-alive>\n        </div>\n      </div>\n    </MenuPanel>\n  </div>\n</template>\n\n<script>\nimport Light from \"@/components/Light/Light\";\nimport Scene from \"@/components/Light/Scene\";\nimport Controls from \"@/components/Light/Controls\";\nimport MenuPanel from \"@/components/MenuPanel\";\nimport ToggleSwitch from \"@/components/elements/ToggleSwitch\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\nimport Animate from \"@/components/Light/Animate\";\n\nexport default {\n  name: \"Group\",\n  emits: ['close', 'group-toggle', 'light-toggle', 'set-light', 'select-scene', 'start-animation', 'stop-animation'],\n  components: {Animate, ToggleSwitch, MenuPanel, Light, Scene, Controls},\n  props: {\n    lights: {\n      type: Object,\n    },\n\n    group: {\n      type: Object,\n    },\n\n    scenes: {\n      type: Object,\n    },\n\n    title: {\n      type: String,\n      default: 'Lights',\n    },\n\n    animations: {\n      type: Object,\n      default: () => {},\n    },\n\n    colorConverter: {\n      type: Object,\n      default: () => new ColorConverter(),\n    },\n\n    withBackButton: {\n      type: Boolean,\n      default: true,\n    },\n  },\n\n  data() {\n    return {\n      selectedLight: null,\n      selectedScene: null,\n      selectedView: 'lights',\n    }\n  },\n\n  computed: {\n    anyLightsOn() {\n      if (this.group?.state?.any_on != null)\n        return this.group.state.any_on\n\n      return Object.values(this.lights).some(light => light.state.on)\n    },\n\n    lightsSorted() {\n      if (!this.lights)\n        return []\n\n      return Object.entries(this.lights)\n          .sort((a, b) => a[1].name.localeCompare(b[1].name))\n          .map(([id, light]) => {\n            return {\n              ...light,\n              id: id,\n            }\n          })\n    },\n\n    scenesSorted() {\n      if (!this.scenes)\n        return []\n\n      return Object.entries(this.scenes)\n          .sort((a, b) => a[1].name.localeCompare(b[1].name))\n          .map(([id, scene]) => {\n            return {\n              ...scene,\n              id: id,\n            }\n          })\n    },\n\n    groupName() {\n      if (this.group?.name)\n        return this.group.name\n      if (this.group?.id != null)\n        return `[Group ${this.group.id}]`\n      return this.title\n    },\n  },\n\n  methods: {\n    close(event) {\n      event.stopPropagation()\n      this.$emit('close')\n    },\n\n    onSceneSelected(sceneId) {\n      this.selectedScene = sceneId\n      this.$emit('select-scene', sceneId)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./groups.scss\";\n</style>\n","<template>\n  <div class=\"light\" :class=\"{expanded: !collapsed}\" ref=\"element\">\n    <div class=\"row\">\n      <span class=\"name col-9\" @click=\"expandToggle\">\n        {{ light.name || `[Light ${light.id}]` }}\n      </span>\n      <span class=\"toggle col-3 pull-right\">\n        <ToggleSwitch :value=\"light.state.on\" :disabled=\"loading\" @input=\"$emit('toggle', light)\" />\n      </span>\n    </div>\n\n    <div class=\"row fade-in\" v-if=\"!collapsed\">\n      <Controls :light=\"light\" :loading=\"loading\" :color-converter=\"colorConverter\"\n                @set-light=\"$emit('set-light', $event)\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport ToggleSwitch from \"@/components/elements/ToggleSwitch\";\nimport Controls from \"@/components/Light/Controls\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\n\nexport default {\n  name: \"Light\",\n  components: {Controls, ToggleSwitch},\n  emits: ['toggle', 'set-light', 'collapsed', 'expanded'],\n  props: {\n    light: {\n      type: Object,\n      default: () => {},\n    },\n\n    group: {\n      type: Object,\n      default: () => {},\n    },\n\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n\n    collapsed: {\n      type: Boolean,\n      default: true,\n    },\n\n    colorConverter: {\n      type: Object,\n      default: () => new ColorConverter(),\n    },\n  },\n\n  methods: {\n    expandToggle() {\n      this.$emit(this.collapsed ? 'expanded' : 'collapsed')\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.expanded {\n  .name {\n    font-size: 1.25em;\n  }\n}\n</style>\n","<template>\n  <div class=\"controls light-controls\" @click=\"$event.stopPropagation()\">\n    <Loading v-if=\"loading\" />\n\n    <div class=\"row\" v-if=\"state.bri != null\">\n      <div class=\"col-1 icon\">\n        <i class=\"fas fa-sun\" />\n      </div>\n      <div class=\"col-11 control\">\n        <Slider :range=\"colorConverter.ranges.bri\" :disabled=\"loading\" :value=\"state.bri\"\n                @change.stop=\"$emit(light ? 'set-light' : 'set-group', {brightness: parseInt($event.target.value)})\" />\n      </div>\n    </div>\n\n    <div class=\"row\" v-if=\"state.ct != null\">\n      <div class=\"col-1 icon\">\n        <i class=\"fas fa-thermometer-half\" />\n      </div>\n      <div class=\"col-11 control\">\n        <Slider :range=\"colorConverter.ranges.ct\" :disabled=\"loading\" :value=\"state.ct\"\n                @change.stop=\"$emit(light ? 'set-light' : 'set-group', {temperature: parseInt($event.target.value)})\" />\n      </div>\n    </div>\n\n    <label class=\"row\" v-if=\"rgbColor\">\n      <span class=\"col-1 icon\">\n        <i class=\"fas fa-palette\" />\n      </span>\n      <span class=\"col-11 control\">\n        <input type=\"color\" :value=\"rgbColor\" @change.stop=\"onColorSelect\" />\n      </span>\n    </label>\n  </div>\n</template>\n\n<script>\nimport Slider from \"@/components/elements/Slider\";\nimport Loading from \"@/components/Loading\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\n\nexport default {\n  name: \"Controls\",\n  components: {Loading, Slider},\n  emits: ['set-light', 'set-group'],\n  props: {\n    light: {\n      type: Object,\n    },\n\n    lights: {\n      type: Object,\n    },\n\n    group: {\n      type: Object,\n    },\n\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n\n    colorConverter: {\n      type: Object,\n      default: () => new ColorConverter(),\n    },\n  },\n\n  computed: {\n    state() {\n      if (this.light?.state)\n        return this.light.state\n\n      const state = this.group?.state || {}\n      if (!this.lights)\n        return state\n\n      const avg = (values) => {\n        if (!(values && values.length))\n          return 0\n\n        if (values[0] instanceof Array)\n          return [...values[0].keys()].map((i) => {\n            return avg(values.map((value) => value[i]))\n          })\n\n        return values.reduce((sum, value) => sum+value, 0) / values.length\n      }\n\n      return {\n        ...state,\n        ...Object.entries(\n            Object.values(this.lights).reduce((obj, light) => {\n              ['bri', 'hue', 'sat', 'rgb', 'xy', 'red', 'green', 'blue', 'ct'].forEach((attr) => {\n                if (light.state?.[attr] != null) {\n                  obj[attr] = [...(obj[attr] || []), light.state[attr]]\n                }\n              })\n\n              return obj\n            }, {})\n        ).reduce((obj, [attr, values]) => {\n          obj[attr] = avg(values)\n          return obj\n        }, {})\n      }\n    },\n\n    color() {\n      return this.getColor(this.state)\n    },\n\n    rgbColor() {\n      const rgb = this.colorConverter.toRGB(this.state)\n      if (rgb)\n        return '#' + rgb.map((x) => {\n          let hex = x.toString(16)\n          if (hex.length < 2)\n            hex = '0' + hex\n          return hex\n        }).join('')\n\n      return null\n    },\n  },\n\n  methods: {\n    onColorSelect(event) {\n      const rgb = event.target.value.slice(1).split(/(?=(?:..)*$)/).map((t) => parseInt(`0x${t}`))\n      this.$emit(this.light ? 'set-light' : 'set-group', {\n        rgb: rgb,\n        xy: this.colorConverter.rgbToXY(...rgb),\n        hsl: this.colorConverter.rgbToHsl(...rgb),\n        brightness: this.colorConverter.rgbToBri(...rgb),\n      })\n    },\n\n    getColor(state) {\n      return {\n        rgb: this.colorConverter.toRGB(state),\n        xy: this.colorConverter.toXY(state),\n        hsl: this.colorConverter.toHSL(state),\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$light-controls-bg: white;\n\n.controls {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 2.25em;\n  background: $light-controls-bg;\n  padding: 0.5em 1em;\n  border-radius: 1em;\n  box-shadow: $plugin-panel-shadow;\n\n  .row {\n    width: 100%;\n    display: flex;\n    align-items: center;\n  }\n\n  .control {\n    padding-top: 0.25em;\n  }\n\n  .icon {\n    opacity: 0.7;\n  }\n\n  input[type=color] {\n    width: 100%;\n    border: 0;\n  }\n}\n</style>\n\n<style lang=\"scss\">\n.light-controls {\n  .row {\n    .slider {\n      margin-top: 0.4em;\n    }\n  }\n}\n</style>\n","import { render } from \"./Controls.vue?vue&type=template&id=9c012c62&scoped=true\"\nimport script from \"./Controls.vue?vue&type=script&lang=js\"\nexport * from \"./Controls.vue?vue&type=script&lang=js\"\n\nimport \"./Controls.vue?vue&type=style&index=0&id=9c012c62&lang=scss&scoped=true\"\nimport \"./Controls.vue?vue&type=style&index=1&id=9c012c62&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9c012c62\"]])\n\nexport default __exports__","import { render } from \"./Light.vue?vue&type=template&id=52168252&scoped=true\"\nimport script from \"./Light.vue?vue&type=script&lang=js\"\nexport * from \"./Light.vue?vue&type=script&lang=js\"\n\nimport \"./Light.vue?vue&type=style&index=0&id=52168252&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-52168252\"]])\n\nexport default __exports__","<template>\n  <Loading v-if=\"loading\" />\n  <div class=\"scene row name\" @click=\"onSelect\">\n    {{ scene.name || `[Scene ${scene.id}]` }}\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"Light\",\n  emits: ['select'],\n  props: {\n    scene: {\n      type: Object,\n      default: () => {},\n    },\n\n    group: {\n      type: Object,\n      default: () => {},\n    },\n\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    onSelect() {\n      if (this.loading)\n        return false\n\n      this.$emit('select')\n    },\n  },\n}\n</script>\n","import { render } from \"./Scene.vue?vue&type=template&id=6934d062\"\nimport script from \"./Scene.vue?vue&type=script&lang=js\"\nexport * from \"./Scene.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"controls animation-controls\" @click=\"$event.stopPropagation()\">\n    <Loading v-if=\"loading\" />\n\n    <div class=\"animation-container\">\n      <div class=\"animation-header\">\n        <div class=\"row\">\n          <div class=\"col-3\">\n            Run Animation\n          </div>\n          <div class=\"col-9\">\n            <ToggleSwitch :value=\"animationRunning\" @input=\"toggleAnimation\" />\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-3\">Animation</div>\n          <div class=\"col-9\">\n            <label>\n              <select class=\"selector\" @click=\"selectedAnimation = $event.target.value\">\n                <option value=\"color_transition\">Color transition</option>\n                <option value=\"blink\">Blink</option>\n              </select>\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"animation\">\n        <div class=\"row\" v-if=\"selectedAnimation === 'color_transition'\">\n          <div class=\"col-3\">\n            Hue range\n          </div>\n          <div class=\"col-9\">\n            <RangeSlider :range=\"colorConverter.ranges.hue\" :disabled=\"loading\"\n                         :value=\"animations.color_transition.hue_range\"\n                         @mouseup=\"animations.color_transition.hue_range = $event.target.value\" />\n          </div>\n        </div>\n\n        <div class=\"row\" v-if=\"selectedAnimation === 'color_transition'\">\n          <div class=\"col-3\">\n            Sat range\n          </div>\n          <div class=\"col-9\">\n            <RangeSlider :range=\"colorConverter.ranges.sat\" :disabled=\"loading\"\n                         :value=\"animations.color_transition.sat_range\"\n                         @mouseup=\"animations.color_transition.sat_range = $event.target.value\" />\n          </div>\n        </div>\n\n        <div class=\"row\" v-if=\"selectedAnimation === 'color_transition'\">\n          <div class=\"col-3\">\n            Bri range\n          </div>\n          <div class=\"col-9\">\n            <RangeSlider :range=\"colorConverter.ranges.sat\" :disabled=\"loading\"\n                         :value=\"animations.color_transition.bri_range\"\n                         @mouseup=\"animations.color_transition.bri_range = $event.target.value\" />\n          </div>\n        </div>\n\n        <div class=\"row\" v-if=\"selectedAnimation === 'color_transition'\">\n          <div class=\"col-3\">\n            Hue step\n          </div>\n          <div class=\"col-9\">\n            <Slider :range=\"colorConverter.ranges.hue\" :disabled=\"loading\"\n                    :value=\"animations.color_transition.hue_step\"\n                    @change=\"animations.color_transition.hue_step = parseFloat($event.target.value)\" />\n          </div>\n        </div>\n\n        <div class=\"row\" v-if=\"selectedAnimation === 'color_transition'\">\n          <div class=\"col-3\">\n            Sat step\n          </div>\n          <div class=\"col-9\">\n            <Slider :range=\"colorConverter.ranges.sat\" :disabled=\"loading\"\n                    :value=\"animations.color_transition.sat_step\"\n                    @change=\"animations.color_transition.sat_step = parseFloat($event.target.value)\" />\n          </div>\n        </div>\n\n        <div class=\"row\" v-if=\"selectedAnimation === 'color_transition'\">\n          <div class=\"col-3\">\n            Bri step\n          </div>\n          <div class=\"col-9\">\n            <Slider :range=\"colorConverter.ranges.bri\" :disabled=\"loading\"\n                    :value=\"animations.color_transition.bri_step\"\n                    @change=\"animations.color_transition.bri_step = parseFloat($event.target.value)\" />\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-3\">\n            Refresh seconds\n          </div>\n          <div class=\"col-9\">\n            <label>\n              <input type=\"number\" :value=\"animations[selectedAnimation].transition_seconds\" step=\"0.1\"\n                     @input=\"animations[selectedAnimation].transition_seconds = parseFloat($event.target.value)\" >\n            </label>\n          </div>\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-3\">\n            Duration (seconds)\n          </div>\n          <div class=\"col-9\">\n            <label>\n              <input type=\"number\" :value=\"animations[selectedAnimation].duration\" step=\"5\"\n                     @input=\"animations[selectedAnimation].duration = $event.target.value?.length ? parseFloat($event.target.value) : null\" >\n            </label>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"lights\">\n      <div class=\"row\">\n        <label>\n          <input type=\"checkbox\"\n                 :checked=\"Object.keys(lights).length === Object.values(selectedLights).filter((v) => v).length\" @click=\"toggleSelectAll\">\n          Select all lights\n        </label>\n      </div>\n\n      <div class=\"row\" v-for=\"(light, id) in lights\" :key=\"id\">\n        <label>\n          <input type=\"checkbox\" v-model=\"selectedLights[id]\" @input=\"selectedLights[id] = !selectedLights[id]\">\n          {{ light.name }}\n        </label>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from \"@/components/Loading\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\nimport RangeSlider from \"@/components/elements/RangeSlider\";\nimport Slider from \"@/components/elements/Slider\";\nimport ToggleSwitch from \"@/components/elements/ToggleSwitch\";\nimport Utils from \"@/Utils\";\n\nexport default {\n  name: \"Animate\",\n  mixins: [Utils],\n  components: {ToggleSwitch, Slider, RangeSlider, Loading},\n  emits: ['start', 'stop'],\n  props: {\n    lights: {\n      type: Object,\n    },\n\n    group: {\n      type: Object,\n    },\n\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n\n    colorConverter: {\n      type: Object,\n      default: () => new ColorConverter(),\n    },\n\n    runningAnimations: {\n      type: Object,\n      default: () => {},\n    }\n  },\n\n  data() {\n    return {\n      selectedAnimation: 'color_transition',\n      animation: {},\n      selectedLights: Object.keys(this.lights).reduce((obj, lightId) => {\n        obj[lightId] = true\n        return obj\n      }, {}),\n      animations: {\n        color_transition: {\n          hue_range: this.colorConverter.ranges.hue,\n          sat_range: [\n            parseInt((this.colorConverter.ranges.sat[1] - this.colorConverter.ranges.sat[0])/2),\n            this.colorConverter.ranges.sat[1]\n          ],\n          bri_range: [\n            parseInt((this.colorConverter.ranges.bri[1] - this.colorConverter.ranges.bri[0]) * 0.75),\n            this.colorConverter.ranges.bri[1]\n          ],\n\n          hue_step: parseInt((this.colorConverter.ranges.hue[1] - this.colorConverter.ranges.hue[0]) / 25),\n          sat_step: parseInt((this.colorConverter.ranges.sat[1] - this.colorConverter.ranges.sat[0]) / 50),\n          bri_step: parseInt((this.colorConverter.ranges.bri[1] - this.colorConverter.ranges.bri[0]) / 50),\n          transition_seconds: 1,\n          duration: null,\n        },\n\n        blink: {\n          transition_seconds: 1,\n          duration: null,\n        },\n      },\n    }\n  },\n\n  computed: {\n    animationRunning() {\n      return Object.keys(this.runningAnimations).length > 0\n    },\n  },\n\n  methods: {\n    toggleSelectAll() {\n      const select = Object.values(this.selectedLights).filter((v) => v).length < Object.keys(this.lights).length\n      Object.keys(this.lights).forEach((lightId) => {\n        this.selectedLights[lightId] = select\n      })\n    },\n\n    toggleAnimation() {\n      const eventType = this.animationRunning ? 'stop' : 'start'\n      const selectedLights = Object.entries(this.selectedLights).filter((light) => light[1]).map((light) => light[0])\n      if (!selectedLights.length) {\n        this.notifyWarning('No lights have been selected')\n        return\n      }\n\n      this.$emit(eventType, {\n        lights: selectedLights,\n        animation: {\n          ...this.animations[this.selectedAnimation],\n          animation: this.selectedAnimation,\n        },\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$light-controls-bg: white;\n\n.animation-container {\n  width: 100%;\n\n  .animation-header,\n  .animation {\n    padding-bottom: 0.5em;\n    margin-bottom: 0.5em;\n    box-shadow: $border-shadow-bottom;\n  }\n}\n\n.controls {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 2.25em;\n  background: $light-controls-bg;\n  padding: 0.5em 1em;\n  border-radius: 1em;\n  box-shadow: $plugin-panel-shadow;\n\n  .selector {\n    width: 100%;\n  }\n\n  .row {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    padding: 0.5em 0;\n\n    & > div:last-child {\n      text-align: right;\n    }\n  }\n\n  .control {\n    padding-top: 0.25em;\n  }\n\n  .lights {\n    padding-top: 0.5em;\n    width: 100%;\n\n    .row {\n      display: flex;\n      align-items: center;\n    }\n\n    label {\n      width: 100%;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"range-wrapper\">\n    <input class=\"slider\" type=\"range\" :value=\"v\" :min=\"range[0]\" :max=\"range[1]\" :step=\"step\"\n           :disabled=\"disabled\" ref=\"ranges\"\n           @input.stop=\"onUpdate\"\n           @change.stop=\"onUpdate\"\n           @mouseup.stop=\"onUpdate\"\n           @mousedown.stop=\"onUpdate\"\n           @touchstart.stop=\"onUpdate\"\n           @touchend.stop=\"onUpdate\"\n           @keyup.stop=\"onUpdate\"\n           @keydown.stop=\"onUpdate\"\n           v-for=\"(v, i) in value\" :key=\"i\">\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"RangeSlider\",\n  emits: ['input', 'change', 'mouseup', 'mousedown', 'touchstart', 'touchend', 'keyup', 'keydown'],\n  props: {\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n\n    range: {\n      type: Array,\n      default: () => [0, 100],\n    },\n\n    step: {\n      type: Number,\n      default: 1,\n    },\n\n    value: {\n      type: Array,\n      default: () => [0, 100],\n    },\n  },\n\n  methods: {\n    onUpdate(event) {\n      this.$emit(event.type, {\n        ...event,\n        target: {\n          ...event.target,\n          value: this.$refs.ranges.map((input) => parseFloat(input.value)).sort(),\n        }\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.range-wrapper {\n  width: 100%;\n  position: relative;\n\n  @mixin runnable-track {\n    width: 100%;\n    height: 0.75em;\n    cursor: pointer;\n    animate: 0.2s;\n    background: $slider-bg;\n    border-radius: 0.5em;\n    box-shadow: inset 1px 0px 3px 0 $slider-track-shadow;\n    border: 0;\n  }\n\n  @mixin thumb {\n    width: 1.25em;\n    height: 1.25em;\n    background: $slider-thumb-bg;\n    position: relative;\n    z-index: 2;\n    border-radius: 50%;\n    box-shadow: 1px 0px 2px 0 $slider-thumb-shadow;\n    cursor: pointer;\n  }\n\n  input[type=range] {\n    width: 100%;\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    outline: none;\n    @include appearance(none);\n\n    &:focus, &:hover {\n      outline: none;\n      border: 0;\n    }\n\n    &::-webkit-slider-runnable-track {\n      @include runnable-track;\n    }\n\n    &::-moz-range-track {\n      @include runnable-track;\n    }\n\n    &::-ms-track {\n      width: 100%;\n      height: 0.75em;\n      cursor: pointer;\n      animate: 0.2s;\n      background: transparent;\n      border-color: transparent;\n      color: transparent;\n    }\n\n    &::-ms-fill-lower,\n    &::-ms-fill-upper {\n      background: $slider-progress-bg;\n      border-radius: 1px;\n      box-shadow: none;\n      border: 0;\n    }\n\n    &::-webkit-slider-thumb {\n      @include thumb;\n      @include appearance(none);\n      margin-top: -0.25em;\n    }\n\n    &::-moz-range-thumb {\n      @include thumb;\n    }\n\n    &::-ms-thumb {\n      @include thumb;\n    }\n  }\n}\n</style>\n\n","import { render } from \"./RangeSlider.vue?vue&type=template&id=981c5de0&scoped=true\"\nimport script from \"./RangeSlider.vue?vue&type=script&lang=js\"\nexport * from \"./RangeSlider.vue?vue&type=script&lang=js\"\n\nimport \"./RangeSlider.vue?vue&type=style&index=0&id=981c5de0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-981c5de0\"]])\n\nexport default __exports__","import { render } from \"./Animate.vue?vue&type=template&id=44c83513&scoped=true\"\nimport script from \"./Animate.vue?vue&type=script&lang=js\"\nexport * from \"./Animate.vue?vue&type=script&lang=js\"\n\nimport \"./Animate.vue?vue&type=style&index=0&id=44c83513&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-44c83513\"]])\n\nexport default __exports__","import { render } from \"./Group.vue?vue&type=template&id=39fd4c80&scoped=true\"\nimport script from \"./Group.vue?vue&type=script&lang=js\"\nexport * from \"./Group.vue?vue&type=script&lang=js\"\n\nimport \"./Group.vue?vue&type=style&index=0&id=39fd4c80&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-39fd4c80\"]])\n\nexport default __exports__","import { render } from \"./Index.vue?vue&type=template&id=0c531b7c&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=0c531b7c&lang=scss&scoped=true\"\nimport \"./Index.vue?vue&type=style&index=1&id=0c531b7c&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0c531b7c\"]])\n\nexport default __exports__"],"names":["ColorConverter","constructor","ranges","this","hue","sat","bri","ct","attr","Object","keys","normalize","x","xRange","yRange","hslToRgb","h","s","l","a","Math","min","f","n","k","color","max","round","rgbToHsl","r","g","b","d","parseInt","xyToRgb","y","brightness","z","Y","toFixed","X","Z","red","green","blue","pow","isNaN","map","c","rgbToXY","parseFloat","rgbToBri","getRGB","rgb","getXY","xy","toRGB","console","debug","toXY","toHSL","hexToRgb","hex","slice","_","rgbToHex","toString","length","join","class","_createElementBlock","_hoisted_1","$props","withRange","_normalizeClass","withLabel","_toDisplayString","range","_createElementVNode","_hoisted_4","type","step","disabled","value","ref","onInput","_cache","_withModifiers","$event","_ctx","$emit","onChange","emits","props","Number","Boolean","default","Array","__exports__","render","onClick","args","$options","checked","id","_hoisted_2","_renderSlot","$slots","undefined","name","String","methods","event","$data","selectedGroup","groups","_hoisted_3","_createVNode","_component_Groups","loadingGroups","colorConverter","onSelect","onToggle","ungroupedLights","_component_Group","group","lights","scenes","scenesByGroup","animations","animationsByGroup","title","onClose","onLightToggle","onSelectScene","groupId","sceneId","onSetLight","onStartAnimation","onStopAnimation","_hoisted_5","displayedLights","onGroupToggle","onSetGroup","config","pluginName","required","data","loading","mounted","_component_MenuPanel","_component_ToggleSwitch","anyLightsOn","_Fragment","_renderList","groupsSorted","key","_hoisted_6","state","any_on","components","ToggleSwitch","MenuPanel","computed","entries","sort","localeCompare","values","withBackButton","close","selected","selectedView","groupName","_hoisted_7","_hoisted_8","_hoisted_10","_createBlock","_KeepAlive","lightsSorted","light","expanded","selectedLight","_component_Light","collapsed","_hoisted_12","scenesSorted","scene","selectedScene","onSceneSelected","_component_Scene","_hoisted_14","_component_Controls","_hoisted_15","_component_Animate","onStart","onStop","expandToggle","on","stopPropagation","_component_Loading","_component_Slider","target","temperature","rgbColor","onColorSelect","Loading","Slider","avg","i","reduce","sum","obj","forEach","getColor","split","t","hsl","Controls","animationRunning","toggleAnimation","selectedAnimation","_hoisted_9","_component_RangeSlider","color_transition","hue_range","onMouseup","_hoisted_11","sat_range","_hoisted_13","bri_range","hue_step","_hoisted_16","_hoisted_17","sat_step","_hoisted_18","_hoisted_19","bri_step","_hoisted_20","_hoisted_21","transition_seconds","_hoisted_23","_hoisted_24","duration","_hoisted_26","_hoisted_27","selectedLights","filter","v","toggleSelectAll","onUpdate","onMousedown","onTouchstart","onTouchend","onKeyup","onKeydown","$refs","input","mixins","Utils","RangeSlider","runningAnimations","animation","lightId","blink","select","eventType","notifyWarning","Animate","Light","Scene","some","Panel","Group","Groups","loadingLights","initialGroup","initialized","groupsByLight","self","initSelectedGroup","unwatch","$watch","newVal","refresh","onLightChange","plugin_name","light_id","onAnimationChange","subscribe","unmounted","unsubscribe"],"sourceRoot":""}