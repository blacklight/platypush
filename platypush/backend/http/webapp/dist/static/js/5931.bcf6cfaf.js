"use strict";(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[5931,2200,6640,5578,5762,886,9091,342,7898,6123],{3222:function(e,t,l){l.d(t,{Z:function(){return r}});var s=l(6252),i=l(3577);const n={class:"no-items-container"};function a(e,t,l,a,o,d){return(0,s.wg)(),(0,s.iD)("div",n,[(0,s._)("div",{class:(0,i.C_)(["no-items fade-in",{shadow:l.withShadow}])},[(0,s.WI)(e.$slots,"default",{},void 0,!0)],2)])}var o={name:"NoItems",props:{withShadow:{type:Boolean,default:!0}}},d=l(3744);const c=(0,d.Z)(o,[["render",a],["__scopeId","data-v-4856c4d7"]]);var r=c},6640:function(e,t,l){l.r(t),l.d(t,{default:function(){return a}});var s=l(8637),i={emits:["back","path-change","play"],mixins:[s.Z],props:{filter:{type:String,default:""}},data(){return{loading:!1}}};const n=i;var a=n},5578:function(e,t,l){l.r(t),l.d(t,{default:function(){return k}});var s=l(6252),i=l(3577);const n=e=>((0,s.dD)("data-v-2bc923a8"),e=e(),(0,s.Cn)(),e),a={class:"nav"},o={class:"path"},d=n((()=>(0,s._)("i",{class:"fas fa-home"},null,-1))),c=[d],r=n((()=>(0,s._)("span",{class:"separator"},[(0,s._)("i",{class:"fas fa-chevron-right"})],-1))),u=["title","onClick"],h={key:1},p={key:0,class:"separator"},f=n((()=>(0,s._)("i",{class:"fas fa-chevron-right"},null,-1))),y=[f];function g(e,t,l,n,d,f){return(0,s.wg)(),(0,s.iD)("div",a,[(0,s._)("span",o,[(0,s._)("span",{class:"back token",title:"Back",onClick:t[0]||(t[0]=t=>e.$emit("back"))},c),r]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.path,((t,n)=>((0,s.wg)(),(0,s.iD)("span",{class:"path",key:n},[(0,s._)("span",{class:"token",title:t.title,onClick:e=>f.onClick(t)},[(e.icon=t.icon?.["class"])?((0,s.wg)(),(0,s.iD)("i",{key:0,class:(0,i.C_)(["icon",e.icon])},null,2)):(0,s.kq)("",!0),t.title?((0,s.wg)(),(0,s.iD)("span",h,(0,i.zw)(t.title),1)):(0,s.kq)("",!0)],8,u),(n>0||l.path.length>1)&&n<l.path.length-1?((0,s.wg)(),(0,s.iD)("span",p,y)):(0,s.kq)("",!0)])))),128))])}var m={emit:["back"],props:{path:{type:Array,default:()=>[]}},methods:{onClick(e){e.click&&e.click()}}},v=l(3744);const w=(0,v.Z)(m,[["render",g],["__scopeId","data-v-2bc923a8"]]);var k=w},5931:function(e,t,l){l.r(t),l.d(t,{default:function(){return w}});var s=l(6252);const i={class:"media-youtube-browser"},n={key:1,class:"browser"},a={key:1,class:"body"};function o(e,t,l,o,d,c){const r=(0,s.up)("Loading"),u=(0,s.up)("MediaNav"),h=(0,s.up)("NoToken"),p=(0,s.up)("Feed"),f=(0,s.up)("Playlists"),y=(0,s.up)("Subscriptions"),g=(0,s.up)("Index");return(0,s.wg)(),(0,s.iD)("div",i,[e.loading?((0,s.wg)(),(0,s.j4)(r,{key:0})):((0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(u,{path:c.computedPath,onBack:t[0]||(t[0]=t=>e.$emit("back"))},null,8,["path"]),c.authToken?((0,s.wg)(),(0,s.iD)("div",a,["feed"===d.selectedView?((0,s.wg)(),(0,s.j4)(p,{key:0,filter:e.filter,onPlay:t[1]||(t[1]=t=>e.$emit("play",t))},null,8,["filter"])):"playlists"===d.selectedView?((0,s.wg)(),(0,s.j4)(f,{key:1,filter:e.filter,"selected-playlist":d.selectedPlaylist,onPlay:t[2]||(t[2]=t=>e.$emit("play",t)),onSelect:c.onPlaylistSelected},null,8,["filter","selected-playlist","onSelect"])):"subscriptions"===d.selectedView?((0,s.wg)(),(0,s.j4)(y,{key:2,filter:e.filter,"selected-channel":d.selectedChannel,onPlay:t[3]||(t[3]=t=>e.$emit("play",t)),onSelect:c.onChannelSelected},null,8,["filter","selected-channel","onSelect"])):((0,s.wg)(),(0,s.j4)(g,{key:3,onSelect:c.selectView},null,8,["onSelect"]))])):((0,s.wg)(),(0,s.j4)(h,{key:0}))]))])}l(560);var d=l(6791),c=l(5578),r=l(6640),u=l(886),h=l(2200),p=l(9091),f=l(7898),y=l(7425),g={mixins:[r["default"]],components:{Feed:u["default"],Index:h["default"],Loading:d.Z,MediaNav:c["default"],NoToken:p["default"],Playlists:f["default"],Subscriptions:y["default"]},data(){return{youtubeConfig:null,selectedView:null,selectedPlaylist:null,selectedChannel:null,path:[]}},computed:{authToken(){return this.youtubeConfig?.auth_token},computedPath(){return[{title:"YouTube",click:()=>this.selectView(null),icon:{class:"fab fa-youtube"}},...this.path]}},methods:{async loadYoutubeConfig(){this.loading=!0;try{this.youtubeConfig=(await this.request("config.get_plugins")).youtube}finally{this.loading=!1}},selectView(e){this.selectedView=e,"playlists"===e?this.selectedPlaylist=null:"subscriptions"===e&&(this.selectedChannel=null),this.path=e?.length?[{title:e.slice(0,1).toUpperCase()+e.slice(1),click:()=>this.selectView(e)}]:[]},onPlaylistSelected(e){this.selectedPlaylist=e.id,this.path.push({title:e.name})},onChannelSelected(e){this.selectedChannel=e.id,this.path.push({title:e.name})}},mounted(){this.loadYoutubeConfig()}},m=l(3744);const v=(0,m.Z)(g,[["render",o],["__scopeId","data-v-e008e860"]]);var w=v},7018:function(e,t,l){l.r(t),l.d(t,{default:function(){return b}});var s=l(6252),i=l(3577);const n={class:"header"},a={class:"banner"},o=["src"],d={class:"row"},c=["href"],r={class:"image"},u=["src"],h={class:"info"},p=["href"],f={class:"description"};function y(e,t,l,y,g,m){const v=(0,s.up)("Loading"),w=(0,s.up)("Results");return(0,s.wg)(),(0,s.iD)("div",{class:"media-youtube-channel",onScroll:t[3]||(t[3]=(...e)=>m.onScroll&&m.onScroll(...e))},[g.loading?((0,s.wg)(),(0,s.j4)(v,{key:0})):g.channel?((0,s.wg)(),(0,s.iD)("div",{key:1,class:"channel",onScroll:t[2]||(t[2]=(...e)=>m.onScroll&&m.onScroll(...e))},[(0,s._)("div",n,[(0,s._)("div",a,[g.channel?.banner?.length?((0,s.wg)(),(0,s.iD)("img",{key:0,src:g.channel.banner},null,8,o)):(0,s.kq)("",!0)]),(0,s._)("div",d,[(0,s._)("a",{href:g.channel.url,target:"_blank",rel:"noopener noreferrer"},[(0,s._)("div",r,[g.channel?.image?.length?((0,s.wg)(),(0,s.iD)("img",{key:0,src:g.channel.image},null,8,u)):(0,s.kq)("",!0)])],8,c),(0,s._)("div",h,[(0,s._)("a",{class:"title",href:g.channel.url,target:"_blank",rel:"noopener noreferrer"},(0,i.zw)(g.channel?.name),9,p),(0,s._)("div",f,(0,i.zw)(g.channel?.description),1)])])]),(0,s.Wm)(w,{results:g.channel.items,filter:l.filter,"selected-result":g.selectedResult,ref:"results",onSelect:t[0]||(t[0]=e=>g.selectedResult=e),onPlay:t[1]||(t[1]=t=>e.$emit("play",t))},null,8,["results","filter","selected-result"])],32)):(0,s.kq)("",!0)],32)}l(560);var g=l(6791),m=l(1983),v=l(8637),w={emits:["play"],mixins:[v.Z],components:{Loading:g.Z,Results:m.Z},props:{id:{type:String,required:!0},filter:{type:String,default:null}},data(){return{channel:null,loading:!1,loadingNextPage:!1,selectedResult:null}},computed:{itemsByUrl(){return this.channel?.items.reduce(((e,t)=>(e[t.url]=t,e)),{})}},methods:{async loadChannel(){this.loading=!0;try{this.channel=await this.request("youtube.get_channel",{id:this.id})}finally{this.loading=!1}},async loadNextPage(){if(this.channel?.next_page_token&&!this.loadingNextPage)try{const e=await this.request("youtube.get_channel",{id:this.id,next_page_token:this.channel.next_page_token});this.channel.items.push(...e.items.filter((e=>!this.itemsByUrl[e.url]))),this.channel.next_page_token=e.next_page_token,this.$refs.results.maxResultIndex+=this.$refs.results.resultIndexStep}finally{this.loadingNextPage=!1}},onScroll(e){const t=e.target;if(!t)return;const l=t.scrollHeight-t.scrollTop<=t.clientHeight+150;l&&this.loadNextPage()}},mounted(){this.loadChannel()}},k=l(3744);const _=(0,k.Z)(w,[["render",y],["__scopeId","data-v-21b0d859"]]);var b=_},886:function(e,t,l){l.r(t),l.d(t,{default:function(){return p}});var s=l(6252);const i={class:"media-youtube-feed"};function n(e,t,l,n,a,o){const d=(0,s.up)("Loading"),c=(0,s.up)("NoItems"),r=(0,s.up)("Results");return(0,s.wg)(),(0,s.iD)("div",i,[a.loading?((0,s.wg)(),(0,s.j4)(d,{key:0})):a.feed?.length?((0,s.wg)(),(0,s.j4)(r,{key:2,results:a.feed,filter:l.filter,sources:{youtube:!0},"selected-result":a.selectedResult,onSelect:t[0]||(t[0]=e=>a.selectedResult=e),onPlay:t[1]||(t[1]=t=>e.$emit("play",t))},null,8,["results","filter","selected-result"])):((0,s.wg)(),(0,s.j4)(c,{key:1,"with-shadow":!1},{default:(0,s.w5)((()=>[(0,s.Uk)(" No videos found. ")])),_:1}))])}var a=l(3222),o=l(6791),d=l(1983),c=l(8637),r={emits:["play"],mixins:[c.Z],components:{Loading:o.Z,NoItems:a.Z,Results:d.Z},props:{filter:{type:String,default:null}},data(){return{feed:[],loading:!1,selectedResult:null}},methods:{async loadFeed(){this.loading=!0;try{this.feed=(await this.request("youtube.get_feed")).map((e=>({...e,type:"youtube"})))}finally{this.loading=!1}}},mounted(){this.loadFeed()}},u=l(3744);const h=(0,u.Z)(r,[["render",n],["__scopeId","data-v-fc65dae6"]]);var p=h},2200:function(e,t,l){l.r(t),l.d(t,{default:function(){return v}});var s=l(6252);const i={class:"youtube-views-browser grid"},n=(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fas fa-rss"})],-1),a=(0,s._)("div",{class:"name"},"Feed",-1),o=[n,a],d=(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fas fa-list"})],-1),c=(0,s._)("div",{class:"name"},"Playlists",-1),r=[d,c],u=(0,s._)("div",{class:"icon"},[(0,s._)("i",{class:"fas fa-user"})],-1),h=(0,s._)("div",{class:"name"},"Subscriptions",-1),p=[u,h];function f(e,t,l,n,a,d){return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",{class:"item",onClick:t[0]||(t[0]=t=>e.$emit("select","feed"))},o),(0,s._)("div",{class:"item",onClick:t[1]||(t[1]=t=>e.$emit("select","playlists"))},r),(0,s._)("div",{class:"item",onClick:t[2]||(t[2]=t=>e.$emit("select","subscriptions"))},p)])}var y={emits:["select"]},g=l(3744);const m=(0,g.Z)(y,[["render",f]]);var v=m},9091:function(e,t,l){l.r(t),l.d(t,{default:function(){return u}});var s=l(6252);const i={class:"no-token"},n=(0,s.uE)('<div class="title" data-v-42457341> No <code data-v-42457341>auth_token</code> found in the YouTube configuration. </div><div class="description" data-v-42457341> This integration requires an <code data-v-42457341>auth_token</code> to be set in the <code data-v-42457341>youtube</code> section of the configuration file in order to access your playlists and subscriptions.<br data-v-42457341><br data-v-42457341> Piped auth tokens are currently supported. You can retrieve one through the following procedure: <ol data-v-42457341><li data-v-42457341>Login to your configured Piped instance.</li><li data-v-42457341>Copy the RSS/Atom feed URL on the <i data-v-42457341>Feed</i> tab.</li><li data-v-42457341>Copy the <code data-v-42457341>auth_token</code> query parameter from the URL.</li><li data-v-42457341> Enter it in the <code data-v-42457341>auth_token</code> field in the <code data-v-42457341>youtube</code> section of the configuration file. </li></ol></div>',2),a=[n];function o(e,t){return(0,s.wg)(),(0,s.iD)("div",i,a)}var d=l(3744);const c={},r=(0,d.Z)(c,[["render",o],["__scopeId","data-v-42457341"]]);var u=r},342:function(e,t,l){l.r(t),l.d(t,{default:function(){return p}});var s=l(6252);const i={class:"media-youtube-playlist"};function n(e,t,l,n,a,o){const d=(0,s.up)("Loading"),c=(0,s.up)("NoItems"),r=(0,s.up)("Results");return(0,s.wg)(),(0,s.iD)("div",i,[a.loading?((0,s.wg)(),(0,s.j4)(d,{key:0})):a.items?.length?((0,s.wg)(),(0,s.j4)(r,{key:2,results:a.items,sources:{youtube:!0},filter:l.filter,"selected-result":a.selectedResult,onSelect:t[0]||(t[0]=e=>a.selectedResult=e),onPlay:t[1]||(t[1]=t=>e.$emit("play",t))},null,8,["results","filter","selected-result"])):((0,s.wg)(),(0,s.j4)(c,{key:1,"with-shadow":!1},{default:(0,s.w5)((()=>[(0,s.Uk)(" No videos found. ")])),_:1}))])}var a=l(3222),o=l(6791),d=l(1983),c=l(8637),r={emits:["play"],mixins:[c.Z],components:{Loading:o.Z,NoItems:a.Z,Results:d.Z},props:{id:{type:String,required:!0},filter:{type:String,default:null}},data(){return{items:[],loading:!1,selectedResult:null}},methods:{async loadItems(){this.loading=!0;try{this.items=(await this.request("youtube.get_playlist",{id:this.id})).map((e=>({...e,type:"youtube"})))}finally{this.loading=!1}}},mounted(){this.loadItems()}},u=l(3744);const h=(0,u.Z)(r,[["render",n],["__scopeId","data-v-66236cc4"]]);var p=h},7898:function(e,t,l){l.r(t),l.d(t,{default:function(){return k}});var s=l(6252),i=l(3577);const n={class:"media-youtube-playlists"},a={key:0,class:"playlists-index"},o={key:2,class:"body grid"},d=["onClick"],c={class:"title"},r={key:1,class:"playlist-body"};function u(e,t,l,u,h,p){const f=(0,s.up)("Loading"),y=(0,s.up)("NoItems"),g=(0,s.up)("MediaImage"),m=(0,s.up)("Playlist");return(0,s.wg)(),(0,s.iD)("div",n,[l.selectedPlaylist?((0,s.wg)(),(0,s.iD)("div",r,[(0,s.Wm)(m,{id:l.selectedPlaylist,filter:l.filter,onPlay:t[0]||(t[0]=t=>e.$emit("play",t))},null,8,["id","filter"])])):((0,s.wg)(),(0,s.iD)("div",a,[h.loading?((0,s.wg)(),(0,s.j4)(f,{key:0})):h.playlists?.length?((0,s.wg)(),(0,s.iD)("div",o,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(p.playlistsById,((t,l)=>((0,s.wg)(),(0,s.iD)("div",{class:"playlist item",key:l,onClick:l=>e.$emit("select",t)},[(0,s.Wm)(g,{item:t,"has-play":!1},null,8,["item"]),(0,s._)("div",c,(0,i.zw)(t.name),1)],8,d)))),128))])):((0,s.wg)(),(0,s.j4)(y,{key:1,"with-shadow":!1},{default:(0,s.w5)((()=>[(0,s.Uk)(" No playlists found. ")])),_:1}))]))])}var h=l(6034),p=l(3222),f=l(6791),y=l(342),g=l(8637),m={emits:["play","select"],mixins:[g.Z],components:{Loading:f.Z,MediaImage:h.Z,NoItems:p.Z,Playlist:y["default"]},props:{selectedPlaylist:{type:String,default:null},filter:{type:String,default:null}},data(){return{playlists:[],loading:!1}},computed:{playlistsById(){return this.playlists.filter((e=>!this.filter||e.name.toLowerCase().includes(this.filter.toLowerCase()))).reduce(((e,t)=>(e[t.id]=t,e)),{})}},methods:{async loadPlaylists(){this.loading=!0;try{this.playlists=await this.request("youtube.get_playlists")}finally{this.loading=!1}}},mounted(){this.loadPlaylists()}},v=l(3744);const w=(0,v.Z)(m,[["render",u],["__scopeId","data-v-4f7cc8e3"]]);var k=w},7425:function(e,t,l){l.r(t),l.d(t,{default:function(){return _}});var s=l(6252),i=l(3577);const n={class:"media-youtube-subscriptions"},a={key:0,class:"subscriptions-index"},o={key:2,class:"body grid"},d=["onClick"],c={class:"image"},r=["src","alt"],u={class:"title"},h={key:1,class:"subscription-body"};function p(e,t,l,p,f,y){const g=(0,s.up)("Loading"),m=(0,s.up)("NoItems"),v=(0,s.up)("Channel");return(0,s.wg)(),(0,s.iD)("div",n,[l.selectedChannel?((0,s.wg)(),(0,s.iD)("div",h,[(0,s.Wm)(v,{id:l.selectedChannel,filter:l.filter,onPlay:t[0]||(t[0]=t=>e.$emit("play",t))},null,8,["id","filter"])])):((0,s.wg)(),(0,s.iD)("div",a,[f.loading?((0,s.wg)(),(0,s.j4)(g,{key:0})):f.channels?.length?((0,s.wg)(),(0,s.iD)("div",o,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(y.channelsById,((t,l)=>((0,s.wg)(),(0,s.iD)("div",{class:"channel item",key:l,onClick:l=>e.$emit("select",t)},[(0,s._)("div",c,[(0,s._)("img",{src:t.image,alt:t.name},null,8,r)]),(0,s._)("div",u,(0,i.zw)(t.name),1)],8,d)))),128))])):((0,s.wg)(),(0,s.j4)(m,{key:1,"with-shadow":!1},{default:(0,s.w5)((()=>[(0,s.Uk)(" No channels found. ")])),_:1}))]))])}var f=l(7018),y=l(3222),g=l(6791),m=l(8637),v={emits:["play","select"],mixins:[m.Z],components:{Channel:f["default"],Loading:g.Z,NoItems:y.Z},props:{selectedChannel:{type:String,default:null},filter:{type:String,default:null}},data(){return{channels:[],loading:!1}},computed:{channelsById(){return this.channels.filter((e=>!this.filter||e.name.toLowerCase().includes(this.filter.toLowerCase()))).reduce(((e,t)=>(e[t.id]=t,e)),{})}},methods:{async loadSubscriptions(){this.loading=!0;try{this.channels=await this.request("youtube.get_subscriptions")}finally{this.loading=!1}}},mounted(){this.loadSubscriptions()}},w=l(3744);const k=(0,w.Z)(v,[["render",p],["__scopeId","data-v-3ff3db5a"]]);var _=k}}]);
//# sourceMappingURL=5931.bcf6cfaf.js.map