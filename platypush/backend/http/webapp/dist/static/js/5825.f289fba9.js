"use strict";(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[5825,6640],{5825:function(e,l,i){i.r(l),i.d(l,{default:function(){return y}});var t=i(6252),a=i(3577);const o={class:"collections index"},s={key:1,class:"collections items"},n=["onClick"],c={class:"image"},r=["src","alt","onError"],d={key:0,class:"name"};function f(e,l,i,f,u,g){const m=(0,t.up)("Loading");return(0,t.wg)(),(0,t.iD)("div",o,[g.isLoading?((0,t.wg)(),(0,t.j4)(m,{key:0})):((0,t.wg)(),(0,t.iD)("div",s,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(g.filteredCollections,(l=>((0,t.wg)(),(0,t.iD)("div",{class:"collection item",key:l.id,onClick:i=>e.$emit("select",l)},[(0,t._)("div",c,[u.fallbackImageCollections[l.id]?((0,t.wg)(),(0,t.iD)("i",{key:1,class:(0,a.C_)(g.collectionsIcons[l.type]??"fas fa-folder")},null,2)):((0,t.wg)(),(0,t.iD)("img",{key:0,src:l.image,alt:l.name,onError:e=>g.onImageError(l)},null,40,r))]),u.fallbackImageCollections[l.id]?((0,t.wg)(),(0,t.iD)("div",d,[(0,t._)("h2",null,(0,a.zw)(l.name),1)])):(0,t.kq)("",!0)],8,n)))),128))]))])}var u=i(6791),g=i(6640),m={mixins:[g["default"]],components:{Loading:u.Z},emits:["add-to-playlist","back","download","download-audio","play","play-with-opts","select"],data(){return{collections:{},fallbackImageCollections:{},loading_:!1}},computed:{collectionsIcons(){return{books:"fas fa-book",homevideos:"fas fa-video",movies:"fas fa-film",music:"fas fa-music",playlists:"fas fa-list",photos:"fas fa-image",series:"fas fa-tv"}},filteredCollections(){return Object.values(this.collections).filter((e=>!this.filter||e.name.toLowerCase().includes(this.filter.toLowerCase())))},isLoading(){return this.loading_||this.loading}},methods:{onImageError(e){this.fallbackImageCollections[e.id]=!0},async refresh(){this.loading_=!0;try{this.collections=(await this.request("media.jellyfin.get_collections")).reduce(((e,l)=>(e[l.id]=l,e)),{})}finally{this.loading_=!1}},initCollection(){const e=this.getUrlArgs().collection;if(null==e)return;const l=this.collections[e];l&&this.$emit("select",l)}},async mounted(){await this.refresh(),this.initCollection()}},h=i(3744);const p=(0,h.Z)(m,[["render",f],["__scopeId","data-v-42379b56"]]);var y=p},6640:function(e,l,i){i.r(l),i.d(l,{default:function(){return s}});var t=i(8637),a={mixins:[t.Z],emits:["add-to-playlist","back","create-playlist","download","download-audio","path-change","play","remove-from-playlist","remove-playlist","rename-playlist"],props:{filter:{type:String,default:""},loading:{type:Boolean,default:!1},mediaPlugin:{type:String},selectedPlaylist:{default:null},selectedChannel:{default:null}},data(){return{loading_:!1}},computed:{isLoading(){return this.loading||this.loading_}}};const o=a;var s=o}}]);
//# sourceMappingURL=5825.f289fba9.js.map