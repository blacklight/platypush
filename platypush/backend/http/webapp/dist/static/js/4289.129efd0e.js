"use strict";(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[4289,3022,6640],{3222:function(t,e,o){o.d(e,{Z:function(){return d}});var s=o(6252),n=o(3577);const i={class:"no-items-container"};function a(t,e,o,a,l,r){return(0,s.wg)(),(0,s.iD)("div",i,[(0,s._)("div",{class:(0,n.C_)(["no-items fade-in",{shadow:o.withShadow}])},[(0,s.WI)(t.$slots,"default",{},void 0,!0)],2)])}var l={name:"NoItems",props:{withShadow:{type:Boolean,default:!0}}},r=o(3744);const c=(0,r.Z)(l,[["render",a],["__scopeId","data-v-4856c4d7"]]);var d=c},4289:function(t,e,o){o.r(e),o.d(e,{default:function(){return f}});var s=o(6252);const n={class:"movies index"};function i(t,e,o,i,a,l){const r=(0,s.up)("Loading"),c=(0,s.up)("NoItems"),d=(0,s.up)("Results"),u=(0,s.up)("SortButton");return(0,s.wg)(),(0,s.iD)("div",n,[l.isLoading?((0,s.wg)(),(0,s.j4)(r,{key:0})):0===l.sortedMovies.length?((0,s.wg)(),(0,s.j4)(c,{key:1,"with-shadow":!1},{default:(0,s.w5)((()=>[(0,s.Uk)(" No movies found. ")])),_:1})):((0,s.wg)(),(0,s.j4)(d,{key:2,results:l.sortedMovies,sources:{jellyfin:!0},filter:t.filter,"selected-result":a.selectedResult,onAddToPlaylist:e[0]||(e[0]=e=>t.$emit("add-to-playlist",e)),onDownload:e[1]||(e[1]=e=>t.$emit("download",e)),onPlay:e[2]||(e[2]=e=>t.$emit("play",e)),onPlayWithOpts:e[3]||(e[3]=e=>t.$emit("play-with-opts",e)),onRemoveFromPlaylist:e[4]||(e[4]=e=>t.$emit("remove-from-playlist",e)),onSelect:e[5]||(e[5]=t=>a.selectedResult=t)},null,8,["results","filter","selected-result"])),l.sortedMovies.length>0?((0,s.wg)(),(0,s.j4)(u,{key:3,value:a.sort,onInput:e[6]||(e[6]=t=>a.sort=t)},null,8,["value"])):(0,s.kq)("",!0)])}var a=o(6791),l=o(6640),r=o(3222),c=o(1602),d=o(3022),u={mixins:[l["default"]],components:{Loading:a.Z,NoItems:r.Z,Results:c.Z,SortButton:d["default"]},emits:["add-to-playlist","back","download","play","play-with-opts"],props:{collection:{type:Object,required:!0}},data(){return{movies:[],loading_:!1,selectedResult:null,sort:{attr:"title",desc:!1}}},computed:{isLoading(){return this.loading_||this.loading},sortedMovies(){return this.movies?[...this.movies].sort(((t,e)=>{const o=this.sort.attr,s=this.sort.desc;let n=t[o],i=e[o];return"number"===typeof n||"number"===typeof i?(n=n||0,i=i||0,s?i-n:n-i):(n=(n||"").toString().toLowerCase(),i=(i||"").toString().toLowerCase(),s?i.localeCompare(n):n.localeCompare(i))})).map((t=>({item_type:t.type,...t,type:"jellyfin"}))):[]}},methods:{async refresh(){const t=this.collection?.name;if(t?.length){this.loading_=!0;try{this.movies=await this.request("media.jellyfin.search",{collection:t,limit:1e3})}finally{this.loading_=!1}}}},watch:{collection:{immediate:!0,handler(){this.refresh()}}},async mounted(){await this.refresh()}},p=o(3744);const m=(0,p.Z)(u,[["render",i],["__scopeId","data-v-1b8f4009"]]);var f=m},3022:function(t,e,o){o.r(e),o.d(e,{default:function(){return D}});var s=o(6252);const n={class:"sort-buttons"},i={class:"sort-buttons-dropdown-body"},a=(0,s._)("div",{class:"title"},"Sort Direction",-1),l=(0,s._)("div",{class:"title"},"Sort By",-1);function r(t,e,o,r,c,d){const u=(0,s.up)("DropdownItem"),p=(0,s.up)("Dropdown");return(0,s.wg)(),(0,s.iD)("div",n,[(0,s.Wm)(p,{"icon-class":d.btnIconClass,glow:"",right:"",title:"Sort Direction"},{default:(0,s.w5)((()=>[(0,s._)("div",i,[a,(0,s.Wm)(u,{text:"Ascending","icon-class":"fa fa-arrow-up-short-wide","item-class":{active:!o.value?.desc},onInput:e[0]||(e[0]=t=>d.onDescChange(!1))},null,8,["item-class"]),(0,s.Wm)(u,{text:"Descending","icon-class":"fa fa-arrow-down-wide-short","item-class":{active:o.value?.desc},onInput:e[1]||(e[1]=t=>d.onDescChange(!0))},null,8,["item-class"]),l,(0,s.Wm)(u,{text:"Name","icon-class":"fa fa-font","item-class":{active:"title"===o.value?.attr},onInput:e[2]||(e[2]=t=>d.onAttrChange("title"))},null,8,["item-class"]),(0,s.Wm)(u,{text:"Release Date","icon-class":"fa fa-calendar","item-class":{active:"year"===o.value?.attr},onInput:e[3]||(e[3]=t=>d.onAttrChange("year"))},null,8,["item-class"]),(0,s.Wm)(u,{text:"Critics Rating","icon-class":"fa fa-star","item-class":{active:"critic_rating"===o.value?.attr},onInput:e[4]||(e[4]=t=>d.onAttrChange("critic_rating"))},null,8,["item-class"]),(0,s.Wm)(u,{text:"Community Rating","icon-class":"fa fa-users","item-class":{active:"community_rating"===o.value?.attr},onInput:e[5]||(e[5]=t=>d.onAttrChange("community_rating"))},null,8,["item-class"])])])),_:1},8,["icon-class"])])}var c=o(9963),d=o(3577);const u={class:"floating-dropdown-container"},p={class:"body-container hidden",ref:"dropdownContainer"};function m(t,e,o,n,i,a){const l=(0,s.up)("FloatingButton"),r=(0,s.up)("DropdownBody");return(0,s.wg)(),(0,s.iD)("div",u,[(0,s.Wm)(l,{disabled:t.disabled,iconClass:t.iconClass,iconUrl:t.iconUrl,glow:t.glow,left:t.left,right:t.right,title:t.title,top:t.top,bottom:t.bottom,ref:"button",onClick:e[0]||(e[0]=(0,c.iM)((e=>t.toggle(e)),["stop"]))},null,8,["disabled","iconClass","iconUrl","glow","left","right","title","top","bottom"]),(0,s._)("div",p,[(0,s.Wm)(r,{id:t.id,keepOpenOnItemClick:t.keepOpenOnItemClick,style:(0,d.j5)(t.style),ref:"dropdown",onClick:t.onClick},{default:(0,s.w5)((()=>[(0,s.WI)(t.$slots,"default",{},void 0,!0)])),_:3},8,["id","keepOpenOnItemClick","style","onClick"])],512)])}var f=o(1370),h=o(3218),g=o(3825),v={mixins:[f.Z,g.Z],emits:["click"],components:{DropdownBody:h.Z,FloatingButton:g.Z}},w=o(3744);const y=(0,w.Z)(v,[["render",m],["__scopeId","data-v-2e3f2ab5"]]);var C=y,_=o(7597),b=o(8637),k={emits:["input"],mixins:[b.Z],components:{Dropdown:C,DropdownItem:_.Z},props:{value:{type:Object,required:!0}},computed:{btnIconClass(){return this.value?.desc?"fa fa-arrow-down-wide-short":"fa fa-arrow-up-short-wide"}},methods:{onAttrChange(t){this.$emit("input",{attr:t,desc:!!this.value?.desc})},onDescChange(t){this.$emit("input",{attr:this.value?.attr,desc:t})}},watch:{value(){this.setUrlArgs({sort:this.value?.attr,desc:this.value?.desc})}},mounted(){const t=this.getUrlArgs(),e=t.sort,o="true"===t.desc?.toString();(e||o)&&this.$emit("input",{attr:e,desc:o})},unmounted(){this.setUrlArgs({sort:null,desc:null})}};const I=(0,w.Z)(k,[["render",r]]);var D=I},6640:function(t,e,o){o.r(e),o.d(e,{default:function(){return a}});var s=o(8637),n={mixins:[s.Z],emits:["add-to-playlist","back","create-playlist","download","download-audio","path-change","play","remove-from-playlist","remove-playlist","rename-playlist"],props:{filter:{type:String,default:""},loading:{type:Boolean,default:!1},mediaPlugin:{type:String},selectedPlaylist:{default:null},selectedChannel:{default:null}},data(){return{loading_:!1}},computed:{isLoading(){return this.loading||this.loading_}}};const i=n;var a=i}}]);
//# sourceMappingURL=4289.129efd0e.js.map