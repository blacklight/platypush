{"version":3,"file":"static/js/5638.7b12f2d2.js","mappings":"gMACOA,MAAM,Y,SAGJA,MAAM,a,SAINA,MAAM,wB,uCAGJA,MAAM,Q,SAMRA,MAAM,c,4HAhBbC,EAAAA,EAAAA,IAuBM,MAvBNC,EAuBM,CAtBWC,EAAAC,UAAO,WAAtBC,EAAAA,EAAAA,IAA0BC,EAAA,CAAAC,IAAA,KAESJ,EAAAK,OAAOC,OAIGN,EAAAK,OAAOC,OAAS,IAAH,WAA1DR,EAAAA,EAAAA,IAOM,MAPNS,EAOM,EANJC,EAAAA,EAAAA,GAA6D,OAAxDX,MAAM,O,aAAOY,EAAAA,EAAAA,IAAQT,EAA4BU,WAAjBV,EAAAK,OAAO,GAAGM,S,WAC/CH,EAAAA,EAAAA,GAAsD,OAAjDX,MAAM,U,aAAUY,EAAAA,EAAAA,IAAQT,EAAkBK,OAAX,GAAGO,U,WACvCJ,EAAAA,EAAAA,GAGM,MAHNK,GAGMJ,EAAAA,EAAAA,IAFDT,EAAAc,WAAWd,EAAAK,OAAO,GAAGM,OAAO,IAAS,OACxCF,EAAAA,EAAAA,IAAGT,EAAAc,WAAWd,EAAAK,OAAO,GAAGU,KAAK,IAAF,wBATiB,WAAhDjB,EAAAA,EAAAA,IAEM,MAFNkB,EAAkD,sBAapBhB,EAAAK,OAAOC,OAAS,IAAH,WAA3CR,EAAAA,EAAAA,IAMM,MANNmB,EAMM,gBALJnB,EAAAA,EAAAA,IAIMoB,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAJ6BnB,EAAAK,OAAOe,MAAM,EAAGC,EAAAC,YAAzBC,K,WAA1BzB,EAAAA,EAAAA,IAIM,OAJDD,MAAM,QAAqDO,IAAKmB,EAAMC,I,EACzEhB,EAAAA,EAAAA,GAA+D,OAA1DX,MAAM,a,aAAaY,EAAAA,EAAAA,IAAQT,EAAwBU,WAAba,EAAMZ,S,WACjDH,EAAAA,EAAAA,GAAsE,OAAjEX,MAAM,a,aAAaY,EAAAA,EAAAA,IAAQT,EAA+Bc,WAApBS,EAAMZ,OAAO,K,WACxDH,EAAAA,EAAAA,GAAwD,OAAnDX,MAAM,gB,aAAgBY,EAAAA,EAAAA,IAAQc,EAAMX,U,kEAUjD,GACEa,KAAM,WACNC,WAAY,CAACC,QAAOA,EAAAA,GACpBC,OAAQ,CAACC,EAAAA,GACTC,MAAO,CAELR,UAAW,CACTS,KAAMC,OACNC,UAAU,EACVC,QAAS,IAIXC,eAAgB,CACdJ,KAAMC,OACNC,UAAU,EACVC,QAAS,MAIbE,KAAM,WACJ,MAAO,CACL/B,OAAQ,GACRJ,SAAS,EAEb,EAEAoC,QAAS,CACPC,QAASC,iBACPC,KAAKvC,SAAU,EAEf,IACEuC,KAAKnC,cAAgBmC,KAAKC,QAAQ,iCAAiCC,KAAInB,IACjEA,EAAMZ,QACRY,EAAMZ,MAAQ,IAAIgC,KAAKpB,EAAMZ,MAAMiC,UAAYrB,EAAMZ,MAAMkC,OACzDtB,EAAMR,MACRQ,EAAMR,IAAM,IAAI4B,KAAKpB,EAAMR,IAAI6B,UAAYrB,EAAMR,IAAI8B,OAEhDtB,IAEX,CAAE,QACAiB,KAAKvC,SAAU,CACjB,CACF,GAGF6C,QAAS,WACPN,KAAKF,UACLS,YAAYP,KAAKF,QAASU,UAA8B,IAApBR,KAAKL,gBAAqBc,QAAQ,IACxE,G,UCzEF,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://platypush/./src/components/widgets/Calendar/Index.vue","webpack://platypush/./src/components/widgets/Calendar/Index.vue?ec45"],"sourcesContent":["<template>\n  <div class=\"calendar\">\n    <Loading v-if=\"loading\" />\n\n    <div class=\"no-events\" v-else-if=\"!events.length\">\n      No events found\n    </div>\n\n    <div class=\"event upcoming-event\" v-else-if=\"events.length > 0\">\n      <div class=\"date\" v-text=\"formatDate(events[0].start)\"></div>\n      <div class=\"summary\" v-text=\"events[0].summary\"></div>\n      <div class=\"time\">\n        {{ formatTime(events[0].start, false) }} -\n        {{ formatTime(events[0].end, false) }}\n      </div>\n    </div>\n\n    <div class=\"event-list\" v-if=\"events.length > 1\">\n      <div class=\"event\" v-for=\"event in events.slice(1, maxEvents)\" :key=\"event.id\">\n        <div class=\"date col-2\" v-text=\"formatDate(event.start)\"></div>\n        <div class=\"time col-2\" v-text=\"formatTime(event.start, false)\"></div>\n        <div class=\"summary col-8\" v-text=\"event.summary\"></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Utils from \"@/Utils\";\nimport Loading from \"@/components/Loading\";\n\nexport default {\n  name: \"Calendar\",\n  components: {Loading},\n  mixins: [Utils],\n  props: {\n    // Maximum number of events to be rendered.\n    maxEvents: {\n      type: Number,\n      required: false,\n      default: 10,\n    },\n\n    // Refresh interval in seconds.\n    refreshSeconds: {\n      type: Number,\n      required: false,\n      default: 600,\n    },\n  },\n\n  data: function() {\n    return {\n      events: [],\n      loading: false,\n    }\n  },\n\n  methods: {\n    refresh: async function() {\n      this.loading = true\n\n      try {\n        this.events = (await this.request('calendar.get_upcoming_events')).map(event => {\n          if (event.start)\n            event.start = new Date(event.start.dateTime || event.start.date)\n          if (event.end)\n            event.end = new Date(event.end.dateTime || event.end.date)\n\n          return event\n        })\n      } finally {\n        this.loading = false\n      }\n    },\n  },\n\n  mounted: function() {\n    this.refresh()\n    setInterval(this.refresh, parseInt((this.refreshSeconds*1000).toFixed(0)))\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.calendar {\n  display: flex;\n  padding: 1em;\n  flex-direction: column;\n  width: 100%;\n  height: 100%;\n\n  .no-events {\n    width: 100%;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 1.75em;\n  }\n\n  .event {\n    font-size: 1.1em;\n  }\n\n  .event-list {\n    margin-top: 2em;\n  }\n\n  .upcoming-event {\n    text-align: center;\n    margin-bottom: .15em;\n    font-size: 1.2em;\n\n    .date {\n      font-size: 1.1em;\n    }\n\n    .summary {\n      text-transform: uppercase;\n      font-size: 1.3em;\n    }\n  }\n}\n</style>\n","import { render } from \"./Index.vue?vue&type=template&id=44a3b988&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=44a3b988&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-44a3b988\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_ctx","loading","_createBlock","_component_Loading","key","events","length","_hoisted_3","_createElementVNode","_toDisplayString","formatDate","start","summary","_hoisted_6","formatTime","end","_hoisted_2","_hoisted_7","_Fragment","_renderList","slice","$props","maxEvents","event","id","name","components","Loading","mixins","Utils","props","type","Number","required","default","refreshSeconds","data","methods","refresh","async","this","request","map","Date","dateTime","date","mounted","setInterval","parseInt","toFixed","__exports__","render"],"sourceRoot":""}