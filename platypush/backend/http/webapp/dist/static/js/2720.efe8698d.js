(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[2720],{6669:function(){},7907:function(){},1087:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var s=n(641),i=n(3751);function a(e,t,n,a,l,o){return(0,s.uX)(),(0,s.CE)("button",{class:"copy-button",ref:"copyButton",title:"Copy to clipboard",onClick:t[0]||(t[0]=(0,i.D$)(((...e)=>o.copy&&o.copy(...e)),["prevent"])),onInput:t[1]||(t[1]=(0,i.D$)(((...e)=>o.copy&&o.copy(...e)),["prevent"]))},t[2]||(t[2]=[(0,s.Lk)("i",{class:"fas fa-clipboard"},null,-1)]),544)}var l=n(2002),o={name:"CopyButton",emits:["input","click"],mixins:[l.A],props:{text:{type:String}},methods:{async copy(e){this.text?.length&&await this.copyToClipboard(this.text),this.$emit(e.type,e)}}},r=n(6262);const c=(0,r.A)(o,[["render",a],["__scopeId","data-v-0bc64e95"]]);var u=c},2573:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var s=n(641),i=n(33);const a=["href"],l=["src","alt","title"],o=["src","alt","title"];function r(e,t,n,r,c,u){return(0,s.uX)(),(0,s.CE)("div",{class:"extension-icon",style:(0,i.Tr)({width:`${n.size}`,height:`${n.size}`})},[n.withDocsLink?((0,s.uX)(),(0,s.CE)("a",{key:0,href:u.docsUrl,target:"_blank"},[(0,s.Lk)("img",{src:u.iconUrl,alt:u.extensionName,title:u.extensionName},null,8,l)],8,a)):((0,s.uX)(),(0,s.CE)("img",{key:1,src:u.iconUrl,alt:u.extensionName,title:u.extensionName},null,8,o))],4)}var c={props:{name:{type:String,required:!0},size:{type:String,default:"1.75em"},withDocsLink:{type:Boolean,default:!1}},computed:{iconUrl(){return`https://static.platypush.tech/icons/${this.extensionName}-64.png`},extensionType(){return"backend"==this.name.split(".")[0]?"backend":"plugin"},extensionName(){const e=this.name.split(".");return e.length<1?this.name:("backend"==e[0]&&e.shift(),e.join("."))},docsUrl(){return`https://docs.platypush.tech/platypush/${this.extensionType}s/${this.extensionName}.html`}}},u=n(6262);const g=(0,u.A)(c,[["render",r],["__scopeId","data-v-0353c248"]]);var d=g},1968:function(e,t,n){"use strict";n.d(t,{A:function(){return g}});var s=n(641);const i={class:"restart-btn-container"};function a(e,t,n,a,l,o){const r=(0,s.g2)("ConfirmDialog");return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.bF)(r,{ref:"modal",onInput:o.restart},{default:(0,s.k6)((()=>t[2]||(t[2]=[(0,s.eW)(" Are you sure that you want to restart the application? ")]))),_:1},8,["onInput"]),(0,s.Lk)("button",{class:"btn btn-default restart-btn",onClick:t[0]||(t[0]=(...e)=>o.showDialog&&o.showDialog(...e)),onTouch:t[1]||(t[1]=(...e)=>o.showDialog&&o.showDialog(...e))},t[3]||(t[3]=[(0,s.Lk)("i",{class:"fas fa-redo-alt"},null,-1),(0,s.eW)("   Restart Application ")]),32)])}var l=n(3538),o=n(2002),r={name:"RestartButton",components:{ConfirmDialog:l.A},mixins:[o.A],methods:{showDialog(){this.$refs.modal.show()},async restart(){await this.request("application.restart")}}},c=n(6262);const u=(0,c.A)(r,[["render",a],["__scopeId","data-v-2edff8b7"]]);var g=u},2720:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return xe}});var s=n(641),i=n(3751),a=n(33);const l={class:"row plugin extensions-container"},o={class:"filter-container"},r=["disabled"],c={class:"items"},u={key:0,class:"extension"},g=["data-name","onClick"],d={class:"name"},h={key:0,class:"enabled icon",title:"Enabled"},p={key:0,class:"enabled icon fas fa-circle-check"},f={key:0,class:"extension-body-container until tablet"},m={key:0,class:"extension-body-container from desktop"};function x(e,t,n,x,k,b){const C=(0,s.g2)("Loading"),y=(0,s.g2)("ExtensionIcon"),L=(0,s.g2)("Extension");return(0,s.uX)(),(0,s.CE)("div",l,[k.loading?((0,s.uX)(),(0,s.Wv)(C,{key:0})):(0,s.Q3)("",!0),(0,s.Lk)("header",null,[(0,s.Lk)("div",o,[(0,s.bo)((0,s.Lk)("input",{type:"text",ref:"filter",placeholder:"Extension name","onUpdate:modelValue":t[0]||(t[0]=e=>k.filter=e),disabled:k.loading},null,8,r),[[i.Jo,k.filter]])])]),(0,s.Lk)("main",null,[(0,s.Lk)("div",c,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(b.extensionNames,(e=>((0,s.uX)(),(0,s.CE)("div",{class:"extension-container",key:e},[b.matchesFilter(e)?((0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("div",{class:(0,a.C4)(["item",{selected:e===k.selectedExtension}]),"data-name":e,onClick:t=>b.onClick(e,!1)},[(0,s.bF)(y,{name:e,size:"1.75em"},null,8,["name"]),(0,s.Lk)("span",d,(0,a.v_)(b.extensions[e].name),1),b.enabledExtensions[e]?((0,s.uX)(),(0,s.CE)("span",h,[b.enabledExtensions[e]?((0,s.uX)(),(0,s.CE)("i",p)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)],10,g),k.selectedExtension&&e===k.selectedExtension?((0,s.uX)(),(0,s.CE)("div",f,[(0,s.bF)(L,{extension:b.extensions[k.selectedExtension],config:b.enabledExtensions[k.selectedExtension],"config-file":k.configFile},null,8,["extension","config","config-file"])])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])))),128))]),k.selectedExtension?((0,s.uX)(),(0,s.CE)("div",m,[(0,s.bF)(L,{extension:b.extensions[k.selectedExtension],config:b.enabledExtensions[k.selectedExtension],"config-file":k.configFile},null,8,["extension","config","config-file"])])):(0,s.Q3)("",!0)])])}const k={class:"extension"},b={class:"extension-body"};function C(e,t,n,i,a,l){const o=(0,s.g2)("Tab"),r=(0,s.g2)("Tabs"),c=(0,s.g2)("Doc"),u=(0,s.g2)("Config"),g=(0,s.g2)("Install");return(0,s.uX)(),(0,s.CE)("div",k,[(0,s.Lk)("header",null,[(0,s.bF)(r,null,{default:(0,s.k6)((()=>[(0,s.bF)(o,{selected:"doc"===a.selectedTab,"icon-class":"fas fa-book",onInput:t[0]||(t[0]=e=>a.selectedTab="doc")},{default:(0,s.k6)((()=>t[3]||(t[3]=[(0,s.Lk)("span",{class:"from tablet"},"Documentation",-1)]))),_:1},8,["selected"]),(0,s.bF)(o,{selected:"install"===a.selectedTab,"icon-class":"fas fa-download",onInput:t[1]||(t[1]=e=>a.selectedTab="install")},{default:(0,s.k6)((()=>t[4]||(t[4]=[(0,s.Lk)("span",{class:"from tablet"},"Install",-1)]))),_:1},8,["selected"]),(0,s.bF)(o,{selected:"config"===a.selectedTab,"icon-class":"fas fa-square-check",onInput:t[2]||(t[2]=e=>a.selectedTab="config")},{default:(0,s.k6)((()=>t[5]||(t[5]=[(0,s.Lk)("span",{class:"from tablet"},"Configuration",-1)]))),_:1},8,["selected"])])),_:1})]),(0,s.Lk)("div",b,["doc"===a.selectedTab?((0,s.uX)(),(0,s.Wv)(c,{key:0,extension:n.extension},null,8,["extension"])):"config"===a.selectedTab?((0,s.uX)(),(0,s.Wv)(u,{key:1,extension:n.extension,config:n.config,"config-file":n.configFile},null,8,["extension","config","config-file"])):"install"===a.selectedTab?((0,s.uX)(),(0,s.Wv)(g,{key:2,extension:n.extension},null,8,["extension"])):(0,s.Q3)("",!0)])])}var y=n(5054),L=n(3556);const v={key:0,class:"config-container current"},E=["innerHTML"],_=["innerHTML"];function w(e,t,n,i,l,o){const r=(0,s.g2)("CopyButton");return(0,s.uX)(),(0,s.CE)(s.FK,null,[o.highlightedCurrentConfig?((0,s.uX)(),(0,s.CE)("div",v,[(0,s.bF)(r,{text:l.curYamlConfig},null,8,["text"]),(0,s.Lk)("pre",null,[(0,s.Lk)("code",{class:"config-snippet",innerHTML:o.highlightedCurrentConfig},null,8,E)])])):(0,s.Q3)("",!0),(0,s.Lk)("div",{class:(0,a.C4)(["config-container snippet",{fullscreen:!o.highlightedCurrentConfig}])},[(0,s.bF)(r,{text:n.extension.config_snippet},null,8,["text"]),(0,s.Lk)("pre",null,[(0,s.Lk)("code",{class:"config-snippet",innerHTML:o.highlightedConfigSnippet},null,8,_)])],2)],64)}n(1545),n(6669);var $=n(9878),A=n(1087),I=n(2002),X={name:"Extension",mixins:[I.A],components:{CopyButton:A.A},props:{extension:{type:Object,required:!0},config:{type:Object},configFile:{type:String}},data(){return{curYamlConfig:null}},computed:{highlightedConfigSnippet(){return $.A.highlight(`# Configuration template. You can add it to ${this.configFile}\n`+this.extension.config_snippet,{language:"yaml"}).value.trim()},highlightedCurrentConfig(){return this.curYamlConfig?$.A.highlight("# Currently loaded configuration\n"+this.curYamlConfig,{language:"yaml"}).value.trim():null}},methods:{async loadCurrentConfig(){this.config?this.curYamlConfig=await this.request("utils.to_yaml",{obj:{[this.extension.name]:this.config}}):this.curYamlConfig=null}},mounted(){this.loadCurrentConfig(),this.$watch("config",this.loadCurrentConfig)}},F=n(6262);const T=(0,F.A)(X,[["render",w],["__scopeId","data-v-325a3576"]]);var D=T;const O={class:"doc"},j=["href"],q=["textContent"],W=["innerHTML"],Q={key:0,class:"actions"},R=["href"],N={key:1,class:"events"},B=["href"];function S(e,t,n,i,l,o){const r=(0,s.g2)("ExtensionIcon");return(0,s.uX)(),(0,s.CE)("section",O,[(0,s.Lk)("header",null,[(0,s.Lk)("h2",null,[(0,s.Lk)("a",{class:"title",href:n.extension.doc_url,target:"_blank"},[(0,s.bF)(r,{name:n.extension.name,size:"2em","with-docs-link":""},null,8,["name"]),(0,s.Lk)("span",{class:"name",textContent:(0,a.v_)(n.extension.name)},null,8,q)],8,j)])]),l.doc?((0,s.uX)(),(0,s.CE)("article",{key:0,onClick:t[0]||(t[0]=(...e)=>o.onDocClick&&o.onDocClick(...e))},[(0,s.Lk)("div",{class:"doc-content",innerHTML:l.doc},null,8,W),Object.keys(n.extension.actions||{}).length>0?((0,s.uX)(),(0,s.CE)("div",Q,[t[1]||(t[1]=(0,s.Lk)("h3",null,[(0,s.Lk)("i",{class:"icon fas fa-play"}),(0,s.eW)("   Actions ")],-1)),(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.actionNames,(e=>((0,s.uX)(),(0,s.CE)("li",{class:"action",key:e},[(0,s.Lk)("a",{href:`/#execute?action=${n.extension.name}.${e}`},(0,a.v_)(n.extension.name)+"."+(0,a.v_)(e),9,R)])))),128))])])):(0,s.Q3)("",!0),Object.keys(n.extension.events||{}).length>0?((0,s.uX)(),(0,s.CE)("div",N,[t[2]||(t[2]=(0,s.Lk)("h3",null,[(0,s.Lk)("i",{class:"icon fas fa-flag"}),(0,s.eW)("   Events ")],-1)),(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.eventNames,(e=>((0,s.uX)(),(0,s.CE)("li",{class:"event",key:e},[(0,s.Lk)("a",{href:n.extension.events[e].doc_url,target:"_blank"},(0,a.v_)(e),9,B)])))),128))])])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])}var U=n(2573),H=n(2537),M={name:"Doc",mixins:[I.A],components:{ExtensionIcon:U.A},props:{extension:{type:Object,required:!0}},data(){return{doc:null,localPageRegex:new RegExp("^/?#.*$")}},computed:{actionNames(){return Object.keys(this.extension.actions).sort()},eventNames(){return Object.keys(this.extension.events).sort()}},methods:{async parseDoc(){return this.extension.doc?.length?await this.request("utils.rst_to_html",{text:this.extension.doc}):null},refreshDoc(){this.parseDoc().then((e=>this.doc=e))},onDocClick(e){if("a"!==e.target.tagName.toLowerCase())return!0;e.preventDefault();const t=e.target.getAttribute("href");if(!t)return!0;if(t.match(this.localPageRegex))return window.location.href=t,!0;const n=t.match(/^https:\/\/docs\.platypush\.tech\/platypush\/(plugins|backend)\/([\w.]+)\.html#?.*$/);if(!n)return e.preventDefault(),window.open(t,"_blank"),!0;let[s,i]=n.slice(1);"backend"===s&&(i=`backend.${i}`),H.j.emit("update:extension",i),e.preventDefault()}},mounted(){this.refreshDoc(),this.$watch("extension.doc",this.refreshDoc)}};const P=(0,F.A)(M,[["render",S],["__scopeId","data-v-49986d05"]]);var z=P;const Y={class:"install-container"},K={class:"top"},J={class:"body"},V={class:"container install-cmd-container"},G=["innerHTML"],Z={key:0,class:"buttons install-btn"},ee=["disabled"],te={key:0,class:"bottom"},ne={class:"body"},se={class:"container install-output",ref:"installOutput"},ie=["textContent"],ae={key:0,class:"loading-container"};function le(e,t,n,i,l,o){const r=(0,s.g2)("CopyButton"),c=(0,s.g2)("Loading"),u=(0,s.g2)("RestartButton");return(0,s.uX)(),(0,s.CE)("div",Y,[(0,s.Lk)("section",K,[t[2]||(t[2]=(0,s.Lk)("header",null,[(0,s.Lk)("h2",null,"Dependencies")],-1)),(0,s.Lk)("div",J,[(0,s.Lk)("div",V,[o.installCmd?((0,s.uX)(),(0,s.Wv)(r,{key:0,text:o.installCmd},null,8,["text"])):(0,s.Q3)("",!0),(0,s.Lk)("pre",null,[l.loading?((0,s.uX)(),(0,s.Wv)(c,{key:0})):((0,s.uX)(),(0,s.CE)("code",{key:1,innerHTML:o.highlightedInstallCmd},null,8,G))])]),o.installCmd?((0,s.uX)(),(0,s.CE)("div",Z,[l.installDone?((0,s.uX)(),(0,s.Wv)(u,{key:0})):(0,s.Q3)("",!0),(0,s.Lk)("button",{type:"button",class:"btn btn-default",disabled:l.installRunning,onClick:t[0]||(t[0]=(...e)=>o.installExtension&&o.installExtension(...e))},t[1]||(t[1]=[(0,s.Lk)("i",{class:"fas fa-download"},null,-1),(0,s.eW)(" Install ")]),8,ee)])):(0,s.Q3)("",!0)])]),l.installRunning||l.installOutput?((0,s.uX)(),(0,s.CE)("section",te,[t[5]||(t[5]=(0,s.Lk)("header",null,[(0,s.Lk)("h2",null,"Output")],-1)),(0,s.Lk)("div",ne,[(0,s.Lk)("div",se,[(0,s.bF)(r,{text:l.installOutput},null,8,["text"]),(0,s.Lk)("pre",null,[(0,s.Lk)("code",{textContent:(0,a.v_)(l.installOutput)},null,8,ie),l.installRunning?((0,s.uX)(),(0,s.CE)("div",ae,[t[3]||(t[3]=(0,s.eW)("\n            ")),(0,s.bF)(c),t[4]||(t[4]=(0,s.eW)("\n          "))])):(0,s.Q3)("",!0)])],512)])])):(0,s.Q3)("",!0)])}n(7907);var oe=n(9828),re=n(1968),ce={name:"Install",mixins:[I.A],emits:["install-start","install-end"],components:{CopyButton:A.A,Loading:oe.A,RestartButton:re.A},props:{extension:{type:Object,required:!0}},data(){return{installRunning:!1,installDone:!1,installOutput:null,installCmds:[],pendingCommands:0,error:null,loading:!1}},computed:{installCmd(){return this.installCmds.length?this.installCmds.join("\n").trim():null},highlightedInstallCmd(){return $.A.highlight(this.installCmd?this.installCmds.map((e=>`$ ${e}`)).join("\n").trim():"# No extra installation steps required",{language:"bash"}).value}},methods:{wsProcess(e){try{const t="https:"===window.location.protocol?"wss":"ws",n=`${t}://${location.host}${e}`,s=new WebSocket(n);s.onmessage=this.onMessage,s.onerror=this.onError,s.onclose=this.onClose}catch(t){this.notify({error:!0,title:"Websocket initialization error",text:t.toString()}),console.error("Websocket initialization error"),console.error(t),this.error=t,this.installRunning=!1}},onMessage(e){this.installOutput||(this.installOutput=""),this.installOutput+=e.data},onClose(){this.installRunning=!1,this.$emit("install-end",this.extension),this.error||(this.installDone=!0),this.notify({title:"Extension installed",html:`Extension <b>${this.extension.name}</b> installed successfully`,image:{iconClass:"fas fa-check"}})},onError(e){this.notify({error:!0,title:"Websocket error",text:e.toString()}),console.error("Websocket error"),console.error(e),this.error=e,this.installRunning=!1},installExtension(){if(!this.installCmd)return;this.error=null,this.installRunning=!0,this.installOutput="",this.$emit("install-start",this.extension);const e=this.installCmds.join(";\n");this.request("shell.exec",{cmd:e,ws:!0}).then((e=>{this.wsProcess(e.ws_path)})).catch((e=>{this.error=e,this.installRunning=!1,this.$emit("install-end",this.extension)}))},async refreshInstallCmds(){this.loading=!0;try{this.installCmds=await this.request("application.get_install_commands",{extension:this.extension.name})}finally{this.loading=!1}}},mounted(){this.refreshInstallCmds(),this.$watch("extension.name",(()=>{this.refreshInstallCmds()})),this.$watch("installOutput",(()=>{this.$nextTick((()=>{this.$refs.installOutput.focus(),this.$refs.installOutput.scrollTop=this.$refs.installOutput.scrollHeight}))}))}};const ue=(0,F.A)(ce,[["render",le],["__scopeId","data-v-8b2323ae"]]);var ge=ue,de={name:"Extension",components:{Config:D,Doc:z,Install:ge,Tab:y.A,Tabs:L.A},props:{extension:{type:Object,required:!0},config:{type:Object},configFile:{type:String}},data(){return{selectedTab:"doc"}}};const he=(0,F.A)(de,[["render",C],["__scopeId","data-v-3fa6b036"]]);var pe=he,fe={name:"Extensions",mixins:[I.A],components:{Extension:pe,ExtensionIcon:U.A,Loading:oe.A},data(){return{loading:!1,plugins:{},backends:{},enabledPlugins:{},enabledBackends:{},filter:"",selectedExtension:null,configFile:null,config:{}}},computed:{extensions(){const e={};return Object.entries(this.plugins).forEach((([t,n])=>{e[t]={...n,name:t}})),Object.entries(this.backends).forEach((([t,n])=>{t=`backend.${t}`,e[t]={...n,name:t}})),e},enabledExtensions(){return[this.enabledPlugins,this.enabledBackends].reduce(((e,t)=>(Object.entries(t).forEach((([t,n])=>{e[t]=n})),e)),{})},extensionNames(){return Object.keys(this.extensions).sort()}},methods:{onClick(e,t=!0,n=!0){this.selectedExtension===e?this.selectedExtension=null:this.onInput(e,t,n)},onInput(e,t=!0,n=!0){t&&(this.filter=e);const s=e?.toLowerCase()?.trim();if(s?.length&&this.extensions[s]){this.selectedExtension=s,n&&this.setUrlArgs({extension:s});const e=this.$el.querySelector(`.extensions-container .item[data-name="${s}"]`);e&&e.scrollIntoView({behavior:"smooth"})}else this.selectedExtension=null,n&&this.setUrlArgs({})},matchesFilter(e){return!this.filter||e.includes(this.filter.toLowerCase())},async loadExtensions(){this.loading=!0;let[e,t]=[[],[]];try{[this.plugins,this.backends,e,t,this.config]=await Promise.all([this.request("inspect.get_all_plugins"),this.request("inspect.get_all_backends"),this.request("inspect.get_enabled_plugins"),this.request("inspect.get_enabled_backends"),this.request("inspect.get_config")])}finally{this.loading=!1}this.enabledPlugins=e.reduce(((e,t)=>(e[t]=this.config[t]||{},e)),{}),this.enabledBackends=t.reduce(((e,t)=>(t=`backend.${t}`,e[t]=this.config[t]||{},e)),{}),this.loadExtensionFromUrl(),this.$watch("$route.hash",(()=>this.loadExtensionFromUrl()))},async loadConfigFile(){this.configFile=await this.request("config.get_config_file")},loadExtensionFromUrl(){const e=this.getUrlArgs().extension;e&&this.$nextTick((()=>this.onInput(e,!1,!1)))}},mounted(){this.loadConfigFile(),this.loadExtensions(),H.j.on("update:extension",(e=>this.onInput(e,!1))),this.$nextTick((()=>this.$refs.filter.focus()))}};const me=(0,F.A)(fe,[["render",x],["__scopeId","data-v-74d75ec7"]]);var xe=me},3094:function(e,t,n){var s=n(8416);s.registerLanguage("xml",n(114)),s.registerLanguage("bash",n(8641)),s.registerLanguage("c",n(722)),s.registerLanguage("cpp",n(6570)),s.registerLanguage("csharp",n(7120)),s.registerLanguage("css",n(8612)),s.registerLanguage("markdown",n(602)),s.registerLanguage("diff",n(8596)),s.registerLanguage("ruby",n(5015)),s.registerLanguage("go",n(9777)),s.registerLanguage("graphql",n(7474)),s.registerLanguage("ini",n(1533)),s.registerLanguage("java",n(4895)),s.registerLanguage("javascript",n(6035)),s.registerLanguage("json",n(621)),s.registerLanguage("kotlin",n(2838)),s.registerLanguage("less",n(8330)),s.registerLanguage("lua",n(3873)),s.registerLanguage("makefile",n(7667)),s.registerLanguage("perl",n(946)),s.registerLanguage("objectivec",n(943)),s.registerLanguage("php",n(3111)),s.registerLanguage("php-template",n(1726)),s.registerLanguage("plaintext",n(9040)),s.registerLanguage("python",n(1117)),s.registerLanguage("python-repl",n(2664)),s.registerLanguage("r",n(8129)),s.registerLanguage("rust",n(5409)),s.registerLanguage("scss",n(1611)),s.registerLanguage("shell",n(8813)),s.registerLanguage("sql",n(315)),s.registerLanguage("swift",n(1496)),s.registerLanguage("yaml",n(5588)),s.registerLanguage("typescript",n(8640)),s.registerLanguage("vbnet",n(8928)),s.registerLanguage("wasm",n(9351)),s.HighlightJS=s,s.default=s,e.exports=s},1545:function(e,t,n){"use strict";n(3094)}}]);
//# sourceMappingURL=2720.efe8698d.js.map