{"version":3,"file":"static/js/6324.93ea59d2.js","mappings":"gQACOA,MAAM,6B,GAEFA,MAAM,Q,GAINA,MAAM,S,uCAaNA,MAAM,O,GAEFA,MAAM,O,GACJA,MAAM,S,kBAGNA,MAAM,oB,yBAEPC,EAAAA,EAAAA,GAA0B,KAAvBD,MAAM,gBAAc,W,GAAvBE,G,yBAGAD,EAAAA,EAAAA,GAA0B,KAAvBD,MAAM,gBAAc,W,GAAvBG,G,yEA9BdC,EAAAA,EAAAA,IAqCM,MArCNC,EAqCM,EApCJJ,EAAAA,EAAAA,GAeM,OAfDD,OAAKM,EAAAA,EAAAA,IAAA,CAAC,OAAM,CAAAC,UAAqBC,EAAAD,c,EACpCN,EAAAA,EAAAA,GAEM,MAFNQ,EAEM,EADJC,EAAAA,EAAAA,IAAgEC,EAAA,CAAnDC,OAAQJ,EAAAK,MAAQC,QAASN,EAAAM,QAAUC,MAAOP,EAAAO,O,wCAGzDd,EAAAA,EAAAA,GAEM,MAFNe,EAEM,EADJf,EAAAA,EAAAA,GAAwC,OAAnCD,MAAM,O,aAAOiB,EAAAA,EAAAA,IAAQT,EAAWK,MAALK,O,aAGlCjB,EAAAA,EAAAA,GAKM,OALDD,MAAM,oBAAqBmB,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAAC,GAAOd,EAAAD,WAAaC,EAAAD,WAAS,Y,EAChEN,EAAAA,EAAAA,GAA0C,OAArCD,MAAM,Q,aAAQiB,EAAAA,EAAAA,IAAQT,EAAYK,MAANA,Q,WACjCZ,EAAAA,EAAAA,GAEM,OAFDD,MAAM,mBAAoBmB,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAAC,GAAOd,EAAAD,WAAaC,EAAAD,WAAS,Y,EAC/DN,EAAAA,EAAAA,GAAsF,KAAnFD,OAAKM,EAAAA,EAAAA,IAAA,CAAC,MAAK,mBAA6BE,EAAAD,UAAS,iBAAoBC,EAAAD,c,gBAKrDC,EAAAD,W,iBAAS,WAAlCH,EAAAA,EAAAA,IAkBM,O,MAlBDJ,MAAM,OAA0BmB,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAE,IAAOf,EAAAgB,SAAAhB,EAAAgB,WAAAD,IAAO,Y,EACtDtB,EAAAA,EAAAA,GAgBM,MAhBNwB,EAgBM,EAfJxB,EAAAA,EAAAA,GAcO,QAdAyB,SAAMN,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAE,IAAUI,EAAAC,UAAAD,EAAAC,YAAAL,IAAQ,e,EAC7BtB,EAAAA,EAAAA,GAYM,MAZN4B,EAYM,EAXJ5B,EAAAA,EAAAA,GAEM,MAFN6B,EAEM,WADJ7B,EAAAA,EAAAA,GAAkG,SAA3F8B,KAAK,O,qCAAgBvB,EAAAwB,OAAMV,GAAEW,YAAY,iBAAkBC,SAAU1B,EAAAM,QAASqB,IAAI,Q,iBAA7D3B,EAAAwB,aAE9B/B,EAAAA,EAAAA,GAOM,MAPNmC,EAOM,EANJnC,EAAAA,EAAAA,GAES,UAFD8B,KAAK,SAASM,MAAM,QAASlB,QAAKC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,KAAA,IAAAE,IAAOI,EAAAW,YAAAX,EAAAW,cAAAf,IAAU,WAAGW,SAAU1B,EAAAM,S,QAGxEb,EAAAA,EAAAA,GAES,UAFD8B,KAAK,SAASM,MAAM,OAAQH,SAAU1B,EAAAM,S,8CAe5D,GACEI,KAAM,WACNqB,WAAY,CAACC,WAAUA,EAAAA,YACvBC,OAAQ,CAACC,EAAAA,YACTC,MAAO,CAAC,WACRC,KAAM,WACJ,MAAO,CACLrC,WAAW,EACXyB,OAAQ,KAEZ,EAEAa,SAAU,CACRC,WAAAA,GACE,OAAOC,KAAKxC,SACd,GAGFyC,QAAS,CACP,gBAAMV,GACJS,KAAKE,MAAM,WAAW,GACtB,UACQF,KAAKG,QAAQ,iBAAkB,CAAChC,KAAM6B,KAAKlC,MAAMK,MACzD,CAAE,QACA6B,KAAKE,MAAM,WAAW,EACxB,CACF,EAEA,cAAMrB,GACJ,MAAMf,EAAQkC,KAAKf,OACnB,IAAKnB,GAAOsC,OACV,aAAaJ,KAAKT,aAEpBS,KAAKE,MAAM,WAAW,GACtB,IACE,MAAM1B,EAAO,CAAC,EACdA,EAAKwB,KAAKlC,MAAMK,MAAQL,QAClBkC,KAAKG,QAAQ,eAAgB3B,EACrC,CAAE,QACAwB,KAAKE,MAAM,WAAW,EACxB,CACF,GAGFG,OAAAA,GACEL,KAAKf,OAASe,KAAKlC,MAAMA,MACzBkC,KAAKM,QAAO,IAAMN,KAAKlC,MAAMA,QAAQyC,IACnCP,KAAKf,OAASsB,CAAO,GAEzB,G,UCvFF,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://platypush/./src/components/panels/Entities/Variable.vue","webpack://platypush/./src/components/panels/Entities/Variable.vue?62e2"],"sourcesContent":["<template>\n  <div class=\"entity variable-container\">\n    <div class=\"head\" :class=\"{collapsed: collapsed}\">\n      <div class=\"icon\">\n        <EntityIcon :entity=\"value\" :loading=\"loading\" :error=\"error\" />\n      </div>\n\n      <div class=\"label\">\n        <div class=\"name\" v-text=\"value.name\" />\n      </div>\n\n      <div class=\"value-and-toggler\" @click.stop=\"collapsed = !collapsed\">\n        <div class=\"value\" v-text=\"value.value\" />\n        <div class=\"collapse-toggler\" @click.stop=\"collapsed = !collapsed\">\n          <i class=\"fas\" :class=\"{'fa-chevron-down': collapsed, 'fa-chevron-up': !collapsed}\" />\n        </div>\n      </div>\n    </div>\n\n    <div class=\"body\" v-if=\"!collapsed\" @click.stop=\"prevent\">\n      <div class=\"row\">\n        <form @submit.prevent=\"setValue\">\n          <div class=\"row\">\n            <div class=\"col-9\">\n              <input type=\"text\" v-model=\"value_\" placeholder=\"Variable value\" :disabled=\"loading\" ref=\"text\" />\n            </div>\n            <div class=\"col-3 pull-right\">\n              <button type=\"button\" title=\"Clear\" @click.stop=\"clearValue\" :disabled=\"loading\">\n                <i class=\"fas fa-trash\" />\n              </button>\n              <button type=\"submit\" title=\"Edit\" :disabled=\"loading\">\n                <i class=\"fas fa-check\" />\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport EntityMixin from \"./EntityMixin\"\nimport EntityIcon from \"./EntityIcon\"\n\nexport default {\n  name: 'Variable',\n  components: {EntityIcon},\n  mixins: [EntityMixin],\n  emits: ['loading'],\n  data: function() {\n    return {\n      collapsed: true,\n      value_: null,\n    }\n  },\n\n  computed: {\n    isCollapsed() {\n      return this.collapsed\n    },\n  },\n\n  methods: {\n    async clearValue() {\n      this.$emit('loading', true)\n      try {\n        await this.request('variable.unset', {name: this.value.name})\n      } finally {\n        this.$emit('loading', false)\n      }\n    },\n\n    async setValue() {\n      const value = this.value_\n      if (!value?.length)\n        return await this.clearValue()\n\n      this.$emit('loading', true)\n      try {\n        const args = {}\n        args[this.value.name] = value\n        await this.request('variable.set', args)\n      } finally {\n        this.$emit('loading', false)\n      }\n    },\n  },\n\n  mounted() {\n    this.value_ = this.value.value\n    this.$watch(() => this.value.value, (newValue) => {\n      this.value_ = newValue\n    })\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"common\";\n\n$icon-width: 2em;\n\n.variable-container {\n  .head {\n    .icon, .collapse-toggler {\n      width: $icon-width;\n    }\n\n    .label, .value-and-toggler {\n      min-width: calc(((100% - (2 * $icon-width)) / 2) - 1em);\n      max-width: calc(((100% - (2 * $icon-width)) / 2) - 1em);\n    }\n\n    .label {\n      margin-left: 1em;\n    }\n\n    .value-and-toggler {\n      text-align: right;\n    }\n  }\n\n  form {\n    width: 100%;\n\n    .row {\n      width: 100%;\n      input[type=text] {\n        width: 100%;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./Variable.vue?vue&type=template&id=31c67fb5&scoped=true\"\nimport script from \"./Variable.vue?vue&type=script&lang=js\"\nexport * from \"./Variable.vue?vue&type=script&lang=js\"\n\nimport \"./Variable.vue?vue&type=style&index=0&id=31c67fb5&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-31c67fb5\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_12","_hoisted_15","_createElementBlock","_hoisted_1","_normalizeClass","collapsed","_ctx","_hoisted_2","_createVNode","_component_EntityIcon","entity","value","loading","error","_hoisted_3","_toDisplayString","name","onClick","_cache","_withModifiers","$event","args","prevent","_hoisted_6","onSubmit","$options","setValue","_hoisted_7","_hoisted_8","type","value_","placeholder","disabled","ref","_hoisted_10","title","clearValue","components","EntityIcon","mixins","EntityMixin","emits","data","computed","isCollapsed","this","methods","$emit","request","length","mounted","$watch","newValue","__exports__","render"],"sourceRoot":""}