{"version":3,"file":"static/js/1210.7c646baf.js","mappings":"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","sources":["webpack://platypush/./src/components/panels/Media/Providers/Jellyfin.vue","webpack://platypush/./src/components/panels/Media/Providers/Jellyfin.vue?7028","webpack://platypush/./src/components/panels/Media/Providers/Jellyfin/Index.vue","webpack://platypush/./src/components/panels/Media/Providers/Jellyfin/Index.vue?9437","webpack://platypush/./src/components/panels/Media/Providers/Nav.vue","webpack://platypush/./src/components/panels/Media/Providers/Nav.vue?d1ce"],"sourcesContent":["<template>\n  <div class=\"media-jellyfin-container browser\">\n    <MediaNav :path=\"path\" @back=\"$emit('back')\" />\n\n    <div class=\"media-jellyfin-browser\">\n      <Loading v-if=\"isLoading\" />\n\n      <Index v-bind=\"componentData.props\"\n             v-on=\"componentData.on\"\n             @select=\"selectCollection\"\n             v-else-if=\"currentView === 'index'\" />\n\n      <Movies v-bind=\"componentData.props\"\n              v-on=\"componentData.on\"\n              :collection=\"collection\"\n              @select=\"select\"\n              v-else-if=\"currentView === 'movies'\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Index from \"./Jellyfin/Index\";\nimport Loading from \"@/components/Loading\";\nimport MediaNav from \"./Nav\";\nimport MediaProvider from \"./Mixin\";\nimport Movies from \"./Jellyfin/collections/Movies/Index\";\n\nexport default {\n  mixins: [MediaProvider],\n  components: {\n    Index,\n    Loading,\n    MediaNav,\n    Movies,\n  },\n\n  emits: [\n    'add-to-playlist',\n    'back',\n    'download',\n    'download-audio',\n    'play',\n    'play-with-opts',\n  ],\n\n  data() {\n    return {\n      collection: null,\n      loading_: false,\n      path: [],\n    };\n  },\n\n  computed: {\n    componentData() {\n      return {\n        props: {\n          collection: this.collection,\n          filter: this.filter,\n          loading: this.isLoading,\n        },\n\n        on: {\n          'add-to-playlist': (item) => this.$emit('add-to-playlist', item),\n          'download': (item) => this.$emit('download', item),\n          'download-audio': (item) => this.$emit('download-audio', item),\n          'play': (item) => this.$emit('play', item),\n          'play-with-opts': (item) => this.$emit('play-with-opts', item),\n        },\n      }\n    },\n\n    currentView() {\n      if (!this.collection) {\n        return 'index'\n      }\n\n      switch (this.collection.type) {\n        case 'movies':\n          return 'movies'\n        default:\n          return 'index'\n      }\n    },\n\n    isLoading() {\n      return this.loading_ || this.loading\n    },\n\n    rootItem() {\n      const item = {\n        id: '',\n        title: 'Jellyfin',\n        type: 'index',\n        icon: {\n          class: 'fas fa-server',\n        },\n      }\n\n      item.click = () => {\n        this.collection = null\n        this.select(item)\n      }\n\n      return item\n    },\n  },\n\n  methods: {\n    select(item) {\n      if (item) {\n        if (this.path.length > 0 && this.path[this.path.length - 1].id === item.id) {\n          return\n        }\n\n        if (item.type === 'index') {\n          this.path = [this.rootItem]\n        } else {\n          this.path.push({\n            title: item.name,\n            ...item,\n          })\n        }\n      } else {\n        this.path = []\n      }\n    },\n\n    selectCollection(collection) {\n      this.collection = collection\n      this.select(collection)\n    },\n  },\n\n  watch: {\n    collection() {\n      this.setUrlArgs({ collection: this.collection?.id })\n    },\n  },\n\n  mounted() {\n    this.path = [this.rootItem]\n  },\n\n  unmounted() {\n    this.setUrlArgs({ collection: null })\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../style.scss\";\n\n.media-jellyfin-container {\n  height: 100%;\n\n  .media-jellyfin-browser {\n    height: calc(100% - $media-nav-height - 2px);\n  }\n}\n</style>\n","import { render } from \"./Jellyfin.vue?vue&type=template&id=add6b9c6&scoped=true\"\nimport script from \"./Jellyfin.vue?vue&type=script&lang=js\"\nexport * from \"./Jellyfin.vue?vue&type=script&lang=js\"\n\nimport \"./Jellyfin.vue?vue&type=style&index=0&id=add6b9c6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-add6b9c6\"]])\n\nexport default __exports__","<template>\n  <div class=\"collections index\">\n    <Loading v-if=\"isLoading\" />\n\n    <div class=\"collections items\" v-else>\n      <div class=\"collection item\"\n           v-for=\"collection in filteredCollections\"\n           :key=\"collection.id\"\n           @click=\"$emit('select', collection)\">\n        <div class=\"image\">\n          <img :src=\"collection.image\"\n               :alt=\"collection.name\"\n               @error=\"onImageError(collection)\"\n               v-if=\"!fallbackImageCollections[collection.id]\">\n          <i :class=\"collectionsIcons[collection.type] ?? 'fas fa-folder'\" v-else />\n        </div>\n\n        <div class=\"name\" v-if=\"fallbackImageCollections[collection.id]\">\n          <h2>{{ collection.name }}</h2>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from \"@/components/Loading\";\nimport MediaProvider from \"../Mixin\";\n\nexport default {\n  mixins: [MediaProvider],\n  components: {\n    Loading,\n  },\n\n  emits: [\n    'add-to-playlist',\n    'back',\n    'download',\n    'download-audio',\n    'play',\n    'play-with-opts',\n    'select',\n  ],\n\n  data() {\n    return {\n      collections: {},\n      fallbackImageCollections: {},\n      loading_: false,\n    };\n  },\n\n  computed: {\n    collectionsIcons() {\n      return {\n        books: \"fas fa-book\",\n        homevideos: \"fas fa-video\",\n        movies: \"fas fa-film\",\n        music: \"fas fa-music\",\n        playlists: \"fas fa-list\",\n        photos: \"fas fa-image\",\n        series: \"fas fa-tv\",\n      };\n    },\n\n    filteredCollections() {\n      return Object.values(this.collections).filter(\n        (collection) => !this.filter || collection.name.toLowerCase().includes(this.filter.toLowerCase())\n      );\n    },\n\n    isLoading() {\n      return this.loading_ || this.loading\n    },\n  },\n\n  methods: {\n    onImageError(collection) {\n        this.fallbackImageCollections[collection.id] = true\n    },\n\n    async refresh() {\n      this.loading_ = true\n\n      try {\n        this.collections = (\n          await this.request('media.jellyfin.get_collections')\n        ).reduce((acc, collection) => {\n          acc[collection.id] = collection\n          return acc\n        }, {})\n      } finally {\n        this.loading_ = false\n      }\n    },\n\n    initCollection() {\n      const collectionId = this.getUrlArgs().collection\n      if (collectionId == null) {\n        return\n      }\n\n      const collection = this.collections[collectionId]\n      if (!collection) {\n        return\n      }\n\n      this.$emit('select', collection)\n    },\n  },\n\n  async mounted() {\n    await this.refresh()\n    this.initCollection()\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./common.scss\";\n\n.index {\n  .item {\n    h2 {\n      font-size: 2em;\n      font-weight: bold;\n    }\n  }\n}\n</style>\n","import { render } from \"./Index.vue?vue&type=template&id=42379b56&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=42379b56&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-42379b56\"]])\n\nexport default __exports__","<template>\n  <div class=\"nav\">\n    <span class=\"path\">\n      <span class=\"back token\" title=\"Back\" @click=\"$emit('back')\">\n        <i class=\"fas fa-home\" />\n      </span>\n\n      <span class=\"separator\">\n        <i class=\"fas fa-chevron-right\" />\n      </span>\n    </span>\n\n    <span class=\"path\" v-for=\"(token, index) in path\" :key=\"index\">\n      <span class=\"token\" :title=\"token.title\" @click=\"onClick(token)\">\n        <i class=\"icon\" :class=\"icon\" v-if=\"icon = token.icon?.['class']\" />\n        <span v-if=\"token.title\">{{ token.title }}</span>\n      </span>\n\n      <span class=\"separator\"\n            v-if=\"(index > 0 || path.length > 1) && index < path.length - 1\">\n        <i class=\"fas fa-chevron-right\" />\n      </span>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  emit: ['back'],\n\n  props: {\n    path: {\n      type: Array,\n      default: () => [],\n    },\n  },\n\n  methods: {\n    onClick(token) {\n      if (token.click)\n        token.click()\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../style.scss\";\n\n.nav {\n  overflow-x: auto !important;\n  overflow-y: hidden !important;\n\n  .path .token .icon {\n    margin-right: 0.5em;\n  }\n}\n</style>\n","import { render } from \"./Nav.vue?vue&type=template&id=66204518&scoped=true\"\nimport script from \"./Nav.vue?vue&type=script&lang=js\"\nexport * from \"./Nav.vue?vue&type=script&lang=js\"\n\nimport \"./Nav.vue?vue&type=style&index=0&id=66204518&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-66204518\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_MediaNav","path","$data","onBack","_cache","$event","_ctx","$emit","_createElementVNode","_hoisted_2","$options","isLoading","_createBlock","_component_Loading","key","currentView","_component_Index","_mergeProps","componentData","props","_toHandlers","on","onSelect","selectCollection","_component_Movies","collection","select","mixins","MediaProvider","components","Index","Loading","MediaNav","Movies","emits","data","loading_","computed","this","filter","loading","item","type","rootItem","id","title","icon","click","methods","length","push","name","watch","setUrlArgs","mounted","unmounted","__exports__","render","_Fragment","_renderList","filteredCollections","onClick","_hoisted_4","fallbackImageCollections","_normalizeClass","collectionsIcons","src","image","alt","onError","onImageError","_hoisted_6","_toDisplayString","collections","books","homevideos","movies","music","playlists","photos","series","Object","values","toLowerCase","includes","refresh","request","reduce","acc","initCollection","collectionId","getUrlArgs","_hoisted_3","_hoisted_9","_hoisted_5","$props","token","index","_hoisted_7","_hoisted_8","_hoisted_10","emit","Array","default"],"sourceRoot":""}