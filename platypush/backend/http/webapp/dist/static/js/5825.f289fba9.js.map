{"version":3,"file":"static/js/5825.f289fba9.js","mappings":"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","sources":["webpack://platypush/./src/components/panels/Media/Providers/Jellyfin/Index.vue","webpack://platypush/./src/components/panels/Media/Providers/Jellyfin/Index.vue?9437","webpack://platypush/./src/components/panels/Media/Providers/Mixin.vue","webpack://platypush/./src/components/panels/Media/Providers/Mixin.vue?f2ea"],"sourcesContent":["<template>\n  <div class=\"collections index\">\n    <Loading v-if=\"isLoading\" />\n\n    <div class=\"collections items\" v-else>\n      <div class=\"collection item\"\n           v-for=\"collection in filteredCollections\"\n           :key=\"collection.id\"\n           @click=\"$emit('select', collection)\">\n        <div class=\"image\">\n          <img :src=\"collection.image\"\n               :alt=\"collection.name\"\n               @error=\"onImageError(collection)\"\n               v-if=\"!fallbackImageCollections[collection.id]\">\n          <i :class=\"collectionsIcons[collection.type] ?? 'fas fa-folder'\" v-else />\n        </div>\n\n        <div class=\"name\" v-if=\"fallbackImageCollections[collection.id]\">\n          <h2>{{ collection.name }}</h2>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from \"@/components/Loading\";\nimport MediaProvider from \"../Mixin\";\n\nexport default {\n  mixins: [MediaProvider],\n  components: {\n    Loading,\n  },\n\n  emits: [\n    'add-to-playlist',\n    'back',\n    'download',\n    'download-audio',\n    'play',\n    'play-with-opts',\n    'select',\n  ],\n\n  data() {\n    return {\n      collections: {},\n      fallbackImageCollections: {},\n      loading_: false,\n    };\n  },\n\n  computed: {\n    collectionsIcons() {\n      return {\n        books: \"fas fa-book\",\n        homevideos: \"fas fa-video\",\n        movies: \"fas fa-film\",\n        music: \"fas fa-music\",\n        playlists: \"fas fa-list\",\n        photos: \"fas fa-image\",\n        series: \"fas fa-tv\",\n      };\n    },\n\n    filteredCollections() {\n      return Object.values(this.collections).filter(\n        (collection) => !this.filter || collection.name.toLowerCase().includes(this.filter.toLowerCase())\n      );\n    },\n\n    isLoading() {\n      return this.loading_ || this.loading\n    },\n  },\n\n  methods: {\n    onImageError(collection) {\n        this.fallbackImageCollections[collection.id] = true\n    },\n\n    async refresh() {\n      this.loading_ = true\n\n      try {\n        this.collections = (\n          await this.request('media.jellyfin.get_collections')\n        ).reduce((acc, collection) => {\n          acc[collection.id] = collection\n          return acc\n        }, {})\n      } finally {\n        this.loading_ = false\n      }\n    },\n\n    initCollection() {\n      const collectionId = this.getUrlArgs().collection\n      if (collectionId == null) {\n        return\n      }\n\n      const collection = this.collections[collectionId]\n      if (!collection) {\n        return\n      }\n\n      this.$emit('select', collection)\n    },\n  },\n\n  async mounted() {\n    await this.refresh()\n    this.initCollection()\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./common.scss\";\n\n.index {\n  .item {\n    h2 {\n      font-size: 2em;\n      font-weight: bold;\n    }\n  }\n}\n</style>\n","import { render } from \"./Index.vue?vue&type=template&id=42379b56&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=42379b56&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-42379b56\"]])\n\nexport default __exports__","<script>\nimport Utils from \"@/Utils\";\n\nexport default {\n  mixins: [Utils],\n  emits: [\n    'add-to-playlist',\n    'back',\n    'create-playlist',\n    'download',\n    'download-audio',\n    'path-change',\n    'play',\n    'remove-from-playlist',\n    'remove-playlist',\n    'rename-playlist',\n  ],\n\n  props: {\n    filter: {\n      type: String,\n      default: '',\n    },\n\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n\n    mediaPlugin: {\n      type: String,\n    },\n\n    selectedPlaylist: {\n      default: null,\n    },\n\n    selectedChannel: {\n      default: null,\n    },\n  },\n\n  data() {\n    return {\n      loading_: false,\n    }\n  },\n\n  computed: {\n    isLoading() {\n      return this.loading || this.loading_\n    },\n  },\n}\n</script>\n","import script from \"./Mixin.vue?vue&type=script&lang=js\"\nexport * from \"./Mixin.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","$options","isLoading","_createBlock","_component_Loading","key","_hoisted_2","_Fragment","_renderList","filteredCollections","collection","id","onClick","$event","_ctx","$emit","_createElementVNode","_hoisted_4","$data","fallbackImageCollections","_normalizeClass","collectionsIcons","type","src","image","alt","name","onError","onImageError","_hoisted_6","_toDisplayString","mixins","MediaProvider","components","Loading","emits","data","collections","loading_","computed","books","homevideos","movies","music","playlists","photos","series","Object","values","this","filter","toLowerCase","includes","loading","methods","refresh","request","reduce","acc","initCollection","collectionId","getUrlArgs","mounted","__exports__","render","Utils","props","String","default","Boolean","mediaPlugin","selectedPlaylist","selectedChannel"],"sourceRoot":""}