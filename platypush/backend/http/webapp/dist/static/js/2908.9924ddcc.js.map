{"version":3,"file":"static/js/2908.9924ddcc.js","mappings":"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","sources":["webpack://platypush/./src/components/panels/Camera/Index.vue","webpack://platypush/./src/components/panels/Camera/Mixin.vue","webpack://platypush/./src/components/panels/Camera/Mixin.vue?be5e","webpack://platypush/./src/components/panels/Camera/Index.vue?8810","webpack://platypush/./src/components/panels/CameraCv/Index.vue","webpack://platypush/./src/components/panels/CameraCv/Index.vue?6f97"],"sourcesContent":["<template>\n  <div class=\"camera\" ref=\"cameraRoot\">\n    <div class=\"camera-container\"\n         :class=\"{fullscreen: fullscreen_}\"\n         ref=\"cameraContainer\">\n      <div class=\"frame-canvas\" ref=\"frameCanvas\">\n        <div class=\"frame-container\"\n             :class=\"{vertical: isCameraVertical, horizontal: !isCameraVertical}\"\n             :style=\"{aspectRatio: aspectRatio}\"\n             ref=\"frameContainer\">\n          <div class=\"no-frame\" v-if=\"!streaming && !capturing && !captured\">The camera is not active</div>\n          <img class=\"frame\" :src=\"url\" ref=\"frame\" alt=\"\">\n        </div>\n      </div>\n\n      <div class=\"controls\">\n        <div class=\"left\">\n          <button type=\"button\" @click=\"startStreaming\" :disabled=\"capturing\" title=\"Start video\" v-if=\"!streaming\">\n            <i class=\"fa fa-play\" />\n          </button>\n\n          <button type=\"button\" @click=\"stopStreaming\" :disabled=\"capturing\" title=\"Stop video\" v-else>\n            <i class=\"fa fa-stop\" />\n          </button>\n\n          <button type=\"button\" @click=\"capture\" :disabled=\"streaming || capturing\" v-if=\"!streaming\"\n                  title=\"Take a picture\">\n            <i class=\"fas fa-camera\" />\n          </button>\n        </div>\n\n        <div class=\"right\">\n          <button type=\"button\" @click=\"startAudio\" title=\"Start audio\" v-if=\"!audioOn\">\n            <i class=\"fas fa-volume-mute\" />\n          </button>\n\n          <button type=\"button\" @click=\"stopAudio\" title=\"Stop audio\" v-else>\n            <i class=\"fas fa-volume-up\" />\n          </button>\n\n          <button type=\"button\" @click=\"$refs.paramsModal.show()\" title=\"Settings\">\n            <i class=\"fas fa-cog\" />\n          </button>\n\n          <button type=\"button\"\n                  :title=\"fullscreen_ ? 'Exit fullscreen' : 'Fullscreen'\"\n                  @click=\"fullscreen_ = !fullscreen_\"\n                  v-if=\"!fullscreen\">\n            <i class=\"fas fa-expand\" v-if=\"!fullscreen_\" />\n            <i class=\"fas fa-compress\" v-else />\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"audio-container\">\n      <audio autoplay preload=\"none\" ref=\"player\" v-if=\"audioOn\">\n        <source :src=\"`/sound/stream.aac?t=${(new Date()).getTime()}`\">\n        Your browser does not support audio elements\n      </audio>\n    </div>\n\n    <div class=\"url\" v-if=\"url?.length\">\n      <label class=\"row\">\n        <span class=\"name\">Stream URL</span>\n        <input name=\"url\" type=\"text\" :value=\"fullURL\" disabled=\"disabled\"/>\n      </label>\n    </div>\n\n    <Modal ref=\"paramsModal\" title=\"Camera Parameters\">\n      <div class=\"params\">\n        <label class=\"row\">\n          <span class=\"name\">Device</span>\n          <input name=\"device\" type=\"text\" v-model=\"attrs.device\" @change=\"onDeviceChanged\"/>\n        </label>\n\n        <label class=\"row\">\n          <span class=\"name\">Width</span>\n          <input name=\"width\" type=\"text\" v-model=\"attrs.resolution[0]\" @change=\"onSizeChanged\"/>\n        </label>\n\n        <label class=\"row\">\n          <span class=\"name\">Height</span>\n          <input name=\"height\" type=\"text\" v-model=\"attrs.resolution[1]\" @change=\"onSizeChanged\"/>\n        </label>\n\n        <label class=\"row\">\n          <span class=\"name\">Horizontal Flip</span>\n          <input name=\"horizontal_flip\" type=\"checkbox\" v-model=\"attrs.horizontal_flip\" @change=\"onFlipChanged\"/>\n        </label>\n\n        <label class=\"row\">\n          <span class=\"name\">Vertical Flip</span>\n          <input name=\"vertical_flip\" type=\"checkbox\" v-model=\"attrs.vertical_flip\" @change=\"onFlipChanged\"/>\n        </label>\n\n        <label class=\"row\">\n          <span class=\"name\">Rotate</span>\n          <input name=\"rotate\" type=\"text\" v-model=\"attrs.rotate\" @change=\"onSizeChanged\"/>\n        </label>\n\n        <label class=\"row\">\n          <span class=\"name\">Scale-X</span>\n          <input name=\"scale_x\" type=\"text\" v-model=\"attrs.scale_x\" @change=\"onSizeChanged\"/>\n        </label>\n\n        <label class=\"row\">\n          <span class=\"name\">Scale-Y</span>\n          <input name=\"scale_y\" type=\"text\" v-model=\"attrs.scale_y\" @change=\"onSizeChanged\"/>\n        </label>\n\n        <label class=\"row\">\n          <span class=\"name\">Frames per second</span>\n          <input name=\"fps\" type=\"text\" v-model=\"attrs.fps\" @change=\"onFpsChanged\"/>\n        </label>\n\n        <label class=\"row\">\n          <span class=\"name\">Grayscale</span>\n          <input name=\"grayscale\" type=\"checkbox\" v-model=\"attrs.grayscale\" @change=\"onGrayscaleChanged\"/>\n        </label>\n\n        <slot />\n      </div>\n    </Modal>\n  </div>\n</template>\n\n<script>\nimport CameraMixin from \"@/components/panels/Camera/Mixin\";\nimport Modal from \"@/components/Modal\";\n\nexport default {\n  name: \"Camera\",\n  components: {Modal},\n  mixins: [CameraMixin],\n\n  computed: {\n    fullURL() {\n      return `${window.location.protocol}//${window.location.host}${this.url}`\n    },\n  },\n\n  methods: {\n    startStreaming() {\n      this._startStreaming(this.cameraPlugin)\n    },\n\n    capture() {\n      this._capture(this.cameraPlugin)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import \"common\";\n</style>\n","<script>\nimport Utils from \"@/Utils\";\n\nexport default {\n  name: \"CameraMixin\",\n  mixins: [Utils],\n\n  props: {\n    fullscreen: {\n      type: Boolean,\n      default: false,\n    },\n\n    cameraPlugin: {\n      type: String,\n      required: true,\n    },\n  },\n\n  data() {\n    return {\n      streaming: false,\n      capturing: false,\n      captured: false,\n      fullscreen_: false,\n      audioOn: false,\n      url: null,\n      attrs: {},\n      resizeObserver: null,\n    }\n  },\n\n  computed: {\n    params() {\n      return {\n        resolution: this.attrs.resolution,\n        device: this.attrs.device?.length ? this.attrs.device : null,\n        horizontal_flip: parseInt(0 + this.attrs.horizontal_flip),\n        vertical_flip: parseInt(0 + this.attrs.vertical_flip),\n        rotate: parseFloat(this.attrs.rotate),\n        scale_x: parseFloat(this.attrs.scale_x),\n        scale_y: parseFloat(this.attrs.scale_y),\n        fps: parseFloat(this.attrs.fps),\n        grayscale: parseInt(0 + this.attrs.grayscale),\n      }\n    },\n\n    aspectRatio() {\n      if (!this.attrs?.resolution)\n        return 1\n\n      return `${this.attrs.resolution[0]}/${this.attrs.resolution[1]}`\n    },\n\n    isCameraVertical() {\n      if (!this.attrs?.resolution)\n        return false\n\n      return this.attrs.resolution[1] > this.attrs.resolution[0]\n    },\n  },\n\n  methods: {\n    getUrl(plugin, action) {\n      return '/camera/' + plugin + '/' + action + '?' +\n          Object.entries(this.params).filter((entry) => entry[1] != null && ('' + entry[1]).length > 0)\n              .map(([k, v]) => k + '=' + v).join('&')\n    },\n\n    _startStreaming(plugin) {\n      if (this.streaming)\n        return\n\n      this.streaming = true\n      this.capturing = false\n      this.captured = false\n      this.url = this.getUrl(plugin, 'video.' + this.attrs.stream_format)\n    },\n\n    stopStreaming() {\n      if (!this.streaming)\n        return\n\n      this.streaming = false\n      this.capturing = false\n      this.url = null\n    },\n\n    _capture(plugin) {\n      if (this.capturing)\n        return\n\n      this.streaming = false\n      this.capturing = true\n      this.captured = true\n      this.url = this.getUrl(plugin, 'photo.jpg') + '&t=' + (new Date()).getTime()\n    },\n\n    onFrameLoaded() {\n      if (this.capturing) {\n        this.capturing = false\n      }\n    },\n\n    onDeviceChanged() {},\n\n    onFlipChanged() {\n      this.onSizeChanged()\n    },\n\n    onSizeChanged() {\n      const degToRad = (deg) => (deg * Math.PI)/180\n      const rot = degToRad(this.params.rotate)\n      const outerWidth = this.$refs.frameContainer.parentElement.offsetWidth\n      const outerHeight = this.$refs.frameContainer.parentElement.offsetHeight\n      const maxWidth = this.$refs.cameraRoot?.offsetWidth || outerWidth\n      const maxHeight = this.$refs.cameraRoot?.offsetHeight || outerHeight\n      let width = '100%'\n      let height = '100%'\n\n      if (this.fullscreen_) {\n        if (this.params.resolution[0] > this.params.resolution[1]) {\n          width = '100%'\n          height = (outerHeight * (this.params.resolution[1] / this.params.resolution[0])) + 'px'\n        } else {\n          height = '100%'\n          width = (outerWidth * (this.params.resolution[0] / this.params.resolution[1])) + 'px'\n        }\n      } else {\n        width = Math.min(\n          maxWidth,\n          Math.round(\n            this.params.scale_x * Math.abs(this.params.resolution[0] * Math.cos(rot) + this.params.resolution[1] * Math.sin(rot))\n          )\n        ) + 'px'\n\n        height = Math.min(\n          maxHeight,\n          Math.round(\n            this.params.scale_y * Math.abs(this.params.resolution[0] * Math.sin(rot) + this.params.resolution[1] * Math.cos(rot))\n          )\n        ) + 'px'\n      }\n\n      this.$refs.frameContainer.style.width = width\n      this.$refs.frameContainer.style.height = height\n    },\n\n    onFpsChanged() {},\n    onGrayscaleChanged() {},\n\n    startAudio() {\n      this.audioOn = true\n    },\n\n    async stopAudio() {\n      this.audioOn = false\n      await this.request('sound.stop_recording')\n    },\n  },\n\n  created() {\n    const config = this.$root.config[`camera.${this.cameraPlugin}`] || {}\n    this.attrs = {\n      resolution: config.resolution || [640, 480],\n      device: config.device,\n      horizontal_flip: config.horizontal_flip || 0,\n      vertical_flip: config.vertical_flip || 0,\n      rotate: config.rotate || 0,\n      scale_x: config.scale_x || 1.0,\n      scale_y: config.scale_y || 1.0,\n      fps: config.fps || 16.0,\n      grayscale: config.grayscale || 0,\n      stream_format: config.stream_format || 'mjpeg',\n    }\n  },\n\n  mounted() {\n    this.fullscreen_ = this.fullscreen\n    this.$refs.frame.addEventListener('load', this.onFrameLoaded)\n    this.onSizeChanged()\n    this.$watch(() => this.attrs.resolution, this.onSizeChanged)\n    this.$watch(() => this.attrs.horizontal_flip, this.onSizeChanged)\n    this.$watch(() => this.attrs.vertical_flip, this.onSizeChanged)\n    this.$watch(() => this.attrs.rotate, this.onSizeChanged)\n    this.$watch(() => this.attrs.scale_x, this.onSizeChanged)\n    this.$watch(() => this.attrs.scale_y, this.onSizeChanged)\n    screen.orientation.addEventListener('change', this.onSizeChanged)\n\n    const onOrientationOrSizeChange = () => {\n      this.onSizeChanged()\n    }\n\n    onOrientationOrSizeChange()\n\n    this.$nextTick(() => {\n      this.resizeObserver = new ResizeObserver(onOrientationOrSizeChange)\n      this.resizeObserver.observe(document.body)\n      this.resizeObserver.observe(this.$refs?.frameContainer?.parentElement)\n    })\n  },\n\n  unmouted() {\n    this.resizeObserver?.disconnect()\n  },\n}\n</script>\n","import script from \"./Mixin.vue?vue&type=script&lang=js\"\nexport * from \"./Mixin.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { render } from \"./Index.vue?vue&type=template&id=644193b1\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=644193b1&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Camera camera-plugin=\"cv\" />\n</template>\n\n<script>\nimport Camera from \"@/components/panels/Camera/Index\";\n\nexport default {\n  name: \"CameraCv\",\n  components: {Camera},\n}\n</script>\n","import { render } from \"./Index.vue?vue&type=template&id=351194be\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","ref","autoplay","preload","_createElementBlock","_hoisted_1","_createElementVNode","_normalizeClass","fullscreen","_ctx","fullscreen_","_hoisted_2","vertical","isCameraVertical","horizontal","style","_normalizeStyle","aspectRatio","streaming","capturing","captured","_hoisted_3","src","url","alt","_hoisted_5","_hoisted_6","type","onClick","_cache","args","stopStreaming","disabled","title","$options","startStreaming","capture","_hoisted_10","audioOn","stopAudio","startAudio","$event","$refs","paramsModal","show","_hoisted_13","_hoisted_12","_hoisted_14","_hoisted_15","Date","getTime","length","_hoisted_17","_hoisted_18","name","value","fullURL","_createVNode","_component_Modal","_hoisted_20","_hoisted_21","attrs","device","onChange","onDeviceChanged","_hoisted_22","resolution","onSizeChanged","_hoisted_23","_hoisted_24","horizontal_flip","onFlipChanged","_hoisted_25","vertical_flip","_hoisted_26","rotate","_hoisted_27","scale_x","_hoisted_28","scale_y","_hoisted_29","fps","onFpsChanged","_hoisted_30","grayscale","onGrayscaleChanged","_renderSlot","$slots","mixins","Utils","props","Boolean","default","cameraPlugin","String","required","data","resizeObserver","computed","params","this","parseInt","parseFloat","methods","getUrl","plugin","action","Object","entries","filter","entry","map","k","v","join","_startStreaming","stream_format","_capture","onFrameLoaded","degToRad","deg","Math","PI","rot","outerWidth","frameContainer","parentElement","offsetWidth","outerHeight","offsetHeight","maxWidth","cameraRoot","maxHeight","width","height","min","round","abs","cos","sin","request","created","config","$root","mounted","frame","addEventListener","$watch","screen","orientation","onOrientationOrSizeChange","$nextTick","ResizeObserver","observe","document","body","unmouted","disconnect","__exports__","components","Modal","CameraMixin","window","location","protocol","host","render","_createBlock","_component_Camera","Camera"],"sourceRoot":""}