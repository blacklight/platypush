{"version":3,"file":"static/js/7420.e53d9d48.js","mappings":"gMACOA,MAAM,Y,SACJA,MAAM,W,gGADb,QAMM,MANN,EAMM,CALuB,EAAAC,iBAAA,WAA3B,QAIM,MAJN,EAIM,EAHJ,OAAwF,OAAnFD,MAAM,S,aAAS,QAA6D,EAAvC,eAACE,YAAc,EAAAD,eAAeE,WAAxE,WACA,OAAuD,OAAlDH,MAAM,Q,aAAQ,QAA6B,EAAP,eAACI,QAA1C,WACA,OAAkK,OAA7JJ,MAAM,Y,aAAY,QAAoI,IAAxHK,KAAK,EAAAJ,eAAeK,WAAWC,eAAY,SAAgBF,KAAK,EAAAJ,eAAeK,WAAWE,eAAeC,UAAS,OAArJ,cAHF,gB,eAeJ,GACEC,KAAM,UACNC,OAAQ,CAACC,EAAA,GACTC,MAAO,CAELC,MAAO,CACLC,KAAMC,OACNC,UAAU,EACVC,QAAS,IAIXC,eAAgB,CACdJ,KAAMC,OACNC,UAAU,EACVC,QAAS,KAIbE,KAAM,WACJ,MAAO,CACLC,SAAU,GACVC,MAAO,GACPrB,oBAAgBsB,EAEnB,EAEDC,QAAS,CACPC,QAASC,iBACFC,KAAKL,MAAMM,SACdD,KAAKN,eAAiBM,KAAKE,QAAQ,yBAA0B,CAC3Df,MAAOa,KAAKb,QAGda,KAAKL,MAAQ,IAAIK,KAAKN,UAAUS,WAG7BH,KAAKL,MAAMM,SAGhBD,KAAK1B,eAAiB0B,KAAKL,MAAMS,MAClC,GAGHC,QAAS,WACPL,KAAKF,UACLQ,YAAYN,KAAKF,QAASS,UAA8B,IAApBP,KAAKR,gBAAqBgB,QAAQ,IACvE,G,UCzDH,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://platypush/./src/components/widgets/RssNews/Index.vue","webpack://platypush/./src/components/widgets/RssNews/Index.vue?c35e"],"sourcesContent":["<template>\n  <div class=\"rss-news\">\n    <div class=\"article\" v-if=\"currentArticle\">\n      <div class=\"source\" v-text=\"currentArticle.feed_title || currentArticle.feed_url\"></div>\n      <div class=\"title\" v-text=\"currentArticle.title\"></div>\n      <div class=\"published\" v-text=\"new Date(currentArticle.published).toDateString() + ', ' + new Date(currentArticle.published).toTimeString().substring(0,5)\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Utils from \"@/Utils\";\n\n/**\n * In order to use this widget you need to configure the `rss` plugin\n * with a list of subscriptions.\n */\nexport default {\n  name: \"RssNews\",\n  mixins: [Utils],\n  props: {\n    // Maximum number of items to be shown in a cycle.\n    limit: {\n      type: Number,\n      required: false,\n      default: 25,\n    },\n\n    // How long an entry should be displayed before moving to the next one.\n    refreshSeconds: {\n      type: Number,\n      required: false,\n      default: 15,\n    },\n  },\n\n  data: function() {\n    return {\n      articles: [],\n      queue: [],\n      currentArticle: undefined,\n    }\n  },\n\n  methods: {\n    refresh: async function() {\n      if (!this.queue.length) {\n        this.articles = await this.request('rss.get_latest_entries', {\n          limit: this.limit\n        })\n\n        this.queue = [...this.articles].reverse()\n      }\n\n      if (!this.queue.length)\n        return\n\n      this.currentArticle = this.queue.pop()\n    },\n  },\n\n  mounted: function() {\n    this.refresh()\n    setInterval(this.refresh, parseInt((this.refreshSeconds*1000).toFixed(0)))\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.rss-news {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  letter-spacing: .025em;\n\n  .article {\n    width: 90%;\n    padding: 0 2em;\n\n    .source {\n      font-size: 1.7em;\n      font-weight: bold;\n      margin-bottom: .5em;\n    }\n\n    .title {\n      font-size: 1.8em;\n      font-weight: normal;\n      margin-bottom: .5em;\n    }\n\n    .published {\n      text-align: right;\n      font-size: 1.1em;\n    }\n  }\n}\n</style>\n","import { render } from \"./Index.vue?vue&type=template&id=24745ce0&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=24745ce0&lang=scss&scoped=true\"\n\nimport exportComponent from \"/home/blacklight/git_tree/platypush/platypush/backend/http/webapp/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-24745ce0\"]])\n\nexport default __exports__"],"names":["class","currentArticle","feed_title","feed_url","title","Date","published","toDateString","toTimeString","substring","name","mixins","Utils","props","limit","type","Number","required","default","refreshSeconds","data","articles","queue","undefined","methods","refresh","async","this","length","request","reverse","pop","mounted","setInterval","parseInt","toFixed","__exports__","render"],"sourceRoot":""}