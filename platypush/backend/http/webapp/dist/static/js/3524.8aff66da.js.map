{"version":3,"file":"static/js/3524.8aff66da.js","mappings":"gMAESA,MAAM,qB,iBAKFA,MAAM,S,mCAQNA,MAAM,Q,SAINA,MAAM,sB,0CAlBjBC,EAAAA,EAAAA,IAuBM,OAvBDD,OAAKE,EAAAA,EAAAA,IAAA,CAAC,oBAAmB,YAAuBC,EAAAC,a,EACnDC,EAAAA,EAAAA,GAqBM,MArBNC,EAqBM,gBApBJL,EAAAA,EAAAA,IAmBMM,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAlBoBC,EAAAC,eAAdC,K,WADZV,EAAAA,EAAAA,IAmBM,OAnBDD,MAAM,kBAELY,IAAKD,EAAWE,GAChBC,QAAKC,GAAEC,EAAAC,MAAM,SAAUN,I,EAC3BN,EAAAA,EAAAA,GAMM,MANNa,EAMM,CAFQC,EAAAC,yBAAyBT,EAAWE,M,WAChDZ,EAAAA,EAAAA,IAA0E,K,MAAtED,OAAKE,EAAAA,EAAAA,IAAEO,EAAAY,iBAAiBV,EAAWW,OAAS,kB,WADE,WAHlDrB,EAAAA,EAAAA,IAGqD,O,MAH/CsB,IAAKZ,EAAWa,MAChBC,IAAKd,EAAWe,KAChBC,QAAKZ,GAAEN,EAAAmB,aAAajB,I,cAKJQ,EAAAC,yBAAyBT,EAAWE,KAAOV,EAAAC,WAAQ,WAA3EH,EAAAA,EAAAA,IAEM,MAFN4B,EAEM,EADJxB,EAAAA,EAAAA,GAA8B,WAAAyB,EAAAA,EAAAA,IAAvBnB,EAAWe,MAAI,sBAGcf,EAAWoB,OAAI,WAArD9B,EAAAA,EAAAA,IAEM,MAFN+B,EAEM,EADJ3B,EAAAA,EAAAA,GAAkC,aAAAyB,EAAAA,EAAAA,IAAzBnB,EAAWoB,MAAI,+B,YAQlC,OACEE,MAAO,CACLC,OAAQ,CACNZ,KAAMa,QAGRC,MAAO,CACLd,KAAMe,MACNC,QAASA,IAAM,IAGjBC,WAAY,CACVjB,KAAMkB,OACNF,QAAS,KAGXlC,SAAU,CACRkB,KAAMa,SAIVM,IAAAA,GACE,MAAO,CACLrB,yBAA0B,CAAC,EAC3BsB,eAAgBC,KAAKJ,WAEzB,EAEAK,SAAU,CACRvB,gBAAAA,GACE,MAAO,CACLwB,MAAO,cACPC,WAAY,eACZC,OAAQ,cACRC,MAAO,eACPC,UAAW,cACXC,OAAQ,eACRC,OAAQ,YAEZ,EAEAzC,aAAAA,GACE,OAAO0C,OAAOC,OAAOV,KAAKP,OAAOF,QAC9BoB,IAAUX,KAAKT,QAAUoB,EAAK5B,KAAK6B,cAAcC,SAASb,KAAKT,OAAOqB,iBACvEE,MAAK,CAACC,EAAGC,IACW,UAAhBD,EAAEE,WAAyC,UAAhBD,EAAEC,WAC3BF,EAAE3B,MAAQ4B,EAAE5B,MACV2B,EAAE3B,OAAS4B,EAAE5B,KACR4B,EAAE5B,KAAO2B,EAAE3B,KAKjB2B,EAAEhC,KAAKmC,cAAcF,EAAEjC,QAC7BoC,MAAM,EAAGnB,KAAKD,eACnB,GAGFqB,QAAS,CACPnC,YAAAA,CAAajB,GACXgC,KAAKvB,yBAAyBT,EAAWE,KAAM,CACjD,EAEAmD,QAAAA,CAASC,GACP,MAAMC,EAAKD,EAAEE,OACb,IAAKD,EACH,OAEF,MAAME,EAAUF,EAAGG,aAAeH,EAAGI,WAAcJ,EAAGK,aAAe,IAChEH,IAGLzB,KAAKD,gBAAkBC,KAAKJ,WAC9B,GAGFiC,OAAAA,GACE7B,KAAK8B,IAAIC,cAAcC,iBAAiB,SAAUhC,KAAKqB,SACzD,EAEAY,SAAAA,GACEjC,KAAK8B,IAAIC,cAAcG,oBAAoB,SAAUlC,KAAKqB,SAC5D,G,UCvGF,MAAMc,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://platypush/./src/components/panels/Media/Providers/Jellyfin/Collections.vue","webpack://platypush/./src/components/panels/Media/Providers/Jellyfin/Collections.vue?e185"],"sourcesContent":["<template>\n  <div class=\"collections index\" :class=\"{ 'is-root': !parentId }\">\n    <div class=\"collections items\">\n      <div class=\"collection item\"\n           v-for=\"collection in filteredItems\"\n           :key=\"collection.id\"\n           @click=\"$emit('select', collection)\">\n        <div class=\"image\">\n          <img :src=\"collection.image\"\n               :alt=\"collection.name\"\n               @error=\"onImageError(collection)\"\n               v-if=\"!fallbackImageCollections[collection.id]\">\n          <i :class=\"collectionsIcons[collection.type] ?? 'fas fa-folder'\" v-else />\n        </div>\n\n        <div class=\"name\" v-if=\"fallbackImageCollections[collection.id] || parentId\">\n          <h2>{{ collection.name }}</h2>\n        </div>\n\n        <div class=\"float bottom-right\" v-if=\"collection.year\">\n          <span>{{ collection.year }}</span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    filter: {\n      type: String,\n    },\n\n    items: {\n      type: Array,\n      default: () => [],\n    },\n\n    batchItems: {\n      type: Number,\n      default: 100,\n    },\n\n    parentId: {\n      type: String,\n    },\n  },\n\n  data() {\n    return {\n      fallbackImageCollections: {},\n      maxResultIndex: this.batchItems,\n    };\n  },\n\n  computed: {\n    collectionsIcons() {\n      return {\n        books: \"fas fa-book\",\n        homevideos: \"fas fa-video\",\n        movies: \"fas fa-film\",\n        music: \"fas fa-music\",\n        playlists: \"fas fa-list\",\n        photos: \"fas fa-image\",\n        series: \"fas fa-tv\",\n      };\n    },\n\n    filteredItems() {\n      return Object.values(this.items).filter(\n        (item) => !this.filter || item.name.toLowerCase().includes(this.filter.toLowerCase())\n      ).sort((a, b) => {\n        if (a.item_type === 'album' && b.item_type === 'album') {\n          if (a.year && b.year) {\n            if (a.year !== b.year) {\n              return b.year - a.year\n            }\n          }\n        }\n\n        return a.name.localeCompare(b.name)\n      }).slice(0, this.maxResultIndex)\n    },\n  },\n\n  methods: {\n    onImageError(collection) {\n      this.fallbackImageCollections[collection.id] = true\n    },\n\n    onScroll(e) {\n      const el = e.target\n      if (!el)\n        return\n\n      const bottom = (el.scrollHeight - el.scrollTop) <= el.clientHeight + 150\n      if (!bottom)\n        return\n\n      this.maxResultIndex += this.batchItems\n    },\n  },\n\n  mounted() {\n    this.$el.parentElement.addEventListener('scroll', this.onScroll)\n  },\n\n  unmounted() {\n    this.$el.parentElement.removeEventListener('scroll', this.onScroll)\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"./common.scss\";\n\n.index {\n  .item {\n    position: relative;\n\n    h2 {\n      font-size: 1.25em;\n      font-weight: bold;\n      overflow: auto;\n      text-overflow: ellipsis;\n    }\n\n    .float {\n      position: absolute;\n      background: rgba(0, 0, 0, 0.5);\n      color: white;\n      z-index: 1;\n      padding: 0.25em;\n      font-size: 0.9em;\n      border-radius: 0.5em;\n\n      &.bottom-right {\n        right: 0;\n        bottom: 0;\n      }\n    }\n  }\n\n  &.is-root {\n    .item {\n      h2 {\n        font-size: 2em;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./Collections.vue?vue&type=template&id=533af79f&scoped=true\"\nimport script from \"./Collections.vue?vue&type=script&lang=js\"\nexport * from \"./Collections.vue?vue&type=script&lang=js\"\n\nimport \"./Collections.vue?vue&type=style&index=0&id=533af79f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-533af79f\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_normalizeClass","$props","parentId","_createElementVNode","_hoisted_1","_Fragment","_renderList","$options","filteredItems","collection","key","id","onClick","$event","_ctx","$emit","_hoisted_3","$data","fallbackImageCollections","collectionsIcons","type","src","image","alt","name","onError","onImageError","_hoisted_5","_toDisplayString","year","_hoisted_6","props","filter","String","items","Array","default","batchItems","Number","data","maxResultIndex","this","computed","books","homevideos","movies","music","playlists","photos","series","Object","values","item","toLowerCase","includes","sort","a","b","item_type","localeCompare","slice","methods","onScroll","e","el","target","bottom","scrollHeight","scrollTop","clientHeight","mounted","$el","parentElement","addEventListener","unmounted","removeEventListener","__exports__","render"],"sourceRoot":""}