{"version":3,"file":"static/js/2206.b75134bb.js","mappings":"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","sources":["webpack://platypush/./src/components/panels/Media/Providers/Jellyfin.vue","webpack://platypush/./src/components/panels/Media/Providers/Jellyfin.vue?7028","webpack://platypush/./src/components/panels/Media/Providers/Jellyfin/views/Movies/Index.vue","webpack://platypush/./src/components/panels/Media/Providers/Jellyfin/views/Movies/Index.vue?417a","webpack://platypush/./src/components/panels/Media/Providers/Nav.vue","webpack://platypush/./src/components/panels/Media/Providers/Nav.vue?d1ce"],"sourcesContent":["<template>\n  <div class=\"media-jellyfin-container browser\">\n    <MediaNav :path=\"path\" @back=\"$emit('back')\" />\n\n    <div class=\"media-jellyfin-browser\">\n      <Loading v-if=\"isLoading\" />\n\n      <Movies v-bind=\"componentData.props\"\n              v-on=\"componentData.on\"\n              :collection=\"collection\"\n              @select=\"select\"\n              v-else-if=\"currentView === 'movies'\" />\n\n      <Media v-bind=\"componentData.props\"\n             v-on=\"componentData.on\"\n             :collection=\"collection\"\n             @select=\"select\"\n             @select-collection=\"selectCollection\"\n             v-else />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from \"@/components/Loading\";\nimport MediaNav from \"./Nav\";\nimport MediaProvider from \"./Mixin\";\nimport Media from \"./Jellyfin/views/Media/Index\";\nimport Movies from \"./Jellyfin/views/Movies/Index\";\n\nexport default {\n  mixins: [MediaProvider],\n  components: {\n    Loading,\n    MediaNav,\n    Media,\n    Movies,\n  },\n\n  emits: [\n    'add-to-playlist',\n    'back',\n    'download',\n    'download-audio',\n    'play',\n    'play-with-opts',\n  ],\n\n  data() {\n    return {\n      collection: null,\n      loading_: false,\n      path: [],\n    };\n  },\n\n  computed: {\n    componentData() {\n      return {\n        props: {\n          collection: this.collection,\n          filter: this.filter,\n          loading: this.isLoading,\n          path: this.path,\n        },\n\n        on: {\n          'add-to-playlist': (item) => this.$emit('add-to-playlist', item),\n          'download': (item) => this.$emit('download', item),\n          'download-audio': (item) => this.$emit('download-audio', item),\n          'play': (item) => this.$emit('play', item),\n          'play-with-opts': (item) => this.$emit('play-with-opts', item),\n        },\n      }\n    },\n\n    currentView() {\n      if (!this.collection) {\n        return 'index'\n      }\n\n      switch (this.collection.collection_type) {\n        case 'movies':\n          return 'movies'\n        case 'homevideos':\n          return 'videos'\n        default:\n          return 'index'\n      }\n    },\n\n    isLoading() {\n      return this.loading_ || this.loading\n    },\n\n    rootItem() {\n      const item = {\n        id: '',\n        title: 'Jellyfin',\n        type: 'index',\n        icon: {\n          class: 'fas fa-server',\n        },\n      }\n\n      item.click = () => {\n        this.collection = null\n        this.select(item)\n      }\n\n      return item\n    },\n  },\n\n  methods: {\n    select(item) {\n      if (item) {\n        if (this.path.length > 0 && this.path[this.path.length - 1].id === item.id) {\n          return\n        }\n\n        if (item.type === 'index') {\n          this.path = [this.rootItem]\n        } else {\n          const itemIndex = this.path.findIndex((i) => i.id === item.id)\n          if (itemIndex >= 0) {\n            this.path = this.path.slice(0, itemIndex + 1)\n          } else {\n            this.path.push({\n              title: item.name,\n              click: () => this.selectCollection(item),\n              ...item,\n            })\n          }\n        }\n      } else {\n        this.path = []\n      }\n    },\n\n    selectCollection(collection) {\n      this.collection = collection\n      this.select(collection)\n    },\n  },\n\n  watch: {\n    collection() {\n      this.setUrlArgs({ collection: this.collection?.id })\n    },\n  },\n\n  mounted() {\n    this.path = [this.rootItem]\n  },\n\n  unmounted() {\n    this.setUrlArgs({ collection: null })\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../style.scss\";\n\n.media-jellyfin-container {\n  height: 100%;\n\n  .media-jellyfin-browser {\n    height: calc(100% - $media-nav-height - 2px);\n  }\n}\n</style>\n","import { render } from \"./Jellyfin.vue?vue&type=template&id=27624e4f&scoped=true\"\nimport script from \"./Jellyfin.vue?vue&type=script&lang=js\"\nexport * from \"./Jellyfin.vue?vue&type=script&lang=js\"\n\nimport \"./Jellyfin.vue?vue&type=style&index=0&id=27624e4f&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-27624e4f\"]])\n\nexport default __exports__","<template>\n  <div class=\"movies index\">\n    <Loading v-if=\"isLoading\" />\n\n    <NoItems :with-shadow=\"false\"\n             v-else-if=\"movies.length === 0\">\n      No movies found.\n    </NoItems>\n\n    <Results :results=\"movies\"\n             :sources=\"{'jellyfin': true}\"\n             :filter=\"filter\"\n             :selected-result=\"selectedResult\"\n             @add-to-playlist=\"$emit('add-to-playlist', $event)\"\n             @download=\"$emit('download', $event)\"\n             @play=\"$emit('play', $event)\"\n             @play-with-opts=\"$emit('play-with-opts', $event)\"\n             @remove-from-playlist=\"$emit('remove-from-playlist', $event)\"\n             @select=\"selectedResult = $event\"\n             v-else />\n\n    <SortButton :value=\"sort\"\n                :with-release-date=\"true\"\n                :with-critic-rating=\"true\"\n                :with-community-rating=\"true\"\n                @input=\"sort = $event\"\n                v-if=\"movies.length > 0\" />\n  </div>\n</template>\n\n<script>\nimport Loading from \"@/components/Loading\";\nimport Mixin from \"@/components/panels/Media/Providers/Jellyfin/Mixin\";\nimport NoItems from \"@/components/elements/NoItems\";\nimport Results from \"@/components/panels/Media/Results\";\nimport SortButton from \"@/components/panels/Media/Providers/Jellyfin/components/SortButton\";\n\nexport default {\n  mixins: [Mixin],\n  components: {\n    Loading,\n    NoItems,\n    Results,\n    SortButton,\n  },\n\n  computed: {\n    movies() {\n      return this.sortedItems?.filter((item) => item.item_type === 'movie') ?? []\n    },\n  },\n\n  async mounted() {\n    await this.refresh()\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/components/panels/Media/Providers/Jellyfin/common.scss\";\n\n.index {\n  position: relative;\n}\n</style>\n","import { render } from \"./Index.vue?vue&type=template&id=f07087c4&scoped=true\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=f07087c4&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-f07087c4\"]])\n\nexport default __exports__","<template>\n  <div class=\"nav\">\n    <span class=\"path\">\n      <span class=\"back token\" title=\"Back\" @click=\"$emit('back')\">\n        <i class=\"fas fa-home\" />\n      </span>\n\n      <span class=\"separator\">\n        <i class=\"fas fa-chevron-right\" />\n      </span>\n    </span>\n\n    <span class=\"path\" v-for=\"(token, index) in path\" :key=\"index\">\n      <span class=\"token\" :title=\"token.title\" @click=\"onClick(token)\">\n        <i class=\"icon\" :class=\"icon\" v-if=\"icon = token.icon?.['class']\" />\n        <span v-if=\"token.title\">{{ token.title }}</span>\n      </span>\n\n      <span class=\"separator\"\n            v-if=\"(index > 0 || path.length > 1) && index < path.length - 1\">\n        <i class=\"fas fa-chevron-right\" />\n      </span>\n    </span>\n  </div>\n</template>\n\n<script>\nexport default {\n  emits: ['back', 'select'],\n  props: {\n    path: {\n      type: Array,\n      default: () => [],\n    },\n  },\n\n  methods: {\n    onClick(token) {\n      if (token.click) {\n        token.click()\n        this.$emit('select', token)\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"../style.scss\";\n\n.nav {\n  overflow-x: auto !important;\n  overflow-y: hidden !important;\n\n  .path .token .icon {\n    margin-right: 0.5em;\n  }\n}\n</style>\n","import { render } from \"./Nav.vue?vue&type=template&id=1e886630&scoped=true\"\nimport script from \"./Nav.vue?vue&type=script&lang=js\"\nexport * from \"./Nav.vue?vue&type=script&lang=js\"\n\nimport \"./Nav.vue?vue&type=style&index=0&id=1e886630&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1e886630\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createVNode","_component_MediaNav","path","$data","onBack","_cache","$event","_ctx","$emit","_createElementVNode","_hoisted_2","$options","isLoading","_createBlock","_component_Loading","key","currentView","_component_Movies","_mergeProps","componentData","props","_toHandlers","on","collection","onSelect","select","_component_Media","onSelectCollection","selectCollection","mixins","MediaProvider","components","Loading","MediaNav","Media","Movies","emits","data","loading_","computed","this","filter","loading","item","collection_type","rootItem","id","title","type","icon","click","methods","length","itemIndex","findIndex","i","slice","push","name","watch","setUrlArgs","mounted","unmounted","__exports__","render","movies","_component_NoItems","_component_Results","results","sources","selectedResult","onAddToPlaylist","onDownload","onPlay","onPlayWithOpts","onRemoveFromPlaylist","_component_SortButton","value","sort","onInput","Mixin","NoItems","Results","SortButton","sortedItems","item_type","refresh","_hoisted_3","_hoisted_9","onClick","_hoisted_5","_Fragment","_renderList","$props","token","index","_normalizeClass","_hoisted_7","_toDisplayString","_hoisted_8","_hoisted_10","Array","default"],"sourceRoot":""}