"use strict";(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[3149],{8692:function(t,e,i){i.d(e,{A:function(){return c}});var s=i(641),l=i(33);const n=["innerHTML"];function a(t,e,i,a,o,r){return(0,s.uX)(),(0,s.CE)("div",{class:(0,l.C4)(["dragged",{hidden:!r.draggingVisible}]),style:(0,l.Tr)({top:`${o.top}px`,left:`${o.left}px`})},[r.draggingVisible?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"content",innerHTML:i.element?.outerHTML||"..."},null,8,n)):(0,s.Q3)("",!0)],6)}var o={emits:["contextmenu","drag","dragend","drop"],props:{disabled:{type:Boolean,default:!1},element:{type:Object},touchDragStartThreshold:{type:Number,default:500},touchDragMoveCancelDistance:{type:Number,default:10},value:{type:[Object,String,Number,Boolean,Array],default:()=>({})}},data(){return{dragging:!1,draggingHTML:null,eventsHandlers:{contextmenu:this.onContextMenu,drag:this.onDrag,dragend:this.onDragEnd,dragstart:this.onDragStart,drop:this.onDragEnd,touchcancel:this.onDragEnd,touchend:this.onTouchEnd,touchmove:this.onTouchMove,touchstart:this.onTouchStart},initialCursorOffset:null,left:0,top:0,touchDragStartTimer:null,touchScrollDirection:[0,0],touchScrollSpeed:10,touchScrollTimer:null,touchStart:null,touchOverElement:null}},computed:{draggingVisible(){return this.dragging&&this.touchStart},shouldScroll(){return this.touchScrollDirection[0]||this.touchScrollDirection[1]}},methods:{onContextMenu(t){!this.disabled&&this.touchStart?(t.preventDefault(),t.stopPropagation(),this.onDragStart(t)):this.$emit("contextmenu",t)},onDragStart(t){this.disabled||(this.dragging=!0,this.draggingHTML=this.$slots.default?.()?.el?.outerHTML,t.value=this.value,t.dataTransfer&&(t.dataTransfer.dropEffect="move",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("application/json",JSON.stringify(this.value))),this.cancelTouchDragStart(),this.$emit("drag",t))},onDragEnd(t){this.disabled||(this.reset(),this.$emit("dragend",t))},onTouchStart(t){if(this.disabled)return;const e=t.touches?.[0];e&&(this.touchStart=[e.clientX,e.clientY],this.cancelTouchDragStart(),this.touchDragStartTimer=setTimeout((()=>{this.onDragStart(t)}),this.touchDragStartThreshold))},onTouchMove(t){if(this.disabled)return;const e=t.touches?.[0];if(!e||!this.touchStart)return;if(this.touchDragStartTimer){const i=Math.hypot(e.clientX-this.touchStart[0],e.clientY-this.touchStart[1]);if(i>this.touchDragMoveCancelDistance)return void this.reset();this.onDragStart(t)}t.preventDefault();const{clientX:i,clientY:s}=e;this.left=i,this.top=s,this.left=i-this.touchStart[0],this.top=s-this.touchStart[1],this.touchScroll(t);let l=document.elementsFromPoint(i,s).filter((t=>t.dataset?.droppable&&!t.classList.contains("dragged")))?.[0];l?(this.dispatchEvent("dragenter",l),this.touchOverElement=l):this.touchOverElement=null},touchScroll(t){if(this.disabled)return;const e=this.getScrollableParent();if(!e)return;const i=t.touches?.[0];if(!i)return;const{clientX:s,clientY:l}=i,n=e.getBoundingClientRect(),a=[(s-n.left)/n.width,(l-n.top)/n.height],o=[0,0];a[0]<0?o[0]=-1:a[0]>1&&(o[0]=1),a[1]<0?o[1]=-1:a[1]>1&&(o[1]=1),this.handleTouchScroll(o,e)},onTouchEnd(t){if(this.disabled)return;const e=this.touchOverElement;e&&this.dispatchEvent("drop",e),this.onDragEnd(t)},handleTouchScroll(t,e){this.touchScrollDirection=t,t[0]||t[1]?this.touchScrollTimer||(this.touchScrollTimer=setInterval((()=>{if(!e)return;const[i,s]=t;e.scrollBy(i*this.touchScrollSpeed,s*this.touchScrollSpeed)}),1e3/60)):this.cancelScroll()},getScrollableParent(){let t=this.element?.parentElement;while(t){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth){const e=window.getComputedStyle(t);if(["scroll","auto"].includes(e.overflowY)||["scroll","auto"].includes(e.overflowX))return t}t=t.parentElement}return null},dispatchEvent(t,e){e.dispatchEvent(new DragEvent(t,{target:{...e,value:this.value}}))},cancelScroll(){this.touchScrollDirection=[0,0],this.touchScrollTimer&&(clearInterval(this.touchScrollTimer),this.touchScrollTimer=null)},cancelTouchDragStart(){this.touchDragStartTimer&&(clearTimeout(this.touchDragStartTimer),this.touchDragStartTimer=null)},reset(){this.cancelTouchDragStart(),this.cancelScroll(),this.dragging=!1,this.touchStart=null,this.touchOverElement=null,this.left=0,this.top=0,this.initialCursorOffset=null},installHandlers(){console.debug("Installing drag handlers on",this.element),this.element?.setAttribute("draggable",!0),Object.entries(this.eventsHandlers).forEach((([t,e])=>{this.element?.addEventListener(t,e)}))},uninstallHandlers(){console.debug("Uninstalling drag handlers from",this.element),this.element?.setAttribute("draggable",!1),Object.entries(this.eventsHandlers).forEach((([t,e])=>{this.element?.removeEventListener(t,e)}))}},watch:{dragging(){this.dragging?(this.element?.classList.add("dragged"),this.$nextTick((()=>{this.touchStart&&(this.initialCursorOffset=[this.element?.offsetLeft-this.touchStart[0],this.element?.offsetTop-this.touchStart[1]])}))):this.element?.classList.remove("dragged")},disabled(t){t?(this.reset(),this.uninstallHandlers()):this.installHandlers()},element(){this.uninstallHandlers(),this.installHandlers()},touchOverElement(t,e){t!==e&&(e&&this.dispatchEvent("dragleave",e),t&&this.dispatchEvent("dragenter",t))}},mounted(){this.installHandlers()},unmounted(){this.uninstallHandlers()}},r=i(6262);const d=(0,r.A)(o,[["render",a],["__scopeId","data-v-dd2759da"]]);var c=d},3118:function(t,e,i){i.d(e,{A:function(){return d}});var s=i(641);const l={class:"droppable"};function n(t,e,i,n,a,o){return(0,s.uX)(),(0,s.CE)("div",l)}var a={emits:["dragenter","dragleave","dragover","drop"],props:{element:{type:Object},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data(){return{eventsHandlers:{dragenter:this.onDragEnter,dragleave:this.onDragLeave,dragover:this.onDragOver,drop:this.onDrop},selected:!1}},methods:{onDragEnter(t){this.disabled||this.selected||(this.selected=!0,this.$emit("dragenter",t))},onDragLeave(t){if(this.disabled||!this.selected)return;const e=this.element.getBoundingClientRect();t.clientX>=e.left&&t.clientX<=e.right&&t.clientY>=e.top&&t.clientY<=e.bottom||(this.selected=!1,this.$emit("dragleave",t))},onDragOver(t){this.disabled||(t.preventDefault(),this.selected=!0,this.$emit("dragover",t))},onDrop(t){this.disabled||(this.selected=!1,this.$emit("drop",t))},installHandlers(){const t=this.element;t&&(console.debug("Installing drop handlers on",this.element),t.dataset&&(t.dataset.droppable=!0),t.addEventListener&&Object.entries(this.eventsHandlers).forEach((([e,i])=>{t.addEventListener(e,i)})))},uninstallHandlers(){const t=this.element;t&&(console.debug("Uninstalling drop handlers from",this.element),t.dataset?.droppable&&delete t.dataset.droppable,t.removeEventListener&&Object.entries(this.eventsHandlers).forEach((([e,i])=>{t.removeEventListener(e,i)})))}},watch:{active(){this.active?this.element?.classList.add("active"):this.element?.classList.remove("active")},disabled:{handler(){this.disabled?this.element?.classList.add("disabled"):this.element?.classList.remove("disabled")}},element:{handler(){this.uninstallHandlers(),this.installHandlers()}},selected:{handler(t,e){t&&!e?this.element?.classList.add("selected"):!t&&e&&this.element?.classList.remove("selected")}}},mounted(){this.$nextTick((()=>{this.installHandlers()}))},unmounted(){this.uninstallHandlers()}},o=i(6262);const r=(0,o.A)(a,[["render",n]]);var d=r},7711:function(t,e,i){i.d(e,{A:function(){return Xe}});var s=i(641),l=i(33);const n=t=>((0,s.Qi)("data-v-3f7da956"),t=t(),(0,s.jt)(),t),a={class:"media-info"},o={class:"row header"},r={class:"item-container"},d={key:1,class:"row direct-url"},c=n((()=>(0,s.Lk)("div",{class:"left side"},"Direct URL",-1))),u={class:"right side"},m=["href"],h=n((()=>(0,s.Lk)("i",{class:"fas fa-external-link-alt"},null,-1))),p=[h],v=n((()=>(0,s.Lk)("i",{class:"fas fa-clipboard"},null,-1))),g=[v],f={key:2,class:"row duration"},y=n((()=>(0,s.Lk)("div",{class:"left side"},"Duration",-1))),k=["textContent"],C={key:3,class:"row duration"},w=n((()=>(0,s.Lk)("div",{class:"left side"},"Items",-1))),b=["textContent"],L={key:4,class:"row direct-url"},I=n((()=>(0,s.Lk)("div",{class:"left side"},"ImDB URL",-1))),x={class:"right side"},_=["href"],E=n((()=>(0,s.Lk)("i",{class:"fas fa-external-link-alt"},null,-1))),D=[E],S=n((()=>(0,s.Lk)("i",{class:"fas fa-clipboard"},null,-1))),X=[S],Q={key:5,class:"row"},$=n((()=>(0,s.Lk)("div",{class:"left side"},"Artist",-1))),T=["textContent"],A={key:6,class:"row"},O=n((()=>(0,s.Lk)("div",{class:"left side"},"Album",-1))),R=["textContent"],M={key:7,class:"row"},V=n((()=>(0,s.Lk)("div",{class:"left side"},"TV Series",-1))),H=["textContent"],P={key:8,class:"row"},j=n((()=>(0,s.Lk)("div",{class:"left side"},"Season",-1))),U=["textContent"],B={key:9,class:"row"},W=n((()=>(0,s.Lk)("div",{class:"left side"},"Episode",-1))),N=["textContent"],F={key:10,class:"row"},Y=n((()=>(0,s.Lk)("div",{class:"left side"},"Number of seasons",-1))),z=["textContent"],q={key:11,class:"row"},J=n((()=>(0,s.Lk)("div",{class:"left side"},"Description",-1))),K=["textContent"],G={key:12,class:"row"},Z=n((()=>(0,s.Lk)("div",{class:"left side"},"Summary",-1))),tt=["textContent"],et={key:13,class:"row"},it=n((()=>(0,s.Lk)("div",{class:"left side"},"Overview",-1))),st=["textContent"],lt={key:14,class:"row"},nt=n((()=>(0,s.Lk)("div",{class:"left side"},"Country",-1))),at=["textContent"],ot={key:15,class:"row"},rt=n((()=>(0,s.Lk)("div",{class:"left side"},"Network",-1))),dt=["textContent"],ct={key:16,class:"row"},ut=n((()=>(0,s.Lk)("div",{class:"left side"},"Status",-1))),mt=["textContent"],ht={key:17,class:"row"},pt=n((()=>(0,s.Lk)("div",{class:"left side"},"Resolution",-1))),vt={class:"right side"},gt={key:18,class:"row"},ft=n((()=>(0,s.Lk)("div",{class:"left side"},"Views",-1))),yt={class:"right side"},kt={key:19,class:"row"},Ct=n((()=>(0,s.Lk)("div",{class:"left side"},"Rating",-1))),wt={class:"right side"},bt={key:20,class:"row"},Lt=n((()=>(0,s.Lk)("div",{class:"left side"},"Critic Rating",-1))),It={class:"right side"},xt={key:21,class:"row"},_t=n((()=>(0,s.Lk)("div",{class:"left side"},"Community Rating",-1))),Et={class:"right side"},Dt={key:22,class:"row"},St=n((()=>(0,s.Lk)("div",{class:"left side"},"Votes",-1))),Xt=["textContent"],Qt={key:23,class:"row"},$t=n((()=>(0,s.Lk)("div",{class:"left side"},"Genres",-1))),Tt=["textContent"],At={key:24,class:"row"},Ot=n((()=>(0,s.Lk)("div",{class:"left side"},"Channel",-1))),Rt={class:"right side"},Mt=["href","textContent"],Vt={key:25,class:"row"},Ht=n((()=>(0,s.Lk)("div",{class:"left side"},"Year",-1))),Pt=["textContent"],jt={key:26,class:"row"},Ut=n((()=>(0,s.Lk)("div",{class:"left side"},"Published at",-1))),Bt=["textContent"],Wt={key:27,class:"row"},Nt=n((()=>(0,s.Lk)("div",{class:"left side"},"File",-1))),Ft=["textContent"],Yt={key:28,class:"row"},zt=n((()=>(0,s.Lk)("div",{class:"left side"},"Track",-1))),qt=["textContent"],Jt={key:29,class:"row"},Kt=n((()=>(0,s.Lk)("div",{class:"left side"},"Trailer",-1))),Gt={class:"right side url"},Zt=["href","textContent"],te={key:30,class:"row"},ee=n((()=>(0,s.Lk)("div",{class:"left side"},"Size",-1))),ie=["textContent"],se={key:31,class:"row"},le=n((()=>(0,s.Lk)("div",{class:"left side"},"Quality",-1))),ne=["textContent"],ae={key:32,class:"row"},oe=n((()=>(0,s.Lk)("div",{class:"left side"},"Seeds",-1))),re=["textContent"],de={key:33,class:"row"},ce=n((()=>(0,s.Lk)("div",{class:"left side"},"Peers",-1))),ue=["textContent"],me={key:34,class:"row"},he=n((()=>(0,s.Lk)("div",{class:"left side"},"Tags",-1))),pe=["textContent"],ve={key:35,class:"row"},ge=n((()=>(0,s.Lk)("div",{class:"left side"},"Language",-1))),fe=["textContent"],ye={key:36,class:"row"},ke=n((()=>(0,s.Lk)("div",{class:"left side"},"Audio Channels",-1))),Ce=["textContent"];function we(t,e,i,n,h,v){const E=(0,s.g2)("Loading"),S=(0,s.g2)("Item");return(0,s.uX)(),(0,s.CE)("div",a,[h.loading?((0,s.uX)(),(0,s.Wv)(E,{key:0})):(0,s.Q3)("",!0),(0,s.Lk)("div",o,[(0,s.Lk)("div",r,[(0,s.bF)(S,{item:i.item,onAddToPlaylist:e[0]||(e[0]=e=>t.$emit("add-to-playlist",i.item)),onOpenChannel:e[1]||(e[1]=e=>t.$emit("open-channel",i.item)),onPlay:e[2]||(e[2]=e=>t.$emit("play",i.item)),onPlayWithOpts:e[3]||(e[3]=e=>t.$emit("play-with-opts",e)),onDownload:e[4]||(e[4]=e=>t.$emit("download",i.item)),onDownloadAudio:e[5]||(e[5]=e=>t.$emit("download-audio",i.item))},null,8,["item"])])]),v.mainUrl?((0,s.uX)(),(0,s.CE)("div",d,[c,(0,s.Lk)("div",u,[(0,s.Lk)("a",{href:v.mainUrl,title:"Direct URL",target:"_blank"},p,8,m),(0,s.Lk)("button",{onClick:e[6]||(e[6]=e=>t.copyToClipboard(v.mainUrl)),title:"Copy URL to clipboard"},g)])])):(0,s.Q3)("",!0),v.computedItem?.duration?((0,s.uX)(),(0,s.CE)("div",f,[y,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(t.formatDuration(v.computedItem.duration,!0))},null,8,k)])):(0,s.Q3)("",!0),null!=v.computedItem?.n_items?((0,s.uX)(),(0,s.CE)("div",C,[w,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.n_items)},null,8,b)])):(0,s.Q3)("",!0),v.computedItem?.imdb_url?((0,s.uX)(),(0,s.CE)("div",L,[I,(0,s.Lk)("div",x,[(0,s.Lk)("a",{href:v.computedItem.imdb_url,title:"ImDB URL",target:"_blank"},D,8,_),(0,s.Lk)("button",{onClick:e[7]||(e[7]=e=>t.copyToClipboard(v.computedItem.imdb_url)),title:"Copy URL to clipboard"},X)])])):(0,s.Q3)("",!0),v.computedItem?.artist?.name?((0,s.uX)(),(0,s.CE)("div",Q,[$,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.artist.name)},null,8,T)])):(0,s.Q3)("",!0),v.computedItem?.album?.name?((0,s.uX)(),(0,s.CE)("div",A,[O,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.album.name)},null,8,R)])):(0,s.Q3)("",!0),v.computedItem?.series?((0,s.uX)(),(0,s.CE)("div",M,[V,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.series)},null,8,H)])):(0,s.Q3)("",!0),v.computedItem?.season?((0,s.uX)(),(0,s.CE)("div",P,[j,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.season)},null,8,U)])):(0,s.Q3)("",!0),v.computedItem?.episode?((0,s.uX)(),(0,s.CE)("div",B,[W,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.episode)},null,8,N)])):(0,s.Q3)("",!0),v.computedItem?.num_seasons?((0,s.uX)(),(0,s.CE)("div",F,[Y,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.num_seasons)},null,8,z)])):(0,s.Q3)("",!0),v.computedItem?.description?((0,s.uX)(),(0,s.CE)("div",q,[J,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.description)},null,8,K)])):(0,s.Q3)("",!0),v.computedItem?.summary?((0,s.uX)(),(0,s.CE)("div",G,[Z,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.summary)},null,8,tt)])):(0,s.Q3)("",!0),v.computedItem?.overview?((0,s.uX)(),(0,s.CE)("div",et,[it,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.overview)},null,8,st)])):(0,s.Q3)("",!0),v.computedItem?.country?((0,s.uX)(),(0,s.CE)("div",lt,[nt,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.country)},null,8,at)])):(0,s.Q3)("",!0),v.computedItem?.network?((0,s.uX)(),(0,s.CE)("div",ot,[rt,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.network)},null,8,dt)])):(0,s.Q3)("",!0),v.computedItem?.status?((0,s.uX)(),(0,s.CE)("div",ct,[ut,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.status)},null,8,mt)])):(0,s.Q3)("",!0),v.computedItem?.width&&v.computedItem?.height?((0,s.uX)(),(0,s.CE)("div",ht,[pt,(0,s.Lk)("div",vt,(0,l.v_)(v.computedItem.width)+"x"+(0,l.v_)(v.computedItem.height),1)])):(0,s.Q3)("",!0),null!=v.computedItem?.view_count?((0,s.uX)(),(0,s.CE)("div",gt,[ft,(0,s.Lk)("div",yt,(0,l.v_)(t.formatNumber(v.computedItem.view_count)),1)])):(0,s.Q3)("",!0),v.computedItem?.rating?((0,s.uX)(),(0,s.CE)("div",kt,[Ct,(0,s.Lk)("div",wt,(0,l.v_)(Math.round(v.computedItem.rating))+"%",1)])):(0,s.Q3)("",!0),v.computedItem?.critic_rating?((0,s.uX)(),(0,s.CE)("div",bt,[Lt,(0,s.Lk)("div",It,(0,l.v_)(Math.round(v.computedItem.critic_rating))+"%",1)])):(0,s.Q3)("",!0),v.computedItem?.community_rating?((0,s.uX)(),(0,s.CE)("div",xt,[_t,(0,s.Lk)("div",Et,(0,l.v_)(Math.round(v.computedItem.community_rating))+"%",1)])):(0,s.Q3)("",!0),v.computedItem?.votes?((0,s.uX)(),(0,s.CE)("div",Dt,[St,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.votes)},null,8,Xt)])):(0,s.Q3)("",!0),v.computedItem?.genres?.length?((0,s.uX)(),(0,s.CE)("div",Qt,[$t,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.genres.join(", "))},null,8,Tt)])):(0,s.Q3)("",!0),v.channel?((0,s.uX)(),(0,s.CE)("div",At,[Ot,(0,s.Lk)("div",Rt,[(0,s.Lk)("a",{href:v.channel.url,target:"_blank",textContent:(0,l.v_)(v.channel.title||v.channel.url)},null,8,Mt)])])):(0,s.Q3)("",!0),v.computedItem?.year?((0,s.uX)(),(0,s.CE)("div",Vt,[Ht,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.year)},null,8,Pt)])):(0,s.Q3)("",!0),v.publishedDate?((0,s.uX)(),(0,s.CE)("div",jt,[Ut,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.publishedDate)},null,8,Bt)])):(0,s.Q3)("",!0),v.computedItem?.file?((0,s.uX)(),(0,s.CE)("div",Wt,[Nt,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.file)},null,8,Ft)])):(0,s.Q3)("",!0),null!=v.computedItem?.track_number?((0,s.uX)(),(0,s.CE)("div",Yt,[zt,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.track_number)},null,8,qt)])):(0,s.Q3)("",!0),v.computedItem?.trailer?((0,s.uX)(),(0,s.CE)("div",Jt,[Kt,(0,s.Lk)("div",Gt,[(0,s.Lk)("a",{href:v.computedItem.trailer,target:"_blank",textContent:(0,l.v_)(v.computedItem.trailer)},null,8,Zt)])])):(0,s.Q3)("",!0),v.computedItem?.size?((0,s.uX)(),(0,s.CE)("div",te,[ee,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(t.convertSize(v.computedItem.size))},null,8,ie)])):(0,s.Q3)("",!0),v.computedItem?.quality?((0,s.uX)(),(0,s.CE)("div",se,[le,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.quality)},null,8,ne)])):(0,s.Q3)("",!0),v.computedItem?.seeds?((0,s.uX)(),(0,s.CE)("div",ae,[oe,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.seeds)},null,8,re)])):(0,s.Q3)("",!0),v.computedItem?.peers?((0,s.uX)(),(0,s.CE)("div",de,[ce,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.peers)},null,8,ue)])):(0,s.Q3)("",!0),v.computedItem?.tags?.length?((0,s.uX)(),(0,s.CE)("div",me,[he,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.tags.join(", "))},null,8,pe)])):(0,s.Q3)("",!0),v.computedItem?.language?((0,s.uX)(),(0,s.CE)("div",ve,[ge,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.language)},null,8,fe)])):(0,s.Q3)("",!0),v.computedItem?.audio_channels?((0,s.uX)(),(0,s.CE)("div",ye,[ke,(0,s.Lk)("div",{class:"right side",textContent:(0,l.v_)(v.computedItem.audio_channels)},null,8,Ce)])):(0,s.Q3)("",!0)])}var be=i(9115),Le=i(6382),Ie=i(9828),xe=i(226),_e=i(2002),Ee={name:"Info",components:{Item:Le.A,Loading:Ie.A},mixins:[_e.A,xe.A],emits:["add-to-playlist","download","download-audio","open-channel","play","play-with-opts"],props:{item:{type:Object,default:()=>{}},pluginName:{type:String}},data(){return{typeIcons:be,loading:!1,loadingUrl:!1,youtubeUrl:null,metadata:null}},computed:{channel(){let t=null;return this.item?.channelId?t={url:`https://www.youtube.com/channel/${this.item.channelId}`}:this.item?.channel_url&&(t={url:this.item.channel_url}),t?(this.item?.channelTitle?t.title=this.item.channelTitle:this.item?.channel&&(t.title=this.item.channel),t):null},computedItem(){return{...this.item||{},...this.metadata||{}}},publishedDate(){return this.item?.publishedAt?this.formatDate(this.item.publishedAt,!0):this.item?.created_at?this.formatDate(this.item.created_at,!0):this.item?.timestamp?this.formatDate(this.item.timestamp,!0):null},directUrl(){if("file"===this.item?.type&&this.item?.url){const t=this.item.url.replace(/^file:\/\//,"");return window.location.origin+"/file?path="+encodeURIComponent(t)}return null},mainUrl(){const t=this.directUrl;return t||this.item?.url}},methods:{async updateMetadata(){this.loading=!0;try{"jellyfin"===this.item?.type&&this.item?.id&&(this.metadata=await this.request("media.jellyfin.info",{item_id:this.item.id}))}finally{this.loading=!1}}},watch:{item:{handler(){this.updateMetadata()},deep:!0}},mounted(){this.updateMetadata()}},De=i(6262);const Se=(0,De.A)(Ee,[["render",we],["__scopeId","data-v-3f7da956"]]);var Xe=Se},6382:function(t,e,i){i.d(e,{A:function(){return U}});var s=i(641),l=i(33),n=i(3751);const a=t=>((0,s.Qi)("data-v-f028cbc6"),t=t(),(0,s.jt)(),t),o={key:0,class:"thumbnail"},r={class:"body"},d={class:"row title"},c={key:0,class:"track-number"},u={key:1,class:"track-number"},m={class:"artist-and-title"},h={key:0,class:"artist"},p={class:"title"},v={key:0,class:"duration"},g=["textContent"],f={class:"actions"},y={key:0,class:"row subtitle"},k=["src"],C=["textContent"],w={key:1,class:"row creation-date"},b=["textContent"],L={key:3,class:"row ratings"},I={key:0,class:"rating",title:"Critic rating"},x=a((()=>(0,s.Lk)("i",{class:"fa fa-star"},null,-1))),_=["textContent"],E={key:1,class:"rating",title:"Community rating"},D=a((()=>(0,s.Lk)("i",{class:"fa fa-users"},null,-1))),S=["textContent"],X={key:1,class:"photo-container"},Q=["src"];function $(t,e,i,a,$,T){const A=(0,s.g2)("MediaImage"),O=(0,s.g2)("DropdownItem"),R=(0,s.g2)("Dropdown"),M=(0,s.g2)("Modal");return i.hidden?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",{key:0,ref:"item",class:(0,l.C4)(["item media-item",{selected:i.selected,list:i.listView}]),onContextmenu:e[5]||(e[5]=(0,n.D$)(((...t)=>T.onContextClick&&T.onContextClick(...t)),["right"]))},[i.listView?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",o,[(0,s.bF)(A,{item:i.item,onPlay:e[0]||(e[0]=e=>t.$emit("play")),onSelect:T.onMediaSelect},null,8,["item","onSelect"])])),(0,s.Lk)("div",r,[(0,s.Lk)("div",d,[(0,s.Lk)("div",{class:(0,l.C4)(["left side",{"col-11":!i.listView,"col-10":i.listView}]),onClick:e[1]||(e[1]=(0,n.D$)((e=>t.$emit("select")),["stop"]))},[T.playlistView?((0,s.uX)(),(0,s.CE)("span",c,(0,l.v_)(i.index+1),1)):i.listView&&i.item.track_number?((0,s.uX)(),(0,s.CE)("span",u,(0,l.v_)(i.item.track_number),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",m,[T.playlistView&&i.item.artist?((0,s.uX)(),(0,s.CE)("span",h,(0,l.v_)(i.item.artist.name??i.item.artist),1)):(0,s.Q3)("",!0),(0,s.Lk)("span",p,(0,l.v_)(i.item.title||i.item.name),1)])],2),(0,s.Lk)("div",{class:(0,l.C4)(["right side",{"col-1":!i.listView,"col-2":i.listView}])},[i.item.duration&&i.listView?((0,s.uX)(),(0,s.CE)("span",v,[(0,s.Lk)("span",{textContent:(0,l.v_)(t.formatDuration(i.item.duration,!0))},null,8,g)])):(0,s.Q3)("",!0),(0,s.Lk)("span",f,[(0,s.bF)(R,{title:"Actions","icon-class":"fa fa-ellipsis-h",ref:"dropdown"},{default:(0,s.k6)((()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(T.actions,(t=>((0,s.uX)(),(0,s.Wv)(O,{key:t.text,"icon-class":t.iconClass,text:t.text,onInput:t.action},null,8,["icon-class","text","onInput"])))),128))])),_:1},512)])],2)]),i.item.channel?((0,s.uX)(),(0,s.CE)("div",y,[(0,s.Lk)("a",{class:"channel",href:"#",target:"_blank",onClick:e[2]||(e[2]=(0,n.D$)((e=>t.$emit("open-channel")),["prevent"]))},[i.item.channel_image?((0,s.uX)(),(0,s.CE)("img",{key:0,src:i.item.channel_image,class:"channel-image"},null,8,k)):(0,s.Q3)("",!0),(0,s.Lk)("span",{class:"channel-name",textContent:(0,l.v_)(i.item.channel)},null,8,C)])])):(0,s.Q3)("",!0),i.item.created_at&&i.showDate?((0,s.uX)(),(0,s.CE)("div",w,(0,l.v_)(t.formatDateTime(i.item.created_at,!0)),1)):i.item.year&&i.showDate?((0,s.uX)(),(0,s.CE)("div",{key:2,class:"row creation-date",textContent:(0,l.v_)(i.item.year)},null,8,b)):(0,s.Q3)("",!0),null!=i.item.critic_rating||null!=i.item.community_rating?((0,s.uX)(),(0,s.CE)("div",L,[null!=i.item.critic_rating?((0,s.uX)(),(0,s.CE)("span",I,[x,(0,s.eW)("  "),(0,s.Lk)("span",{textContent:(0,l.v_)(Math.round(i.item.critic_rating))},null,8,_),(0,s.eW)("% ")])):(0,s.Q3)("",!0),null!=i.item.community_rating?((0,s.uX)(),(0,s.CE)("span",E,[D,(0,s.eW)("  "),(0,s.Lk)("span",{textContent:(0,l.v_)(Math.round(i.item.community_rating))},null,8,S),(0,s.eW)("% ")])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)]),"photo"===i.item.item_type&&$.showPhoto?((0,s.uX)(),(0,s.CE)("div",X,[(0,s.bF)(M,{title:i.item.title||i.item.name,visible:!0,onClose:e[4]||(e[4]=t=>$.showPhoto=!1)},{default:(0,s.k6)((()=>[(0,s.Lk)("img",{src:i.item.url,ref:"image",onLoad:e[3]||(e[3]=(...t)=>T.onImgLoad&&T.onImgLoad(...t))},null,40,Q)])),_:1},8,["title"])])):(0,s.Q3)("",!0)],34))}i(4114);var T=i(9265),A=i(9612),O=i(9115),R=i(12),M=i(9513),V=i(2002),H={mixins:[V.A],components:{Dropdown:T.A,DropdownItem:A.A,MediaImage:R.A,Modal:M.A},emits:["add-to-playlist","download","download-audio","open-channel","play","play-with-opts","remove-from-playlist","select","view"],props:{item:{type:Object,required:!0},hidden:{type:Boolean,default:!1},index:{type:Number},listView:{type:Boolean,default:!1},playlist:{type:[Object,String]},selected:{type:Boolean,default:!1},showDate:{type:Boolean,default:!0}},computed:{actions(){const t=[];return["book","photo","torrent"].includes(this.item.item_type)||t.push({iconClass:"fa fa-play",text:"Play",action:()=>this.$emit("play")}),"youtube"===this.item.type&&t.push({iconClass:"fa fa-play",text:"Play (With Cache)",action:()=>this.$emit("play-with-opts",{item:this.item,opts:{cache:!0}})}),"photo"===this.item.item_type&&t.push({iconClass:"fa fa-eye",text:"View",action:()=>this.showPhoto=!0}),["file","jellyfin","youtube"].includes(this.item.type)&&t.push({iconClass:"fa fa-window-maximize",text:"View in Browser",action:()=>this.$emit("view")}),["torrent","youtube","jellyfin"].includes(this.item.type)&&"channel"!==this.item.item_type&&"playlist"!==this.item.item_type&&t.push({iconClass:"fa fa-download",text:"Download",action:()=>this.$emit("download")}),"youtube"===this.item.type&&"channel"!==this.item.item_type&&"playlist"!==this.item.item_type&&t.push({iconClass:"fa fa-volume-high",text:"Download Audio",action:()=>this.$emit("download-audio")}),["jellyfin","youtube"].includes(this.item.type)&&t.push({iconClass:"fa fa-list",text:"Add to Playlist",action:()=>this.$emit("add-to-playlist")}),["jellyfin","youtube"].includes(this.item.type)&&this.playlist&&t.push({iconClass:"fa fa-trash",text:"Remove from Playlist",action:()=>this.$emit("remove-from-playlist")}),t.push({iconClass:"fa fa-info-circle",text:"Info",action:()=>this.$emit("select")}),t},playlistView(){return this.playlist&&this.listView}},methods:{onContextClick(t){"photo"!==this.item?.item_type&&(t.preventDefault(),this.$refs.dropdown.toggle())},onImgLoad(){const t=this.$refs.image.naturalWidth,e=this.$refs.image.naturalHeight;t>e?this.$refs.image.classList.add("horizontal"):this.$refs.image.classList.add("vertical")},onMediaSelect(){"photo"===this.item?.item_type?this.showPhoto=!0:this.$emit("select")}},data(){return{showPhoto:!1,typeIcons:O}}},P=i(6262);const j=(0,P.A)(H,[["render",$],["__scopeId","data-v-f028cbc6"]]);var U=j},12:function(t,e,i){i.d(e,{A:function(){return x}});var s=i(641),l=i(33),n=i(3751);const a=t=>((0,s.Qi)("data-v-1bfd997f"),t=t(),(0,s.jt)(),t),o={key:2,class:"icon type-icon"},r=["href"],d=["title"],c=["src","alt"],u={key:4,class:"image"},m={class:"inner"},h={key:5,class:"icon imdb-link"},p=["href"],v=a((()=>(0,s.Lk)("i",{class:"fab fa-imdb"},null,-1))),g=[v],f=["textContent"],y={key:7,class:"bottom-overlay videos"};function k(t,e,i,a,v,k){return(0,s.uX)(),(0,s.CE)("div",{class:(0,l.C4)(["image-container",k.containerClasses])},[i.hasPlay||["book","photo"].includes(i.item?.item_type)?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"play-overlay",onClick:e[0]||(e[0]=(0,n.D$)(((...t)=>k.onItemClick&&k.onItemClick(...t)),["stop"]))},[(0,s.Lk)("i",{class:(0,l.C4)(k.overlayIconClass)},null,2)])):(0,s.Q3)("",!0),i.item?.image||i.item?.preview_url?((0,s.uX)(),(0,s.CE)("div",{key:1,class:"backdrop",style:(0,l.Tr)({backgroundImage:`url(${i.item.image||i.item.preview_url})`})},null,4)):(0,s.Q3)("",!0),v.typeIcons[i.item?.type]?((0,s.uX)(),(0,s.CE)("span",o,[i.item.url?((0,s.uX)(),(0,s.CE)("a",{key:0,href:i.item.url,target:"_blank"},[(0,s.Lk)("i",{class:(0,l.C4)(v.typeIcons[i.item.type]),title:i.item.type},"   ",10,d)],8,r)):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0),k.imgUrl?((0,s.uX)(),(0,s.CE)("img",{key:3,class:"image",src:k.imgUrl,alt:i.item.title},null,8,c)):((0,s.uX)(),(0,s.CE)("div",u,[(0,s.Lk)("div",m,[(0,s.Lk)("i",{class:(0,l.C4)(k.iconClass)},null,2)])])),i.item?.imdb_id?((0,s.uX)(),(0,s.CE)("span",h,[(0,s.Lk)("a",{href:`https://www.imdb.com/title/${i.item.imdb_id}`,target:"_blank"},g,8,p)])):(0,s.Q3)("",!0),null!=i.item?.duration?((0,s.uX)(),(0,s.CE)("span",{key:6,class:"bottom-overlay duration",textContent:(0,l.v_)(t.convertTime(i.item.duration))},null,8,f)):null!=i.item?.videos?((0,s.uX)(),(0,s.CE)("span",y,(0,l.v_)(i.item.videos)+" items ",1)):(0,s.Q3)("",!0)],2)}var C=i(9115),w=i(226),b={mixins:[C,w.A],emits:["play","select"],props:{item:{type:Object,default:()=>{}},hasPlay:{type:Boolean,default:!0}},data(){return{typeIcons:C}},computed:{clickEvent(){switch(this.item?.item_type){case"book":case"channel":case"playlist":case"folder":case"photo":return"select";default:return"play"}},containerClasses(){return{"with-image":!!this.item?.image,photo:"photo"===this.item?.item_type,book:"book"===this.item?.item_type}},iconClass(){switch(this.item?.item_type){case"book":return"fas fa-book";case"channel":return"fas fa-user";case"playlist":return"fas fa-list";case"folder":return"fas fa-folder";default:return"fas fa-play"}},imgUrl(){if("photo"===this.item?.item_type)return this.item?.preview_url||this.item?.url;let t=this.item?.image;return t||(t=this.item?.images?.[0]?.url),t},overlayIconClass(){return"channel"===this.item?.item_type||"playlist"===this.item?.item_type||"folder"===this.item?.item_type?"fas fa-folder-open":"photo"===this.item?.item_type?"fas fa-eye":"book"===this.item?.item_type?"fas fa-book-open":"fas fa-play"}},methods:{onItemClick(){this.$emit(this.clickEvent,this.item)}}},L=i(6262);const I=(0,L.A)(b,[["render",k],["__scopeId","data-v-1bfd997f"]]);var x=I},3149:function(t,e,i){i.d(e,{A:function(){return v}});var s=i(641),l=i(33);function n(t,e,i,n,a,o){const r=(0,s.g2)("Loading"),d=(0,s.g2)("Item"),c=(0,s.g2)("Draggable"),u=(0,s.g2)("Droppable"),m=(0,s.g2)("Info"),h=(0,s.g2)("Modal");return(0,s.uX)(),(0,s.CE)("div",{class:(0,l.C4)(["media-results",{list:i.listView}])},[i.loading?((0,s.uX)(),(0,s.Wv)(r,{key:0})):(0,s.Q3)("",!0),i.results?.length?((0,s.uX)(),(0,s.CE)("div",{key:1,class:"grid",ref:"grid",onScroll:e[3]||(e[3]=(...t)=>o.onScroll&&o.onScroll(...t))},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.visibleResults,((n,r)=>((0,s.uX)(),(0,s.CE)("div",{class:"item-container",key:r,ref_for:!0,ref:"item"},[o.playlistView&&null!=a.draggedIndex&&r>a.draggedIndex?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["droppable-container",{dragover:a.dragOverIndex===r}]),ref_for:!0,ref:"droppable-"+r},null,2)):(0,s.Q3)("",!0),(0,s.bF)(d,{item:n,index:r,"list-view":i.listView,playlist:i.playlist,selected:i.selectedResult===r,"show-date":i.showDate,onAddToPlaylist:e=>t.$emit("add-to-playlist",n),onOpenChannel:e=>t.$emit("open-channel",n),onRemoveFromPlaylist:e=>t.$emit("remove-from-playlist",n),onSelect:e=>t.$emit("select",r),onPlay:e=>t.$emit("play",n),onPlayWithOpts:e[0]||(e[0]=e=>t.$emit("play-with-opts",e)),onView:e=>t.$emit("view",n),onDownload:e=>t.$emit("download",n),onDownloadAudio:e=>t.$emit("download-audio",n),onVnodeMounted:t=>a.itemsRef[r]=t.el,onVnodeUnmounted:t=>delete a.itemsRef[r]},null,8,["item","index","list-view","playlist","selected","show-date","onAddToPlaylist","onOpenChannel","onRemoveFromPlaylist","onSelect","onPlay","onView","onDownload","onDownloadAudio","onVnodeMounted","onVnodeUnmounted"]),o.playlistView?((0,s.uX)(),(0,s.Wv)(c,{key:1,element:a.itemsRef[r],onDrag:t=>a.draggedIndex=r},null,8,["element","onDrag"])):(0,s.Q3)("",!0),(0,s.bF)(u,{element:a.itemsRef[r],onDragenter:t=>a.dragOverIndex=r,onDragleave:e[1]||(e[1]=t=>a.dragOverIndex=null),onDragover:t=>a.dragOverIndex=r,onDrop:t=>o.onMove(r)},null,8,["element","onDragenter","onDragover","onDrop"]),o.playlistView&&null!=a.draggedIndex&&r<a.draggedIndex?((0,s.uX)(),(0,s.CE)("div",{key:2,class:(0,l.C4)(["droppable-container",{dragover:a.dragOverIndex===r}]),ref_for:!0,ref:"droppable-"+r},null,2)):(0,s.Q3)("",!0),o.playlistView&&null!=a.draggedIndex&&r!==a.draggedIndex?((0,s.uX)(),(0,s.Wv)(u,{key:3,element:t.$refs["droppable-"+r]?.[0],onDragenter:t=>a.dragOverIndex=r,onDragleave:e[2]||(e[2]=t=>a.dragOverIndex=null),onDragover:t=>a.dragOverIndex=r,onDrop:t=>o.onMove(r)},null,8,["element","onDragenter","onDragover","onDrop"])):(0,s.Q3)("",!0)])))),128))],544)):(0,s.Q3)("",!0),(0,s.bF)(h,{ref:"infoModal",title:"Media info",onClose:e[10]||(e[10]=e=>t.$emit("select",null))},{default:(0,s.k6)((()=>[null!=i.selectedResult?((0,s.uX)(),(0,s.Wv)(m,{key:0,item:i.results[i.selectedResult],pluginName:i.pluginName,onAddToPlaylist:e[4]||(e[4]=e=>t.$emit("add-to-playlist",i.results[i.selectedResult])),onDownload:e[5]||(e[5]=e=>t.$emit("download",i.results[i.selectedResult])),onDownloadAudio:e[6]||(e[6]=e=>t.$emit("download-audio",i.results[i.selectedResult])),onOpenChannel:e[7]||(e[7]=e=>t.$emit("open-channel",i.results[i.selectedResult])),onPlay:e[8]||(e[8]=e=>t.$emit("play",i.results[i.selectedResult])),onPlayWithOpts:e[9]||(e[9]=e=>t.$emit("play-with-opts",{...e,item:i.results[i.selectedResult]}))},null,8,["item","pluginName"])):(0,s.Q3)("",!0)])),_:1},512)],2)}var a=i(8692),o=i(3118),r=i(7711),d=i(6382),c=i(9828),u=i(9513),m={components:{Draggable:a.A,Droppable:o.A,Info:r.A,Item:d.A,Loading:c.A,Modal:u.A},emits:["add-to-playlist","download","download-audio","move","open-channel","play","play-with-opts","remove-from-playlist","scroll-end","select","view"],props:{filter:{type:String,default:null},listView:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},playlist:{default:null},pluginName:{type:String},results:{type:Array,default:()=>[]},resultIndexStep:{type:Number,default:25},selectedResult:{type:Number},showDate:{type:Boolean,default:!0},sources:{type:Object,default:()=>{}}},data(){return{draggedIndex:null,dragOverIndex:null,itemsRef:{},maxResultIndex:this.resultIndexStep}},computed:{playlistView(){return null!=this.playlist&&this.listView},visibleResults(){let t=this.results.filter((t=>!this.filter?.length||(t.title||t.name).toLowerCase().includes(this.filter.toLowerCase())));return null!=this.maxResultIndex&&(t=t.slice(0,this.maxResultIndex)),t}},methods:{onMove(t){if(null==this.draggedIndex)return;const e=this.results[this.draggedIndex];this.$emit("move",{from:this.draggedIndex,to:t,item:e}),this.draggedIndex=null},onScroll(t){const e=t.target;if(!e)return;const i=e.scrollHeight-e.scrollTop<=e.clientHeight+150;i&&(this.$emit("scroll-end"),null!=this.resultIndexStep&&(this.maxResultIndex+=this.resultIndexStep))}},watch:{selectedResult(t){"playlist"!==t?.item_type&&"channel"!==t?.item_type?null==this.selectedResult?this.$refs.infoModal?.close():this.$refs.infoModal?.show():this.$emit("select",null)}}},h=i(6262);const p=(0,h.A)(m,[["render",n],["__scopeId","data-v-2e38f16e"]]);var v=p},9115:function(t){t.exports=JSON.parse('{"file":"fa fa-hdd","torrent":"fa fa-magnet","youtube":"fab fa-youtube","plex":"fa fa-plex","jellyfin":"fa fa-jellyfin"}')}}]);
//# sourceMappingURL=3149.38ed93f5.js.map