"use strict";(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[4267,28,2012,9064,2436,47],{226:function(t,e,n){n.d(e,{A:function(){return l}});n(4114);var o=n(2002),s={name:"Utils",mixins:[o.A],computed:{audioExtensions(){return new Set(["3gp","aa","aac","aax","act","aiff","amr","ape","au","awb","dct","dss","dvf","flac","gsm","iklax","ivs","m4a","m4b","m4p","mmf","mp3","mpc","msv","nmf","nsf","ogg,","opus","ra,","raw","sln","tta","vox","wav","wma","wv","webm","8svx"])},videoExtensions(){return new Set(["webm","mkv","flv","flv","vob","ogv","ogg","drc","gif","gifv","mng","avi","mts","m2ts","mov","qt","wmv","yuv","rm","rmvb","asf","amv","mp4","m4p","m4v","mpg","mp2","mpeg","mpe","mpv","mpg","mpeg","m2v","m4v","svi","3gp","3g2","mxf","roq","nsv","flv","f4v","f4p","f4a","f4b"])},mediaExtensions(){return new Set([...this.videoExtensions,...this.audioExtensions])}},methods:{convertTime(t){t=parseFloat(t);const e={};e.h=""+parseInt(t/3600),e.m=""+parseInt(t/60-60*e.h),e.s=""+parseInt(t-(3600*e.h+60*e.m));for(const o of["m","s"])parseInt(e[o])<10&&(e[o]="0"+e[o]);const n=[];return parseInt(e.h)&&n.push(e.h),n.push(e.m,e.s),n.join(":")},async startStreaming(t,e,n=!1){let o=t,s=null;t instanceof Object?(o=t.url,s=t.subtitles):t={url:o};const i=await this.request(`${e}.start_streaming`,{media:o,subtitles:s,download:n});return{...t,...i}},async stopStreaming(t,e){await this.request(`${e}.stop_streaming`,{media_id:t})}}};const i=s;var l=i},9265:function(t,e,n){n.d(e,{A:function(){return f}});var o=n(641),s=n(3751),i=n(33);const l={class:"dropdown-container"},a=["title"],r=["textContent"];function c(t,e,n,c,d,u){const p=(0,o.g2)("DropdownBody");return(0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("button",{title:n.title,ref:"button",onClick:e[0]||(e[0]=(0,s.D$)((t=>u.toggle(t)),["stop"]))},[n.iconClass?((0,o.uX)(),(0,o.CE)("i",{key:0,class:(0,i.C4)(["icon",n.iconClass])},null,2)):(0,o.Q3)("",!0),n.text?((0,o.uX)(),(0,o.CE)("span",{key:1,class:"text",textContent:(0,i.v_)(n.text)},null,8,r)):(0,o.Q3)("",!0)],8,a),(0,o.Lk)("div",{class:(0,i.C4)(["body-container",{hidden:!d.visible}]),ref:"dropdownContainer"},[(0,o.bF)(p,{id:n.id,keepOpenOnItemClick:n.keepOpenOnItemClick,style:(0,i.Tr)(n.style),ref:"dropdown",onClick:u.onClick},{default:(0,o.k6)((()=>[(0,o.RG)(t.$slots,"default",{},void 0,!0)])),_:3},8,["id","keepOpenOnItemClick","style","onClick"])],2)])}var d=n(4200),u=n(2537),p={components:{DropdownBody:d.A},emits:["click"],props:{id:{type:String},iconClass:{default:"fa fa-ellipsis-h"},text:{type:String},title:{type:String},keepOpenOnItemClick:{type:Boolean,default:!1},style:{type:Object,default:()=>({})}},data(){return{visible:!1}},computed:{button(){const t=this.$refs.button?.$el;return t?t.querySelector("button"):this.$refs.button},buttonStyle(){return this.button?getComputedStyle(this.button):{}},buttonWidth(){return parseFloat(this.buttonStyle.width||0)},buttonHeight(){return parseFloat(this.buttonStyle.height||0)}},methods:{documentClickHndl(t){if(!this.visible)return;let e=t.target;while(e){if(e.classList.contains("dropdown"))return;e=e.parentElement}this.close()},getDropdownWidth(){const t=this.$refs.dropdown?.$el;return t?parseFloat(getComputedStyle(t).width):0},getDropdownHeight(){const t=this.$refs.dropdown?.$el;return t?parseFloat(getComputedStyle(t).height):0},onClick(t){return this.keepOpenOnItemClick||this.close(),"A"===t.target.tagName?(t.preventDefault(),!1):t.defaultPrevented?(t.stopPropagation(),!1):void 0},close(){this.visible=!1,document.removeEventListener("click",this.documentClickHndl),u.j.emit("dropdown-close")},open(){document.addEventListener("click",this.documentClickHndl);const t=this.$refs.dropdown?.$el;t.parentElement||this.$el.appendChild(t),this.visible=!0,this.$nextTick(this.adjustDropdownPos)},adjustDropdownPos(){const t=this.button.getBoundingClientRect(),e={left:t.left+window.scrollX,top:t.top+window.scrollY},n={left:e.left,top:e.top+this.buttonHeight},o=this.getDropdownWidth(),s=this.getDropdownHeight();if(n.left+o>(window.innerWidth+window.scrollX)/2&&(n.left-=o-this.buttonWidth),n.top+s>(window.innerHeight+window.scrollY)/2){let t=n.top-(s+this.buttonHeight-10);t<0&&(t=0),n.top=t}const i=this.$refs.dropdown.$el;i.classList.add("fade-in"),i.style.top=`${n.top}px`,i.style.left=`${n.left}px`,u.j.emit("dropdown-open",this.$refs.dropdown)},toggle(t){t?.stopPropagation(),this.$emit("click",t),this.visible?this.close():this.open()},onKeyUp(t){t.stopPropagation(),"Escape"===t.key&&this.close()}},mounted(){document.body.addEventListener("keyup",this.onKeyUp)},unmounted(){document.body.removeEventListener("keyup",this.onKeyUp)}},m=n(6262);const h=(0,m.A)(p,[["render",c],["__scopeId","data-v-3f1ad726"]]);var f=h},4200:function(t,e,n){n.d(e,{A:function(){return d}});var o=n(641),s=n(33);const i=["id"];function l(t,e,n,l,a,r){return(0,o.uX)(),(0,o.CE)("div",{class:"dropdown",id:n.id,style:(0,s.Tr)(n.style),onClick:e[0]||(e[0]=e=>t.$emit("click",e))},[(0,o.RG)(t.$slots,"default",{},void 0,!0)],12,i)}var a={emits:["click"],props:{id:{type:String},keepOpenOnItemClick:{type:Boolean,default:!1},style:{type:Object,default:()=>({})}}},r=n(6262);const c=(0,r.A)(a,[["render",l],["__scopeId","data-v-24c5aa28"]]);var d=c},9612:function(t,e,n){n.d(e,{A:function(){return h}});var o=n(641),s=n(33);const i=["title"],l={key:0,class:"col-2 icon"},a=["textContent"];function r(t,e,n,r,c,d){const u=(0,o.g2)("Icon");return(0,o.uX)(),(0,o.CE)("div",{class:(0,s.C4)(["row item",{...d.itemClass_,disabled:n.disabled}]),title:n.hoverText,onClick:e[0]||(e[0]=(...t)=>d.clicked&&d.clicked(...t))},[n.iconClass?.length||n.iconUrl?.length?((0,o.uX)(),(0,o.CE)("div",l,[(0,o.bF)(u,{class:(0,s.C4)(n.iconClass),url:n.iconUrl},null,8,["class","url"])])):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:(0,s.C4)(["text",{"col-10":null!=n.iconClass}]),textContent:(0,s.v_)(n.text)},null,10,a)],10,i)}var c=n(3778),d=n(2537),u={components:{Icon:c.A},emits:["click","input"],props:{iconClass:{type:String},iconUrl:{type:String},text:{type:String},hoverText:{type:String,default:null},disabled:{type:Boolean,default:!1},itemClass:{}},computed:{itemClass_(){return"string"===typeof this.itemClass?{[this.itemClass]:!0}:this.itemClass}},methods:{clicked(t){if(this.$parent.keepOpenOnItemClick||d.j.emit("dropdown-close"),this.disabled)return t.stopPropagation(),t.preventDefault(),!1;this.$emit("input",t)}}},p=n(6262);const m=(0,p.A)(u,[["render",r],["__scopeId","data-v-2babe09c"]]);var h=m},7998:function(t,e,n){n.d(e,{A:function(){return u}});var o=n(641),s=n(33);const i=["disabled","title"];function l(t,e,n,l,a,r){const c=(0,o.g2)("Icon");return(0,o.uX)(),(0,o.CE)("div",{class:(0,s.C4)(["floating-btn",r.classes])},[(0,o.Lk)("button",{type:"button",class:(0,s.C4)(["btn btn-primary",n.glow?"with-glow":""]),disabled:n.disabled,title:n.title,onClick:e[0]||(e[0]=e=>t.$emit("click",e))},[(0,o.bF)(c,{class:(0,s.C4)(n.iconClass),url:n.iconUrl},null,8,["class","url"])],10,i)],2)}var a=n(3778),r={components:{Icon:a.A},emits:["click"],props:{disabled:{type:Boolean,default:!1},iconClass:{type:String},iconUrl:{type:String},class:{type:String},title:{type:String},left:{type:Boolean,default:!1},right:{type:Boolean,default:!0},top:{type:Boolean,default:!1},bottom:{type:Boolean,default:!0},glow:{type:Boolean,default:!1}},computed:{classes(){const t={};return this.left?t.left=!0:t.right=!0,this.top?t.top=!0:t.bottom=!0,this.class?.length&&(t[this.class]=!0),t}}},c=n(6262);const d=(0,c.A)(r,[["render",l],["__scopeId","data-v-544409fc"]]);var u=d},3778:function(t,e,n){n.d(e,{A:function(){return u}});var o=n(641),s=n(33);const i={class:"icon-container"},l=["src","alt"];function a(t,e,n,a,r,c){return(0,o.uX)(),(0,o.CE)("div",i,[n.url?.length?((0,o.uX)(),(0,o.CE)("img",{key:0,class:"icon",src:n.url,alt:n.alt},null,8,l)):c.className?.length?((0,o.uX)(),(0,o.CE)("i",{key:1,class:(0,s.C4)(["icon",c.className]),style:(0,s.Tr)({color:n.color})},null,6)):(0,o.Q3)("",!0)])}var r={props:{class:{type:String},url:{type:String},color:{type:String,default:""},alt:{type:String,default:""}},computed:{className(){return this.class}}},c=n(6262);const d=(0,c.A)(r,[["render",a],["__scopeId","data-v-706a3bd1"]]);var u=d},6561:function(t,e,n){n.d(e,{A:function(){return d}});var o=n(641),s=n(33);const i={class:"no-items-container"};function l(t,e,n,l,a,r){return(0,o.uX)(),(0,o.CE)("div",i,[(0,o.Lk)("div",{class:(0,s.C4)(["no-items fade-in",{shadow:n.withShadow}])},[(0,o.RG)(t.$slots,"default",{},void 0,!0)],2)])}var a={name:"NoItems",props:{withShadow:{type:Boolean,default:!0}}},r=n(6262);const c=(0,r.A)(a,[["render",l],["__scopeId","data-v-4856c4d7"]]);var d=c},2012:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var o=n(47),s={mixins:[o["default"]],emits:["add-to-playlist","back","download","play","play-with-opts","select","view"],props:{collection:{type:Object},path:{type:Array,default:()=>[]}},data(){return{items:[],loading_:!1,selectedResult:null,sort:{attr:"title",desc:!1}}},computed:{isLoading(){return this.loading_||this.loading},sortedItems(){return this.items?"playlist"===this.collection?.item_type?this.items:[...this.items].sort(((t,e)=>{const n=this.sort.attr,o=this.sort.desc;let s=t[n],i=e[n];return"number"===typeof s||"number"===typeof i?(s=s||0,i=i||0,o?i-s:s-i):(s=(s||"").toString().toLowerCase(),i=(i||"").toString().toLowerCase(),o?i.localeCompare(s):s.localeCompare(i))})).map((t=>({item_type:t.type,...t,type:"jellyfin"}))):[]}},methods:{async refresh(){const t=this.collection?.name;if(t?.length){this.loading_=!0;try{this.items=await this.request("media.jellyfin.search",{collection:t,limit:1e3})}finally{this.loading_=!1}}}},watch:{collection(){this.refresh()}}};const i=s;var l=i},9064:function(t,e,n){n.r(e),n.d(e,{default:function(){return S}});var o=n(641);const s={class:"sort-buttons"},i={class:"sort-buttons-dropdown-body"},l=(0,o.Lk)("div",{class:"title"},"Sort Direction",-1),a=(0,o.Lk)("div",{class:"title"},"Sort By",-1);function r(t,e,n,r,c,d){const u=(0,o.g2)("DropdownItem"),p=(0,o.g2)("Dropdown");return(0,o.uX)(),(0,o.CE)("div",s,[(0,o.bF)(p,{"icon-class":d.btnIconClass,glow:"",right:"",title:d.title},{default:(0,o.k6)((()=>[(0,o.Lk)("div",i,[l,(0,o.bF)(u,{text:"Ascending","icon-class":"fa fa-arrow-up-short-wide","item-class":{active:!n.value?.desc},onInput:e[0]||(e[0]=t=>d.onDescChange(!1))},null,8,["item-class"]),(0,o.bF)(u,{text:"Descending","icon-class":"fa fa-arrow-down-wide-short","item-class":{active:n.value?.desc},onInput:e[1]||(e[1]=t=>d.onDescChange(!0))},null,8,["item-class"]),a,(0,o.bF)(u,{text:"Name","icon-class":"fa fa-font","item-class":{active:"title"===n.value?.attr},onInput:e[2]||(e[2]=t=>d.onAttrChange("title"))},null,8,["item-class"]),n.withReleaseDate?((0,o.uX)(),(0,o.Wv)(u,{key:0,text:"Release Date","icon-class":"fa fa-calendar","item-class":{active:"year"===n.value?.attr},onInput:e[3]||(e[3]=t=>d.onAttrChange("year"))},null,8,["item-class"])):(0,o.Q3)("",!0),n.withCriticRating?((0,o.uX)(),(0,o.Wv)(u,{key:1,text:"Critics Rating","icon-class":"fa fa-star","item-class":{active:"critic_rating"===n.value?.attr},onInput:e[4]||(e[4]=t=>d.onAttrChange("critic_rating"))},null,8,["item-class"])):(0,o.Q3)("",!0),n.withCommunityRating?((0,o.uX)(),(0,o.Wv)(u,{key:2,text:"Community Rating","icon-class":"fa fa-users","item-class":{active:"community_rating"===n.value?.attr},onInput:e[5]||(e[5]=t=>d.onAttrChange("community_rating"))},null,8,["item-class"])):(0,o.Q3)("",!0)])])),_:1},8,["icon-class","title"])])}var c=n(3751),d=n(33);const u={class:"floating-dropdown-container"},p={class:"body-container hidden",ref:"dropdownContainer"};function m(t,e,n,s,i,l){const a=(0,o.g2)("FloatingButton"),r=(0,o.g2)("DropdownBody");return(0,o.uX)(),(0,o.CE)("div",u,[(0,o.bF)(a,{disabled:t.disabled,iconClass:t.iconClass,iconUrl:t.iconUrl,glow:t.glow,left:t.left,right:t.right,title:t.title,top:t.top,bottom:t.bottom,ref:"button",onClick:e[0]||(e[0]=(0,c.D$)((e=>t.toggle(e)),["stop"]))},null,8,["disabled","iconClass","iconUrl","glow","left","right","title","top","bottom"]),(0,o.Lk)("div",p,[(0,o.bF)(r,{id:t.id,keepOpenOnItemClick:t.keepOpenOnItemClick,style:(0,d.Tr)(t.style),ref:"dropdown",onClick:t.onClick},{default:(0,o.k6)((()=>[(0,o.RG)(t.$slots,"default",{},void 0,!0)])),_:3},8,["id","keepOpenOnItemClick","style","onClick"])],512)])}var h=n(9265),f=n(4200),v=n(7998),g={mixins:[h.A,v.A],emits:["click"],components:{DropdownBody:f.A,FloatingButton:v.A}},y=n(6262);const w=(0,y.A)(g,[["render",m],["__scopeId","data-v-2e3f2ab5"]]);var C=w,b=n(9612),k=n(2002),I={emits:["input"],mixins:[k.A],components:{Dropdown:C,DropdownItem:b.A},props:{value:{type:Object,required:!0},withReleaseDate:{type:Boolean,default:!1},withCriticRating:{type:Boolean,default:!1},withCommunityRating:{type:Boolean,default:!1}},computed:{btnIconClass(){return this.value?.desc?"fa fa-arrow-down-wide-short":"fa fa-arrow-up-short-wide"},title(){return"Sort By: "+(this.value?.attr??"[none]")+" "+(this.value?.desc?"descending":"ascending")}},methods:{onAttrChange(t){this.$emit("input",{attr:t,desc:!!this.value?.desc})},onDescChange(t){this.$emit("input",{attr:this.value?.attr,desc:t})}},watch:{value(){this.setUrlArgs({sort:this.value?.attr,desc:this.value?.desc})}},mounted(){const t=this.getUrlArgs(),e=t.sort,n="true"===t.desc?.toString();(e||n)&&this.$emit("input",{attr:e,desc:n})},unmounted(){this.setUrlArgs({sort:null,desc:null})}};const A=(0,y.A)(I,[["render",r]]);var S=A},2436:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var o=n(641);const s={class:"movies index"};function i(t,e,n,i,l,a){const r=(0,o.g2)("Loading"),c=(0,o.g2)("NoItems"),d=(0,o.g2)("Results"),u=(0,o.g2)("SortButton");return(0,o.uX)(),(0,o.CE)("div",s,[t.isLoading?((0,o.uX)(),(0,o.Wv)(r,{key:0})):0===a.movies.length?((0,o.uX)(),(0,o.Wv)(c,{key:1,"with-shadow":!1},{default:(0,o.k6)((()=>[(0,o.eW)(" No movies found. ")])),_:1})):((0,o.uX)(),(0,o.Wv)(d,{key:2,results:a.movies,sources:{jellyfin:!0},filter:t.filter,"selected-result":t.selectedResult,onAddToPlaylist:e[0]||(e[0]=e=>t.$emit("add-to-playlist",e)),onDownload:e[1]||(e[1]=e=>t.$emit("download",e)),onPlay:e[2]||(e[2]=e=>t.$emit("play",e)),onPlayWithOpts:e[3]||(e[3]=e=>t.$emit("play-with-opts",e)),onRemoveFromPlaylist:e[4]||(e[4]=e=>t.$emit("remove-from-playlist",e)),onSelect:e[5]||(e[5]=e=>t.selectedResult=e),onView:e[6]||(e[6]=e=>t.$emit("view",e))},null,8,["results","filter","selected-result"])),a.movies.length>0?((0,o.uX)(),(0,o.Wv)(u,{key:3,value:t.sort,"with-release-date":!0,"with-critic-rating":!0,"with-community-rating":!0,onInput:e[7]||(e[7]=e=>t.sort=e)},null,8,["value"])):(0,o.Q3)("",!0)])}var l=n(9828),a=n(2012),r=n(6561),c=n(3149),d=n(9064),u={mixins:[a["default"]],components:{Loading:l.A,NoItems:r.A,Results:c.A,SortButton:d["default"]},computed:{movies(){return this.sortedItems?.filter((t=>"movie"===t.item_type))??[]}},async mounted(){await this.refresh()}},p=n(6262);const m=(0,p.A)(u,[["render",i],["__scopeId","data-v-5adf10b7"]]);var h=m},47:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var o=n(2002),s={mixins:[o.A],emits:["add-to-playlist","back","create-playlist","download","download-audio","path-change","play","remove-from-playlist","remove-playlist","rename-playlist"],props:{filter:{type:String,default:""},loading:{type:Boolean,default:!1},mediaPlugin:{type:String},selectedPlaylist:{default:null},selectedChannel:{default:null}},data(){return{loading_:!1}},computed:{isLoading(){return this.loading||this.loading_}}};const i=s;var l=i}}]);
//# sourceMappingURL=4267.2fe44c46.js.map