"use strict";(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[2149],{2149:function(e,t,i){i.r(t),i.d(t,{default:function(){return w}});var l=i(6252);const o={class:"videos index"},s={key:1,class:"wrapper music-wrapper"},n={key:3,class:"wrapper items-wrapper"};function c(e,t,i,c,a,r){const d=(0,l.up)("Loading"),m=(0,l.up)("Music"),p=(0,l.up)("NoItems"),u=(0,l.up)("Collections"),h=(0,l.up)("Results");return(0,l.wg)(),(0,l.iD)("div",o,[e.isLoading?((0,l.wg)(),(0,l.j4)(d,{key:0})):"music"===e.collection?.collection_type?((0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(m,{collection:e.collection,filter:e.filter,loading:e.isLoading,path:e.path,onPlay:t[0]||(t[0]=t=>e.$emit("play",t)),onPlayWithOpts:t[1]||(t[1]=t=>e.$emit("play-with-opts",t)),onSelect:t[2]||(t[2]=t=>{e.selectedResult=t,e.$emit("select",t)}),onSelectCollection:r.selectCollection,onView:t[3]||(t[3]=t=>e.$emit("view",t))},null,8,["collection","filter","loading","path","onSelectCollection"])])):e.items?.length?((0,l.wg)(),(0,l.iD)("div",n,[r.collections.length>0?((0,l.wg)(),(0,l.j4)(u,{key:0,collection:e.collection,filter:e.filter,items:r.collections,loading:e.isLoading,"parent-id":e.collection?.id,onSelect:r.selectCollection},null,8,["collection","filter","items","loading","parent-id","onSelect"])):(0,l.kq)("",!0),r.mediaItems.length>0?((0,l.wg)(),(0,l.j4)(h,{key:1,results:r.mediaItems,sources:{jellyfin:!0},filter:e.filter,"selected-result":e.selectedResult,onAddToPlaylist:t[4]||(t[4]=t=>e.$emit("add-to-playlist",t)),onDownload:t[5]||(t[5]=t=>e.$emit("download",t)),onPlay:t[6]||(t[6]=t=>e.$emit("play",t)),onPlayWithOpts:t[7]||(t[7]=t=>e.$emit("play-with-opts",t)),onRemoveFromPlaylist:t[8]||(t[8]=t=>e.$emit("remove-from-playlist",t)),onSelect:t[9]||(t[9]=t=>e.selectedResult=t),onView:t[10]||(t[10]=t=>e.$emit("view",t))},null,8,["results","filter","selected-result"])):(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.j4)(p,{key:2,"with-shadow":!1},{default:(0,l.w5)((()=>[(0,l.Uk)(" No videos found. ")])),_:1}))])}var a=i(3524),r=i(6791),d=i(8113),m=i(4106),p=i(3222),u=i(5167),h={mixins:[d["default"]],emits:["select","select-collection"],components:{Collections:a["default"],Loading:r.Z,Music:m["default"],NoItems:p.Z,Results:u.Z},computed:{collections(){return this.sortedItems?.filter((e=>"collection"===e.item_type))??[]},mediaItems(){const e=this.sortedItems?.filter((e=>"collection"!==e.item_type))??[];return this.collection&&!this.collection.collection_type?e.sort(((e,t)=>{if(e.created_at&&t.created_at)return new Date(e.created_at)<new Date(t.created_at);if(e.created_at)return-1;if(t.created_at)return 1;let i=[e.name||e.title||"",t.name||t.title||""];return i[0].localeCompare(i[1])})):e}},methods:{selectCollection(e){this.$emit("select-collection",{type:"homevideos",...e})},async init(){const e=this.getUrlArgs();let t=e?.collection;if(t){this.loading_=!0;try{t=await this.request("media.jellyfin.info",{item_id:t}),t&&this.selectCollection(t)}finally{this.loading_=!1}}},async refresh(){if("music"!==this.collection?.collection_type){this.loading_=!0;try{"tvshows"===this.collection?.collection_type?this.items=(await this.request("media.jellyfin.get_collections",{parent_id:this.collection.id})).map((e=>({...e,item_type:"collection"}))):this.items=this.collection?.id?await this.request("media.jellyfin.get_items",{parent_id:this.collection.id,limit:25e3}):(await this.request("media.jellyfin.get_collections")).map((e=>({...e,item_type:"collection"})))}finally{this.loading_=!1}}}},async mounted(){this.init(),await this.refresh()}},y=i(3744);const f=(0,y.Z)(h,[["render",c],["__scopeId","data-v-1c02d534"]]);var w=f}}]);
//# sourceMappingURL=2149.b53b2f6b.js.map