(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[3407],{3543:function(e,s,a){"use strict";a.d(s,{A:function(){return T}});var n=a(641),t=a(33);const i=["textContent"],l=["title"],c={key:0,class:"plugins"},o={href:"/#"},r={key:0,class:"name"},d=["title","onClick"],f=["href"],u={class:"icon"},p=["src"],m={key:2,class:"fas fa-puzzle-piece"},g=["textContent"],h={key:1,class:"plugins"},C=["title","onClick"],k=["href"],x={class:"icon"},v=["textContent"],y={key:1,class:"expander"},I=["onClick"],P={class:"footer"},E={href:"/#extensions"},b={key:0,class:"name"},w={href:"/#settings"},L={key:0,class:"name"},X={href:"/logout"},M={key:0,class:"name"};function S(e,s,a,S,z,_){const $=(0,n.g2)("ExtensionIcon");return(0,n.uX)(),(0,n.CE)("nav",{class:(0,t.C4)({collapsed:z.collapsed})},[(0,n.Lk)("div",{class:"toggler",onClick:s[0]||(s[0]=e=>z.collapsed=!z.collapsed)},[s[5]||(s[5]=(0,n.Lk)("i",{class:"fas fa-bars"},null,-1)),a.hostname?((0,n.uX)(),(0,n.CE)("span",{key:0,class:"hostname",textContent:(0,t.v_)(a.hostname)},null,8,i)):(0,n.Q3)("",!0),(0,n.Lk)("i",{class:(0,t.C4)(["icon status fas fa-circle",{ok:z.connected,error:!z.connected}]),title:z.connected?"Connected":"Disconnected"},null,10,l)]),"settings"===a.selectedPanel?((0,n.uX)(),(0,n.CE)("ul",c,[(0,n.Lk)("li",{class:"entry",title:"Home",onClick:s[1]||(s[1]=e=>_.onItemClick("entities"))},[(0,n.Lk)("a",o,[s[6]||(s[6]=(0,n.Lk)("i",{class:"fas fa-home"},null,-1)),z.collapsed?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",r,"Home"))])]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(z.configSections,((s,i)=>((0,n.uX)(),(0,n.CE)("li",{key:i,class:(0,t.C4)(["entry",{selected:i===a.selectedConfigPanel}]),title:s.name,onClick:s=>e.$emit("select-config",i)},[(0,n.Lk)("a",{href:`/#settings?page=${i}`},[(0,n.Lk)("span",u,[s.icon?.["class"]?((0,n.uX)(),(0,n.CE)("i",{key:0,class:(0,t.C4)(s.icon["class"])},null,2)):s.icon?.imgUrl?((0,n.uX)(),(0,n.CE)("img",{key:1,src:s.icon?.imgUrl,alt:"name"},null,8,p)):((0,n.uX)(),(0,n.CE)("i",m))]),z.collapsed?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",{key:0,class:"name",textContent:(0,t.v_)(s.name)},null,8,g))],8,f)],10,d)))),128))])):((0,n.uX)(),(0,n.CE)("ul",h,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(_.panelNames,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e,class:(0,t.C4)(["entry",{selected:e===a.selectedPanel}]),title:e,onClick:s=>_.onItemClick(e)},[(0,n.Lk)("a",{href:`/#${e}`},[(0,n.Lk)("span",x,[_.specialPlugins.includes(e)?((0,n.uX)(),(0,n.CE)("i",{key:0,class:(0,t.C4)(z.icons[e].class)},null,2)):((0,n.uX)(),(0,n.Wv)($,{key:1,name:e,size:"1.5em"},null,8,["name"]))]),z.collapsed?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",{key:0,class:"name",textContent:(0,t.v_)(_.displayName(e))},null,8,v)),e!==a.selectedPanel||z.collapsed?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",y,[(0,n.Lk)("button",{title:"Expanded view",onClick:s=>_.openPluginView(e)},s[7]||(s[7]=[(0,n.Lk)("i",{class:"fas fa-up-right-from-square"},null,-1)]),8,I)]))],8,k)],10,C)))),128))])),(0,n.Lk)("ul",P,[(0,n.Lk)("li",{class:(0,t.C4)({selected:"extensions"===a.selectedPanel}),title:"Extensions",onClick:s[2]||(s[2]=e=>_.onItemClick("extensions"))},[(0,n.Lk)("a",E,[s[8]||(s[8]=(0,n.Lk)("span",{class:"icon"},[(0,n.Lk)("i",{class:"fa fa-puzzle-piece"})],-1)),z.collapsed?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",b,"Extensions"))])],2),(0,n.Lk)("li",{class:(0,t.C4)({selected:"settings"===a.selectedPanel}),title:"Settings",onClick:s[3]||(s[3]=e=>_.onItemClick("settings"))},[(0,n.Lk)("a",w,[s[9]||(s[9]=(0,n.Lk)("span",{class:"icon"},[(0,n.Lk)("i",{class:"fa fa-cog"})],-1)),z.collapsed?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",L,"Settings"))])],2),(0,n.Lk)("li",{title:"Logout",onClick:s[4]||(s[4]=e=>_.onItemClick("logout"))},[(0,n.Lk)("a",X,[s[10]||(s[10]=(0,n.Lk)("span",{class:"icon"},[(0,n.Lk)("i",{class:"fas fa-sign-out-alt"})],-1)),z.collapsed?(0,n.Q3)("",!0):((0,n.uX)(),(0,n.CE)("span",M,"Logout"))])])])],2)}var z=a(1921),_=a(2573),$=a(2002),A=JSON.parse('{"users":{"name":"Users","icon":{"class":"fas fa-user"}},"tokens":{"name":"Tokens","icon":{"class":"fas fa-key"}},"application":{"name":"Application","icon":{"class":"fas fa-gears"}}}'),U=a(2537),N={name:"Nav",emits:["select","select-config"],mixins:[$.A],components:{ExtensionIcon:_.A},props:{panels:{type:Object,required:!0},selectedPanel:{type:String},selectedConfigPanel:{type:String},hostname:{type:String}},computed:{specialPlugins(){return["execute","entities","file","application","procedures"]},panelNames(){const e=(e,a)=>{const n=s.indexOf(a);return n>=0&&(e=[a].concat(e.slice(0,n).concat(e.slice(n+1)))),e};let s=Object.keys(this.panels).sort();return s=e(s,"file"),s=e(s,"procedures"),s=e(s,"application"),s=e(s,"execute"),s=e(s,"entities"),s},collapsedDefault(){return!(!this.isMobile()&&!this.isTablet())}},methods:{onItemClick(e){this.$emit("select",e),this.collapsed=!!this.isMobile()||this.collapsedDefault},displayName(e){switch(e){case"application":return"Application";case"entities":return"Home";case"execute":return"Execute";case"file":return"Files";case"procedures":return"Procedures";default:return e}},setConnected(e){this.connected=e},openPluginView(e){window.open(`/plugin/${e}`,"_blank")}},data(){return{collapsed:!0,connected:!1,icons:z,host:null,configSections:A}},mounted(){this.collapsed=this.collapsedDefault,U.j.on("connect",(()=>this.setConnected(!0))),U.j.on("disconnect",(()=>this.setConnected(!1))),this.$watch((()=>this.$root.connected),(e=>this.setConnected(e))),this.setConnected(this.$root.connected)}},q=a(6262);const O=(0,q.A)(N,[["render",S],["__scopeId","data-v-a034800e"]]);var T=O},4230:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return v}});var n=a(641),t=a(33);const i={key:2,class:"canvas"},l={class:"panel"},c={key:3,class:"canvas"},o={class:"panel"},r={key:4,class:"canvas"};function d(e,s,a,d,f,u){const p=(0,n.g2)("Loading"),m=(0,n.g2)("Nav"),g=(0,n.g2)("Settings"),h=(0,n.g2)("Extensions");return(0,n.uX)(),(0,n.CE)("main",null,[f.loading?((0,n.uX)(),(0,n.Wv)(p,{key:0})):((0,n.uX)(),(0,n.Wv)(m,{key:1,panels:f.components,"selected-panel":f.selectedPanel,"selected-config-panel":f.selectedConfigPanel,hostname:f.hostname,onSelect:s[0]||(s[0]=e=>f.selectedPanel=e),onSelectConfig:s[1]||(s[1]=e=>f.selectedConfigPanel=e)},null,8,["panels","selected-panel","selected-config-panel","hostname"])),"settings"===f.selectedPanel?((0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("div",l,[(0,n.bF)(g,{"selected-panel":f.selectedConfigPanel,onChangePage:s[2]||(s[2]=e=>f.selectedConfigPanel=e)},null,8,["selected-panel"])])])):"extensions"===f.selectedPanel?((0,n.uX)(),(0,n.CE)("div",c,[(0,n.Lk)("div",o,[(0,n.bF)(h)])])):((0,n.uX)(),(0,n.CE)("div",r,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(f.components,((e,s)=>((0,n.uX)(),(0,n.CE)("div",{class:(0,t.C4)(["panel",{hidden:s!==f.selectedPanel}]),key:s},[s===f.selectedPanel?((0,n.uX)(),(0,n.Wv)((0,n.$y)(e.component),{key:0,config:e.config,"plugin-name":s},null,8,["config","plugin-name"])):(0,n.Q3)("",!0)],2)))),128))]))])}var f=a(953),u=a(2002),p=a(9828),m=a(3543),g=a(2720),h=a(3990),C={name:"Panel",mixins:[u.A],components:{Extensions:g["default"],Settings:h["default"],Nav:m.A,Loading:p.A},data(){return{loading:!1,plugins:{},backends:{},procedures:{},components:{},hostname:void 0,selectedPanel:void 0,selectedConfigPanel:"users"}},methods:{initSelectedPanel(){const e=this.$route.hash.match(/^#?([a-zA-Z0-9_.]+)(\?(.+?))?/),s=e?e[1]:"entities";s?.length&&(this.selectedPanel=s)},initPanels(){const e=this;this.components={},Object.entries(this.plugins).forEach((async([s,t])=>{const i=s.split(".").map((e=>e[0].toUpperCase()+e.slice(1))).join("");let l=null;try{l=await a(7672)(`./${i}/Index`)}catch(o){return}const c=(0,f.IJ)((0,n.$V)((async()=>l)));e.$options.components[s]=c,e.components[s]={component:c,pluginName:s,config:t}}))},async parseConfig(){[this.plugins,this.backends,this.procedures,this.hostname]=await Promise.all([this.request("config.get_plugins"),this.request("config.get_backends"),this.request("config.get_procedures"),this.request("config.get_device_id")]),this.initializeDefaultViews()},initializeDefaultViews(){this.plugins.entities={},this.plugins.execute={},this.plugins.application={},this.plugins.file=this.plugins.file||{}}},async mounted(){this.loading=!0;try{await this.parseConfig(),this.initPanels(),this.initSelectedPanel(),this.$watch("$route.hash",this.initSelectedPanel)}finally{this.loading=!1}}},k=a(6262);const x=(0,k.A)(C,[["render",d],["__scopeId","data-v-9e9d9986"]]);var v=x},7672:function(e,s,a){var n={"./Alarm/Index":[8597,9769,5184,1146,3841,1861,3173,9878,4280,1367,2561,2716,648,572,6027,5928,1233,7594,343,3045,6360],"./Application/Index":[3024,1146,1861,3173,9878,1367,2561,572,6592,3024],"./Camera/Index":[9284,8602,6903],"./CameraAndroidIpcam/Index":[2981,2981],"./CameraCv/Index":[2908,8602,2908],"./CameraFfmpeg/Index":[6973,8602,6973],"./CameraGstreamer/Index":[5783,8602,5783],"./CameraIrMlx90640/Index":[8636,8602,8636],"./CameraPi/Index":[3671,8602,3671],"./CameraPiLegacy/Index":[8357,8602,8357],"./Entities/Index":[1131,1146,3841,1861,5799,2486,343,1131,2256],"./Execute/Index":[8567,1146,9878,2561,5928,1381],"./Extensions/Index":[2720,1146,9878,2561,572,6027,6592,2720,2545],"./File/Index":[2061,1146,1861,3173,9878,1367,2716,648,1562],"./Light/Index":[8297,9769,5184,8297],"./LightHue/Index":[8652,9769,5184,8297,8652],"./Media/Index":[6864,5184,1146,1861,3173,9878,4280,1367,2716,648,6157,4787,3149,6777,6864],"./Media/Providers/Jellyfin/views/Media/Index":[6975,1146,3841,1861,3173,4280,2353,3149,1433,7619,7386],"./Media/Providers/Jellyfin/views/Movies/Index":[2436,1146,3841,1861,3173,4280,3149,1008,6556,4267],"./Media/Providers/Jellyfin/views/Music/Index":[1433,1146,3841,1861,3173,4280,2353,3149,1433,8370],"./Media/Providers/YouTube/Index":[9476,9476],"./MediaChromecast/Index":[1684,5184,1146,1861,3173,9878,4280,1367,2716,648,6157,4787,3149,6777,6864,1684],"./MediaGstreamer/Index":[9145,5184,1146,1861,3173,9878,4280,1367,2716,648,6157,4787,3149,6777,6864,9145],"./MediaMplayer/Index":[7839,5184,1146,1861,3173,9878,4280,1367,2716,648,6157,4787,3149,6777,6864,7839],"./MediaMpv/Index":[9388,5184,1146,1861,3173,9878,4280,1367,2716,648,6157,4787,3149,6777,6864,9388],"./MediaVlc/Index":[6372,5184,1146,1861,3173,9878,4280,1367,2716,648,6157,4787,3149,6777,6864,6372],"./Music/Index":[1995,5184,1146,1861,6157,4787,1995],"./MusicMopidy/Index":[7533,5184,1146,1861,6157,4787,1995,7533],"./MusicMpd/Index":[560,5184,1146,1861,6157,4787,1995,560],"./MusicSnapcast/Index":[6564,9769,5184,6564],"./MusicSpotify/Index":[7299,5184,1146,1861,6157,4787,1995,7299],"./Procedures/Index":[9636,1146,3841,3173,9878,4280,1367,2561,572,6027,5928,1233,6923,343,9636],"./Rtorrent/Index":[8499,1146,1861,6777,1671,8499],"./Settings/Index":[3990,9769,1146,3841,1861,3173,2561,806,3990],"./Settings/Tokens/Index":[806,1146,3841,1861,2561,806],"./Sound/Index":[7158,7158],"./Torrent/Index":[7098,1146,1861,6777,1671,7098],"./Tts/Index":[2392,8946,2392],"./TtsGoogle/Index":[1526,8946,1526],"./TtsPicovoice/Index":[8191,8946,8191],"./TvSamsungWs/Index":[4387,4387],"./ZigbeeMqtt/Index":[7630,9769,5184,1146,1861,7630],"./Zwave/Index":[9313,9769,5184,1146,1861,3290,9313],"./ZwaveMqtt/Index":[5145,9769,5184,1146,1861,3290,5145]};function t(e){if(!a.o(n,e))return Promise.resolve().then((function(){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}));var s=n[e],t=s[0];return Promise.all(s.slice(1).map(a.e)).then((function(){return a(t)}))}t.keys=function(){return Object.keys(n)},t.id=7672,e.exports=t},1921:function(e){"use strict";e.exports=JSON.parse('{"alarm":{"class":"fas fa-stopwatch"},"application":{"class":"fas fa-sliders"},"arduino":{"class":"fas fa-microchip"},"assistant.google":{"class":"fas fa-microphone-lines"},"assistant.openai":{"class":"fas fa-microphone-lines"},"assistant.picovoice":{"class":"fas fa-microphone-lines"},"bluetooth":{"class":"fab fa-bluetooth"},"camera.android.ipcam":{"class":"fab fa-android"},"camera.cv":{"class":"fas fa-camera"},"camera.ffmpeg":{"class":"fas fa-camera"},"camera.gstreamer":{"class":"fas fa-camera"},"camera.ir.mlx90640":{"class":"fas fa-sun"},"camera.pi":{"class":"fas fa-camera"},"camera.pi.legacy":{"class":"fas fa-camera"},"entities":{"class":"fa fa-home"},"execute":{"class":"fa fa-play"},"file":{"class":"fas fa-folder"},"extensions":{"class":"fas fa-puzzle-piece"},"light.hue":{"class":"fas fa-lightbulb"},"linode":{"class":"fas fa-cloud"},"media.chromecast":{"class":"fab fa-chromecast"},"media.jellyfin":{"imgUrl":"/icons/jellyfin.svg"},"media.kodi":{"imgUrl":"/icons/kodi.svg"},"media.mplayer":{"class":"fa fa-film"},"media.mpv":{"class":"fa fa-film"},"media.plex":{"imgUrl":"/icons/plex.svg"},"media.vlc":{"class":"fa fa-film"},"music.mpd":{"class":"fas fa-music"},"music.snapcast":{"class":"fa fa-volume-up"},"music.spotify":{"class":"fab fa-spotify"},"ping":{"class":"fas fa-server"},"procedures":{"class":"fas fa-gears"},"torrent":{"class":"fa fa-magnet"},"rtorrent":{"class":"fa fa-magnet"},"sensor.bme280":{"class":"fas fa-microchip"},"sensor.dht":{"class":"fas fa-microchip"},"sensor.envirophat":{"class":"fas fa-microchip"},"sensor.ltr559":{"class":"fas fa-microchip"},"sensor.mcp3008":{"class":"fas fa-microchip"},"sensor.pmw3901":{"class":"fas fa-microchip"},"sensor.vl53l1x":{"class":"fas fa-microchip"},"serial":{"class":"fab fa-usb"},"smartthings":{"imgUrl":"/icons/smartthings.png"},"switches":{"class":"fas fa-toggle-on"},"switch.switchbot":{"class":"fas fa-toggle-on"},"switch.tplink":{"class":"fas fa-toggle-on"},"switchbot":{"class":"fas fa-toggle-on"},"sound":{"class":"fa fa-microphone"},"system":{"class":"fas fa-microchip"},"tts":{"class":"far fa-comment"},"tts.google":{"class":"fas fa-comment"},"tv.samsung.ws":{"class":"fas fa-tv"},"variable":{"class":"fas fa-square-root-variable"},"weather.buienradar":{"class":"fas fa-cloud-sun-rain"},"weather.openweathermap":{"class":"fas fa-cloud-sun-rain"},"zigbee.mqtt":{"imgUrl":"/icons/zigbee.svg"},"zwave":{"imgUrl":"/icons/z-wave.png"},"zwave.mqtt":{"imgUrl":"/icons/z-wave.png"}}')}}]);
//# sourceMappingURL=panel.4cffdaa8.js.map