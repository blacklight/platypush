{"version":3,"file":"static/js/2012.6450b448.js","mappings":"8KAGA,GACEA,OAAQ,CAACC,EAAAA,YAETC,MAAO,CACL,kBACA,OACA,WACA,OACA,iBACA,SACA,QAGFC,MAAO,CACLC,WAAY,CACVC,KAAMC,QAGRC,KAAM,CACJF,KAAMG,MACNC,QAASA,IAAM,KAInBC,IAAAA,GACE,MAAO,CACLC,MAAO,GACPC,UAAU,EACVC,eAAgB,KAChBC,KAAM,CACJC,KAAM,QACNC,MAAM,GAGZ,EAEAC,SAAU,CACRC,SAAAA,GACE,OAAOC,KAAKP,UAAYO,KAAKC,OAC/B,EAEAC,WAAAA,GACE,OAAKF,KAAKR,MAIyB,aAA/BQ,KAAKf,YAAYkB,UAEZH,KAAKR,MAGP,IAAIQ,KAAKR,OAAOG,MAAK,CAACS,EAAGC,KAC9B,MAAMT,EAAOI,KAAKL,KAAKC,KACjBC,EAAOG,KAAKL,KAAKE,KACvB,IAAIS,EAAOF,EAAER,GACTW,EAAOF,EAAET,GAEb,MAAoB,kBAATU,GAAqC,kBAATC,GACrCD,EAAOA,GAAQ,EACfC,EAAOA,GAAQ,EACRV,EAAOU,EAAOD,EAAOA,EAAOC,IAGrCD,GAAQA,GAAQ,IAAIE,WAAWC,cAC/BF,GAAQA,GAAQ,IAAIC,WAAWC,cACxBZ,EAAOU,EAAKG,cAAcJ,GAAQA,EAAKI,cAAcH,GAAK,IAChEI,KAAKC,IACC,CACLT,UAAWS,EAAK1B,QACb0B,EACH1B,KAAM,eA3BD,EA8BX,GAGF2B,QAAS,CACP,aAAMC,GACJ,MAAM7B,EAAae,KAAKf,YAAY8B,KACpC,GAAK9B,GAAY+B,OAAjB,CAIAhB,KAAKP,UAAW,EAChB,IACEO,KAAKR,YAAcQ,KAAKiB,QACtB,wBACA,CAAEhC,aAAYiC,MAAO,KAGzB,CAAE,QACAlB,KAAKP,UAAW,CAClB,CAXA,CAYF,GAGF0B,MAAO,CACLlC,UAAAA,GACEe,KAAKc,SACP,ICnGJ,MAAMM,EAAc,EAEpB,O,gFCFA,GACEvC,OAAQ,CAACwC,EAAAA,GACTtC,MAAO,CACL,kBACA,OACA,kBACA,WACA,iBACA,cACA,OACA,uBACA,kBACA,mBAGFC,MAAO,CACLsC,OAAQ,CACNpC,KAAMqC,OACNjC,QAAS,IAGXW,QAAS,CACPf,KAAMsC,QACNlC,SAAS,GAGXmC,YAAa,CACXvC,KAAMqC,QAGRG,iBAAkB,CAChBpC,QAAS,MAGXqC,gBAAiB,CACfrC,QAAS,OAIbC,IAAAA,GACE,MAAO,CACLE,UAAU,EAEd,EAEAK,SAAU,CACRC,SAAAA,GACE,OAAOC,KAAKC,SAAWD,KAAKP,QAC9B,IChDJ,MAAM2B,EAAc,EAEpB,O","sources":["webpack://platypush/./src/components/panels/Media/Providers/Jellyfin/Mixin.vue","webpack://platypush/./src/components/panels/Media/Providers/Jellyfin/Mixin.vue?c6ed","webpack://platypush/./src/components/panels/Media/Providers/Mixin.vue","webpack://platypush/./src/components/panels/Media/Providers/Mixin.vue?f2ea"],"sourcesContent":["<script>\nimport MediaProvider from \"@/components/panels/Media/Providers/Mixin\";\n\nexport default {\n  mixins: [MediaProvider],\n\n  emits: [\n    'add-to-playlist',\n    'back',\n    'download',\n    'play',\n    'play-with-opts',\n    'select',\n    'view',\n  ],\n\n  props: {\n    collection: {\n      type: Object,\n    },\n\n    path: {\n      type: Array,\n      default: () => [],\n    },\n  },\n\n  data() {\n    return {\n      items: [],\n      loading_: false,\n      selectedResult: null,\n      sort: {\n        attr: 'title',\n        desc: false,\n      },\n    };\n  },\n\n  computed: {\n    isLoading() {\n      return this.loading_ || this.loading\n    },\n\n    sortedItems() {\n      if (!this.items) {\n        return []\n      }\n\n      if (this.collection?.item_type === 'playlist') {\n        // Don't sort playlists\n        return this.items\n      }\n\n      return [...this.items].sort((a, b) => {\n        const attr = this.sort.attr\n        const desc = this.sort.desc\n        let aVal = a[attr]\n        let bVal = b[attr]\n\n        if (typeof aVal === 'number' || typeof bVal === 'number') {\n          aVal = aVal || 0\n          bVal = bVal || 0\n          return desc ? bVal - aVal : aVal - bVal\n        }\n\n        aVal = (aVal || '').toString().toLowerCase()\n        bVal = (bVal || '').toString().toLowerCase()\n        return desc ? bVal.localeCompare(aVal) : aVal.localeCompare(bVal)\n      }).map((item) => {\n        return {\n          item_type: item.type,\n          ...item,\n          type: 'jellyfin',\n        }\n      })\n    },\n  },\n\n  methods: {\n    async refresh() {\n      const collection = this.collection?.name\n      if (!collection?.length) {\n        return\n      }\n\n      this.loading_ = true\n      try {\n        this.items = await this.request(\n          'media.jellyfin.search',\n          { collection, limit: 1000 },\n        )\n\n      } finally {\n        this.loading_ = false\n      }\n    },\n  },\n\n  watch: {\n    collection() {\n      this.refresh()\n    },\n  },\n}\n</script>\n","import script from \"./Mixin.vue?vue&type=script&lang=js\"\nexport * from \"./Mixin.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script>\nimport Utils from \"@/Utils\";\n\nexport default {\n  mixins: [Utils],\n  emits: [\n    'add-to-playlist',\n    'back',\n    'create-playlist',\n    'download',\n    'download-audio',\n    'path-change',\n    'play',\n    'remove-from-playlist',\n    'remove-playlist',\n    'rename-playlist',\n  ],\n\n  props: {\n    filter: {\n      type: String,\n      default: '',\n    },\n\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n\n    mediaPlugin: {\n      type: String,\n    },\n\n    selectedPlaylist: {\n      default: null,\n    },\n\n    selectedChannel: {\n      default: null,\n    },\n  },\n\n  data() {\n    return {\n      loading_: false,\n    }\n  },\n\n  computed: {\n    isLoading() {\n      return this.loading || this.loading_\n    },\n  },\n}\n</script>\n","import script from \"./Mixin.vue?vue&type=script&lang=js\"\nexport * from \"./Mixin.vue?vue&type=script&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["mixins","MediaProvider","emits","props","collection","type","Object","path","Array","default","data","items","loading_","selectedResult","sort","attr","desc","computed","isLoading","this","loading","sortedItems","item_type","a","b","aVal","bVal","toString","toLowerCase","localeCompare","map","item","methods","refresh","name","length","request","limit","watch","__exports__","Utils","filter","String","Boolean","mediaPlugin","selectedPlaylist","selectedChannel"],"sourceRoot":""}