{"version":3,"file":"static/js/6882.7773031f.js","mappings":"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","sources":["webpack://platypush/./src/components/panels/Light/color.js","webpack://platypush/./src/components/elements/Dropdown.vue","webpack://platypush/./src/components/elements/Dropdown.vue?e934","webpack://platypush/./src/components/elements/DropdownBody.vue","webpack://platypush/./src/components/elements/DropdownBody.vue?81f6","webpack://platypush/./src/components/elements/DropdownItem.vue","webpack://platypush/./src/components/elements/DropdownItem.vue?d591","webpack://platypush/./src/components/elements/Icon.vue","webpack://platypush/./src/components/elements/Icon.vue?fdba","webpack://platypush/./src/components/elements/Slider.vue","webpack://platypush/./src/components/elements/Slider.vue?787f","webpack://platypush/./src/components/elements/ToggleSwitch.vue","webpack://platypush/./src/components/elements/ToggleSwitch.vue?94aa","webpack://platypush/./src/components/panels/ZigbeeMqtt/Index.vue","webpack://platypush/./src/components/panels/ZigbeeMqtt/Device.vue","webpack://platypush/./src/components/panels/ZigbeeMqtt/Device.vue?8b6d","webpack://platypush/./src/components/panels/ZigbeeMqtt/Group.vue","webpack://platypush/./src/components/panels/ZigbeeMqtt/Group.vue?46cd","webpack://platypush/./src/components/panels/ZigbeeMqtt/Index.vue?dac0"],"sourcesContent":["export class ColorConverter {\n    constructor(ranges) {\n        this.ranges = {\n            hue: [0, 360],\n            sat: [0, 100],\n            bri: [0, 100],\n            ct: [154, 500],\n        }\n\n        if (ranges)\n            for (const attr of Object.keys(this.ranges))\n                if (ranges[attr])\n                    this.ranges[attr] = ranges[attr]\n    }\n\n    normalize(x, xRange, yRange) {\n        return yRange[0] + (((x-xRange[0]) * (yRange[1]-yRange[0])) / (xRange[1]-xRange[0]))\n    }\n\n    hslToRgb(h, s, l) {\n        [h, s, l] = [\n            this.normalize(h, this.ranges.hue, [0, 360]),\n            this.normalize(s, this.ranges.sat, [0, 100]),\n            this.normalize(l, this.ranges.bri, [0, 100]),\n        ]\n\n        l /= 100\n        const a = s * Math.min(l, 1 - l) / 100\n        const f = n => {\n            const k = (n + h / 30) % 12\n            const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1)\n            return Math.round(255 * color)\n        }\n\n        return [f(0), f(8), f(4)]\n    }\n\n    rgbToHsl(r, g, b){\n        r /= 255\n        g /= 255\n        b /= 255;\n        const max = Math.max(r, g, b), min = Math.min(r, g, b);\n        let h, s, l = (max + min) / 2;\n\n        if(max === min){\n            h = s = 0; // achromatic\n        } else {\n            const d = max - min;\n            s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n            switch(max){\n                case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n                case g: h = (b - r) / d + 2; break;\n                case b: h = (r - g) / d + 4; break;\n            }\n            h /= 6;\n        }\n\n        return [\n            parseInt(this.normalize(h, [0, 1], this.ranges.hue)),\n            parseInt(this.normalize(s, [0, 1], this.ranges.sat)),\n            parseInt(this.normalize(l, [0, 1], this.ranges.bri)),\n        ]\n    }\n\n    xyToRgb(x, y, brightness) {\n        // Set to maximum brightness if no custom value was given (Not the slick ECMAScript 6 way for compatibility reasons)\n        if (brightness == null)\n            brightness = this.ranges.bri[1];\n\n        const z = 1.0 - x - y;\n        const Y = (brightness / (this.ranges.bri[1]-1)).toFixed(2);\n        const X = (Y / y) * x;\n        const Z = (Y / y) * z;\n\n        //Convert to RGB using Wide RGB D65 conversion\n        let red \t=  X * 1.656492 - Y * 0.354851 - Z * 0.255038;\n        let green   = -X * 0.707196 + Y * 1.655397 + Z * 0.036152;\n        let blue \t=  X * 0.051713 - Y * 0.121364 + Z * 1.011530;\n\n        //If red, green or blue is larger than 1.0 set it back to the maximum of 1.0\n        if (red > blue && red > green && red > 1.0) {\n            green = green / red;\n            blue = blue / red;\n            red = 1.0;\n        } else if (green > blue && green > red && green > 1.0) {\n            red = red / green;\n            blue = blue / green;\n            green = 1.0;\n        } else if (blue > red && blue > green && blue > 1.0) {\n            red = red / blue;\n            green = green / blue;\n            blue = 1.0;\n        }\n\n        //Reverse gamma correction\n        red \t= red <= 0.0031308 ? 12.92 * red : (1.0 + 0.055) * Math.pow(red, (1.0 / 2.4)) - 0.055;\n        green \t= green <= 0.0031308 ? 12.92 * green : (1.0 + 0.055) * Math.pow(green, (1.0 / 2.4)) - 0.055;\n        blue \t= blue <= 0.0031308 ? 12.92 * blue : (1.0 + 0.055) * Math.pow(blue, (1.0 / 2.4)) - 0.055;\n\n        //Convert normalized decimal to decimal\n        red \t= Math.round(red * 255);\n        green \t= Math.round(green * 255);\n        blue \t= Math.round(blue * 255);\n\n        if (isNaN(red))\n            red = 0;\n        if (isNaN(green))\n            green = 0;\n        if (isNaN(blue))\n            blue = 0;\n\n        return [red, green, blue].map(\n            (c) => Math.min(Math.max(0, c), 255))  // lgtm [js/automatic-semicolon-insertion]\n    }\n\n    rgbToXY(red, green, blue) {\n        if (red > 1) { red /= 255; }\n        if (green > 1) { green /= 255; }\n        if (blue > 1) { blue /= 255; }\n\n        //Apply a gamma correction to the RGB values, which makes the color more vivid and more the like the color displayed on the screen of your device\n        red \t= (red > 0.04045) ? Math.pow((red + 0.055) / (1.0 + 0.055), 2.4) : (red / 12.92);\n        green \t= (green > 0.04045) ? Math.pow((green + 0.055) / (1.0 + 0.055), 2.4) : (green / 12.92);\n        blue \t= (blue > 0.04045) ? Math.pow((blue + 0.055) / (1.0 + 0.055), 2.4) : (blue / 12.92);\n\n        //RGB values to XYZ using the Wide RGB D65 conversion formula\n        const X \t\t= red * 0.664511 + green * 0.154324 + blue * 0.162028;\n        const Y \t\t= red * 0.283881 + green * 0.668433 + blue * 0.047685;\n        const Z \t\t= red * 0.000088 + green * 0.072310 + blue * 0.986039;\n\n        //Calculate the xy values from the XYZ values\n        let x \t\t= parseFloat((X / (X + Y + Z)).toFixed(4));\n        let y \t\t= parseFloat((Y / (X + Y + Z)).toFixed(4));\n\n        if (isNaN(x))\n            x = 0;\n        if (isNaN(y))\n            y = 0;\n\n        return [x, y];\n    }\n\n    rgbToBri(red, green, blue) {\n        return Math.min(2 * this.rgbToHsl(red, green, blue)[2], this.ranges.bri[1])\n    }\n\n    getRGB(color) {\n        if (color.red != null && color.green != null && color.blue != null)\n            return [color.red, color.green, color.blue]\n        if (color.r != null && color.g != null && color.b != null)\n            return [color.r, color.g, color.b]\n        if (color.rgb)\n            return color.rgb\n    }\n\n    getXY(color) {\n        if (color.x != null && color.y != null)\n            return [color.x, color.y]\n        if (color.xy)\n            return color.xy\n    }\n\n    toRGB(color) {\n        const rgb = this.getRGB(color)\n        if (rgb)\n            return rgb\n\n        const xy = this.getXY(color)\n        if (xy && color.bri)\n            return this.xyToRgb(...xy, color.bri)\n        if (color.hue && color.sat && color.bri)\n            return this.hslToRgb(color.hue, color.sat, color.bri)\n\n        console.debug('Could not determine color space')\n        console.debug(color)\n    }\n\n    toXY(color) {\n        const xy = this.getXY(color)\n        if (xy && color.bri)\n            return [xy[0], xy[1], color.bri]\n\n        const rgb = this.getRGB(color)\n        if (rgb)\n            return this.rgbToXY(...rgb)\n\n        if (color.hue && color.sat && color.bri) {\n            const rgb = this.hslToRgb(color.hue, color.sat, color.bri)\n            return this.rgbToXY(...rgb)\n        }\n\n        console.debug('Could not determine color space')\n        console.debug(color)\n    }\n\n    toHSL(color) {\n        if (color.hue && color.sat && color.bri)\n            return [color.hue, color.sat, color.bri]\n\n        const rgb = this.getRGB(color)\n        if (rgb)\n            return this.rgbToHsl(...rgb)\n\n        const xy = this.getXY(color)\n        if (xy && color.bri) {\n            const rgb = this.xyToRgb(...xy, color.bri)\n            return this.rgbToHsl(...rgb)\n        }\n\n        console.debug('Could not determine color space')\n        console.debug(color)\n    }\n\n    hexToRgb(hex) {\n        return [\n          hex.slice(1, 3),\n          hex.slice(3, 5),\n          hex.slice(5, 7),\n        ].map(_ => parseInt(_, 16))\n    }\n\n    rgbToHex(rgb) {\n      return '#' + rgb.map((x) => {\n          let hex = x.toString(16)\n          if (hex.length < 2)\n            hex = '0' + hex\n          return hex\n        }).join('')\n    }\n}\n","<template>\n  <div class=\"dropdown-container\">\n    <button :title=\"title\" ref=\"button\" @click.stop=\"toggle($event)\">\n      <i class=\"icon\" :class=\"iconClass\" v-if=\"iconClass\" />\n      <span class=\"text\" v-text=\"text\" v-if=\"text\" />\n    </button>\n\n    <div class=\"body-container hidden\" ref=\"dropdownContainer\">\n      <DropdownBody :id=\"id\"\n                    :keepOpenOnItemClick=\"keepOpenOnItemClick\"\n                    :style=\"style\"\n                    ref=\"dropdown\"\n                    @click=\"onClick\">\n        <slot />\n      </DropdownBody>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DropdownBody from \"./DropdownBody\";\nimport { bus } from \"@/bus\";\n\nexport default {\n  components: { DropdownBody },\n  emits: ['click'],\n  props: {\n    id: {\n      type: String,\n    },\n\n    iconClass: {\n      default: 'fa fa-ellipsis-h',\n    },\n\n    text: {\n      type: String,\n    },\n\n    title: {\n      type: String,\n    },\n\n    keepOpenOnItemClick: {\n      type: Boolean,\n      default: false,\n    },\n\n    style: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  data() {\n    return {\n      visible: false,\n    }\n  },\n\n  computed: {\n    button() {\n      const el = this.$refs.button?.$el\n      if (!el)\n        return this.$refs.button\n\n      return el.querySelector('button')\n    },\n\n    buttonStyle() {\n      if (!this.button)\n        return {}\n\n      return getComputedStyle(this.button)\n    },\n\n    buttonWidth() {\n      return parseFloat(this.buttonStyle.width || 0)\n    },\n\n    buttonHeight() {\n      return parseFloat(this.buttonStyle.height || 0)\n    },\n  },\n\n  methods: {\n    documentClickHndl(event) {\n      if (!this.visible)\n        return\n\n      let element = event.target\n      while (element) {\n        if (element.classList.contains('dropdown'))\n          return\n\n        element = element.parentElement\n      }\n\n      this.close()\n    },\n\n    getDropdownWidth() {\n      const dropdown = this.$refs.dropdown?.$el\n      if (!dropdown)\n        return 0\n\n      return parseFloat(getComputedStyle(dropdown).width)\n    },\n\n    getDropdownHeight() {\n      const dropdown = this.$refs.dropdown?.$el\n      if (!dropdown)\n        return 0\n\n      return parseFloat(getComputedStyle(dropdown).height)\n    },\n\n    onClick(event) {\n      if (!this.keepOpenOnItemClick)\n        this.close()\n\n      if (event.target.tagName === 'A') {\n        event.preventDefault()\n        return false\n      }\n\n      if (event.defaultPrevented) {\n        event.stopPropagation()\n        return false\n      }\n    },\n\n    close() {\n      this.visible = false\n      document.removeEventListener('click', this.documentClickHndl)\n      bus.emit('dropdown-close')\n    },\n\n    open() {\n      document.addEventListener('click', this.documentClickHndl)\n      const element = this.$refs.dropdown?.$el\n      if (!element.parentElement)\n        this.$el.appendChild(element)\n\n      this.visible = true\n      this.$refs.dropdownContainer.classList.remove('hidden')\n      this.$nextTick(this.adjustDropdownPos)\n    },\n\n    adjustDropdownPos() {\n      const buttonRect = this.button.getBoundingClientRect()\n      const buttonPos = {\n        left: buttonRect.left + window.scrollX,\n        top: buttonRect.top + window.scrollY,\n      }\n\n      const pos = {\n        left: buttonPos.left,\n        top: buttonPos.top + this.buttonHeight,\n      }\n\n      const dropdownWidth = this.getDropdownWidth()\n      const dropdownHeight = this.getDropdownHeight()\n\n      if ((pos.left + dropdownWidth) > (window.innerWidth + window.scrollX) / 2) {\n        pos.left -= (dropdownWidth - this.buttonWidth)\n      }\n\n      if ((pos.top + dropdownHeight) > (window.innerHeight + window.scrollY) / 2) {\n        let newPosTop = pos.top - (dropdownHeight + this.buttonHeight - 10)\n        if (newPosTop < 0)\n          newPosTop = 0\n\n        pos.top = newPosTop\n      }\n\n      const element = this.$refs.dropdown.$el\n      element.classList.add('fade-in')\n      element.style.top = `${pos.top}px`\n      element.style.left = `${pos.left}px`\n      bus.emit('dropdown-open', this.$refs.dropdown)\n      this.$refs.dropdownContainer.classList.add('hidden')\n    },\n\n    toggle(event) {\n      event?.stopPropagation()\n      this.$emit('click', event)\n      this.visible ? this.close() : this.open()\n    },\n\n    onKeyUp(event) {\n      event.stopPropagation()\n      if (event.key === 'Escape') {\n        this.close()\n      }\n    },\n  },\n\n  mounted() {\n    document.body.addEventListener('keyup', this.onKeyUp)\n  },\n\n  unmounted() {\n    document.body.removeEventListener('keyup', this.onKeyUp)\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dropdown-container {\n  position: relative;\n  display: inline-flex;\n  flex-direction: column;\n\n  button {\n    background: none;\n    border: 0;\n    padding: 0.5em;\n\n    &:hover {\n      color: $default-hover-fg;\n    }\n  }\n}\n</style>\n","import { render } from \"./Dropdown.vue?vue&type=template&id=7cc6fe44&scoped=true\"\nimport script from \"./Dropdown.vue?vue&type=script&lang=js\"\nexport * from \"./Dropdown.vue?vue&type=script&lang=js\"\n\nimport \"./Dropdown.vue?vue&type=style&index=0&id=7cc6fe44&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7cc6fe44\"]])\n\nexport default __exports__","<template>\n  <div class=\"dropdown\" :id=\"id\" :style=\"style\" @click=\"$emit('click', $event)\">\n    <slot />\n  </div>\n</template>\n\n<script>\nexport default {\n  emits: ['click'],\n  props: {\n    id: {\n      type: String,\n    },\n\n    keepOpenOnItemClick: {\n      type: Boolean,\n      default: false,\n    },\n\n    style: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dropdown {\n  position: absolute;\n  width: max-content;\n  background: $dropdown-bg;\n  border-radius: .25em;\n  box-shadow: $dropdown-shadow;\n  display: flex;\n  flex-direction: column;\n  z-index: 2;\n}\n\n:deep(.dropdown-container) {\n  button {\n    width: 100%;\n    height: 100%;\n    color: $default-fg-2;\n    background: $dropdown-bg;\n    border: 0;\n    padding: 0.75em 0.5em;\n    text-align: left;\n    letter-spacing: 0.01em;\n\n    &:hover {\n      background: $hover-bg;\n      color: $default-fg-2;\n    }\n\n    .text {\n      padding-left: 0.25em;\n    }\n  }\n}\n</style>\n","import { render } from \"./DropdownBody.vue?vue&type=template&id=24c5aa28&scoped=true\"\nimport script from \"./DropdownBody.vue?vue&type=script&lang=js\"\nexport * from \"./DropdownBody.vue?vue&type=script&lang=js\"\n\nimport \"./DropdownBody.vue?vue&type=style&index=0&id=24c5aa28&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-24c5aa28\"]])\n\nexport default __exports__","<template>\n  <div class=\"row item\" :class=\"{...itemClass_, disabled: disabled}\"\n       :title=\"hoverText\" @click=\"clicked\">\n    <div class=\"col-2 icon\" v-if=\"iconClass?.length || iconUrl?.length\">\n      <Icon :class=\"iconClass\" :url=\"iconUrl\" />\n    </div>\n    <div class=\"text\" :class=\"{'col-10': iconClass != null}\" v-text=\"text\" />\n  </div>\n</template>\n\n<script>\nimport Icon from \"@/components/elements/Icon\";\nimport { bus } from \"@/bus\";\n\nexport default {\n  components: {Icon},\n  emits: ['click', 'input'],\n  props: {\n    iconClass: {\n      type: String,\n    },\n\n    iconUrl: {\n      type: String,\n    },\n\n    text: {\n      type: String,\n    },\n\n    hoverText: {\n      type: String,\n      default: null,\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n\n    itemClass: {}\n  },\n\n  computed: {\n    itemClass_() {\n      if (typeof this.itemClass === 'string')\n        return {[this.itemClass]: true}\n\n      return this.itemClass\n    }\n  },\n\n  methods: {\n    clicked(event) {\n      if (!this.$parent.keepOpenOnItemClick)\n        bus.emit('dropdown-close')\n\n      if (this.disabled) {\n        event.stopPropagation()\n        event.preventDefault()\n        return false\n      }\n\n      this.$emit('input', event)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.item {\n  display: flex;\n  flex-direction: row !important;\n  min-width: 7.5em;\n  padding: 0.75em 0.5em;\n  cursor: pointer;\n  align-items: center;\n  color: $default-fg-2;\n  border: 0 !important;\n  cursor: pointer !important;\n  box-shadow: none !important;\n\n  &:hover {\n    background: $hover-bg !important;\n  }\n\n  &.selected {\n    font-weight: bold !important;\n  }\n\n  &.disabled {\n    color: $dropdown-disabled-color;\n    cursor: initial !important;\n  }\n\n  .text {\n    text-align: left;\n    margin-left: 0.5em;\n  }\n\n  .icon {\n    width: 1.5em;\n    display: inline-flex;\n    align-items: center;\n  }\n\n  :deep(.icon-container) {\n    width: 2em;\n    display: inline-flex;\n    align-items: center;\n\n    .icon {\n      margin: 0 1.5em 0 .5em;\n    }\n  }\n}\n</style>\n","import { render } from \"./DropdownItem.vue?vue&type=template&id=2babe09c&scoped=true\"\nimport script from \"./DropdownItem.vue?vue&type=script&lang=js\"\nexport * from \"./DropdownItem.vue?vue&type=script&lang=js\"\n\nimport \"./DropdownItem.vue?vue&type=style&index=0&id=2babe09c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2babe09c\"]])\n\nexport default __exports__","<template>\n  <div class=\"icon-container\">\n    <img class=\"icon\" :src=\"url\" :alt=\"alt\" v-if=\"url?.length\">\n    <i class=\"icon\" :class=\"className\" :style=\"{color: color}\"\n      v-else-if=\"className?.length\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    class: {\n      type: String,\n    },\n    url: {\n      type: String,\n    },\n    color: {\n      type: String,\n      default: '',\n    },\n    alt: {\n      type: String,\n      default: '',\n    },\n  },\n\n  computed: {\n    className() {\n      return this.class\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.icon-container {\n  display: inline-flex;\n  width: $icon-container-size;\n  justify-content: center;\n  text-align: center;\n\n  .icon {\n    width: 1em;\n    height: 1em;\n  }\n}\n</style>\n","import { render } from \"./Icon.vue?vue&type=template&id=706a3bd1&scoped=true\"\nimport script from \"./Icon.vue?vue&type=script&lang=js\"\nexport * from \"./Icon.vue?vue&type=script&lang=js\"\n\nimport \"./Icon.vue?vue&type=style&index=0&id=706a3bd1&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-706a3bd1\"]])\n\nexport default __exports__","<template>\n  <label class=\"slider-wrapper\">\n    <span class=\"range-labels\" :class=\"{'with-label': withLabel}\" v-if=\"withRange\">\n      <span class=\"label left\" v-if=\"withRange\" v-text=\"range[0]\" />\n      <span class=\"label right\" v-if=\"withRange\" v-text=\"range[1]\" />\n    </span>\n\n    <span class=\"slider-container\">\n      <input class=\"slider\"\n             type=\"range\"\n             :class=\"{'with-label': withLabel}\"\n             :min=\"range[0]\"\n             :max=\"range[1]\"\n             :step=\"step\"\n             :disabled=\"disabled\"\n             :value=\"value\"\n             ref=\"range\"\n             @input.stop=\"$emit('input', $event)\"\n             @change.stop=\"$emit('change', $event)\">\n\n      <span class=\"label\" v-if=\"withLabel\" v-text=\"value\" ref=\"label\"></span>\n    </span>\n  </label>\n</template>\n\n<script>\nexport default {\n  emits: ['input', 'change'],\n  props: {\n    value: {\n      type: Number,\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n\n    range: {\n      type: Array,\n      default: () => [0, 100],\n    },\n\n    step: {\n      type: Number,\n      default: 1,\n    },\n\n    withLabel: {\n      type: Boolean,\n      default: false,\n    },\n\n    withRange: {\n      type: Boolean,\n      default: false,\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$label-width: 3em;\n$thumb-height: 1em;\n$slider-height: 0.5em;\n\n.slider-wrapper {\n  width: 100%;\n  display: flex;\n  position: relative;\n  flex-direction: column;\n\n  .slider-container {\n    width: 100%;\n    display: flex;\n    position: relative;\n  }\n\n  input.slider {\n    width: 100%;\n    background: none;\n    height: 1.5em;\n    position: relative;\n    border-radius: 0.5em;\n    cursor: pointer;\n    outline: none;\n    overflow: hidden;\n    transition: all ease 100ms;\n    @include appearance(none);\n\n    &:active {\n      filter: brightness(80%);\n      cursor: grabbing;\n    }\n\n    &:hover {\n      filter: saturate(130%);\n    }\n\n    &:disabled {\n      cursor: not-allowed;\n      opacity: 0.5;\n      filter: grayscale(1);\n    }\n\n    /* Chrome and friends */\n    &::-webkit-slider-runnable-track {\n      position: relative;\n      border-radius: $slider-height;\n      background: linear-gradient($slider-bg 0 0) scroll no-repeat center /\n        100% calc(#{$slider-height} + 1px);\n    }\n\n    &::-webkit-slider-runnable-track,\n    &::-webkit-slider-thumb {\n      -webkit-appearance: none;\n      transition: all ease 100ms;\n      height: $thumb-height;\n    }\n\n    &::-webkit-slider-thumb {\n      --clip-top: calc((#{$thumb-height} - #{$slider-height}) * 0.5);\n      --clip-bottom: calc(#{$thumb-height} - var(--clip-top));\n      --clip-further: calc(100% + 1px);\n\n      width: $thumb-height;\n      background: $slider-progress-bg;\n      box-shadow: calc(-100vmax - #{$thumb-height} + 2.5px) #{$slider-height} #{$slider-height} 100vmax #{$slider-progress-bg};\n      border-radius: $thumb-height;\n      cursor: grab;\n\n      &:hover {\n        filter: brightness(130%) blur(1px);\n        cursor: grab;\n      }\n\n      clip-path: polygon(\n        100% -1px,\n        #{$slider-height} -1px,\n        0 var(--clip-top),\n        -100vmax var(--clip-top),\n        -100vmax var(--clip-bottom),\n        0 var(--clip-bottom),\n        #{$slider-height} 100%,\n        var(--clip-further) var(--clip-further)\n      );\n    }\n\n    /* Firefox */\n    &::-moz-range-track {\n      background: $slider-bg;\n      position: relative;\n      height: $slider-height;\n      border-radius: 0.5em;\n      box-shadow: inset 1px 0px 3px 0 $slider-track-shadow;\n    }\n\n    &::-moz-range-thumb {\n      $thumb-height: 1.125em;\n      width: $thumb-height;\n      height: $thumb-height;\n      position: relative;\n      background: $slider-thumb-bg;\n      border-radius: 50%;\n      border: none;\n      cursor: grabbing;\n      transition: all ease 100ms;\n      @include appearance(none);\n\n      &:hover {\n        filter: brightness(130%) blur(1px);\n        cursor: grab;\n      }\n\n      &:disabled {\n        background: $slider-thumb-disabled-bg;\n        cursor: not-allowed;\n      }\n    }\n\n    &::-moz-range-progress {\n      width: 100%;\n      height: $slider-height;\n      cursor: pointer;\n      background: $slider-progress-bg;\n      border-radius: 0.5em 0 0 0.5em;\n    }\n  }\n\n  .range-labels {\n    width: 100%;\n    display: flex;\n\n    .left {\n      text-align: left;\n    }\n\n    .right {\n      @extend .pull-right;\n      flex-grow: 1;\n    }\n  }\n\n  .label {\n    width: $label-width;\n    position: relative;\n    font-weight: normal;\n    text-align: center;\n  }\n\n  .with-label {\n    width: calc(100% - $label-width);\n  }\n}\n</style>\n","import { render } from \"./Slider.vue?vue&type=template&id=d90e850c&scoped=true\"\nimport script from \"./Slider.vue?vue&type=script&lang=js\"\nexport * from \"./Slider.vue?vue&type=script&lang=js\"\n\nimport \"./Slider.vue?vue&type=style&index=0&id=d90e850c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d90e850c\"]])\n\nexport default __exports__","<template>\n  <div class=\"power-switch\" :class=\"{disabled: disabled}\" @click.stop=\"onInput\">\n    <!--suppress HtmlFormInputWithoutLabel -->\n    <input type=\"checkbox\" :checked=\"value\" :id=\"id\">\n    <label>\n      <!--suppress HtmlUnknownTag -->\n      <div class=\"switch\">\n        <div class=\"dot\" />\n      </div>\n      <span class=\"label\">\n        <slot />\n      </span>\n    </label>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"ToggleSwitch\",\n  emits: ['input'],\n  props: {\n    id: {\n      type: String,\n    },\n\n    value: {\n      type: Boolean,\n      default: false,\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    onInput(event) {\n      if (this.disabled)\n        return false\n\n      this.$emit('input', event)\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.power-switch {\n  position: relative;\n  transition: transform .3s;\n  transform: scale(var(--scale, 1)) translateZ(0);\n\n  &:active {\n    --scale: .96;\n  }\n\n  &.disabled {\n    opacity: 0.6;\n  }\n\n  input {\n    display: none;\n    & + label {\n      border-radius: 1em;\n      display: inline-flex;\n      cursor: pointer;\n      position: relative;\n      transition: box-shadow .4s;\n\n      &:before {\n        content: '';\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        border-radius: inherit;\n        background: none;\n        opacity: var(--gradient, 0);\n        transition: opacity .4s;\n      }\n\n      .switch {\n        position: relative;\n        display: inline-block;\n        vertical-align: top;\n        height: 1.4em;\n        width: 2.5em;\n        border-radius: 1em;\n        background: $slider-bg;\n        box-shadow: inset 1px 0px 3px 0 $slider-track-shadow;\n\n        &:before {\n          content: '';\n          position: absolute;\n          left: 0;\n          top: 0;\n          right: 0;\n          bottom: 0;\n          border-radius: inherit;\n          background: $slider-progress-bg;\n          opacity: var(--gradient, 0);\n          transition: opacity .4s;\n        }\n\n        .dot {\n          background: $toggle-dot-bg;\n          position: absolute;\n          width: 1.5em;\n          height: 1.5em;\n          border-radius: 50%;\n          box-shadow: 1px 0px 3.5px 0 $slider-thumb-shadow;\n          left: -0.25em;\n          top: -0.05em;\n          transform: translateX(var(--offset, 0));\n          transition: transform .4s, box-shadow .4s;\n\n          &:before {\n            content: '';\n            position: absolute;\n            left: 0;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            border-radius: inherit;\n            background: $toggle-selected-dot-bg;\n            opacity: var(--gradient, 0);\n            transition: opacity .4s;\n          }\n        }\n      }\n\n      span {\n        line-height: 2em;\n        font-size: 1.2em;\n        color: var(--text, #646B8C);\n        font-weight: 500;\n        display: inline-block;\n        vertical-align: top;\n        position: relative;\n        margin-left: 0.5em;\n        transition: color .4s;\n      }\n\n      & + span {\n        text-align: center;\n        display: block;\n        position: absolute;\n        left: 0;\n        right: 0;\n        top: 100%;\n        opacity: 0;\n        font-size: 1em;\n        font-weight: 500;\n        color: $slider-bg;\n        transform: translateY(0.2em);\n        transition: opacity .4s, transform .4s;\n      }\n    }\n\n    &:not(:checked) {\n      & + label {\n        pointer-events: none;\n        & + span {\n          opacity: 1;\n          transform: translateY(0.6em);\n        }\n      }\n    }\n\n    &:checked {\n      & + label {\n        --offset: 1.5em;\n        --text: $slider-progress-bg;\n        --gradient: 1;\n        --shadow: rgba(0, 39, 6, .1);\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./ToggleSwitch.vue?vue&type=template&id=eff375b6&scoped=true\"\nimport script from \"./ToggleSwitch.vue?vue&type=script&lang=js\"\nexport * from \"./ToggleSwitch.vue?vue&type=script&lang=js\"\n\nimport \"./ToggleSwitch.vue?vue&type=style&index=0&id=eff375b6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-eff375b6\"]])\n\nexport default __exports__","<template>\n  <div class=\"zigbee-container\">\n    <Loading v-if=\"loading\" />\n\n    <Modal title=\"Network Info\" ref=\"infoModal\">\n      <div class=\"info-body\" v-if=\"status.info\">\n        <div class=\"row\">\n          <div class=\"param-name\">State</div>\n          <div class=\"param-value\" v-text=\"status.state\" />\n        </div>\n\n        <div class=\"row\">\n          <div class=\"param-name\">Permit Join</div>\n          <div class=\"param-value\" v-text=\"status.info.permit_join\" />\n        </div>\n\n        <div class=\"row\" v-if=\"status.info.network\">\n          <div class=\"param-name\">Network Channel</div>\n          <div class=\"param-value\" v-text=\"status.info.network.channel\" />\n        </div>\n\n        <div class=\"row\">\n          <div class=\"param-name\">Zigbee2MQTT Version</div>\n          <div class=\"param-value\" v-text=\"status.info.version\" />\n        </div>\n\n        <div class=\"row\" v-if=\"status.info.config?.mqtt\">\n          <div class=\"param-name\">MQTT Server</div>\n          <div class=\"param-value\" v-text=\"status.info.config.mqtt.server\" />\n        </div>\n\n        <div class=\"row\" v-if=\"status.info.config?.serial\">\n          <div class=\"param-name\">Serial Port</div>\n          <div class=\"param-value\" v-text=\"status.info.config.serial.port\" />\n        </div>\n\n        <div class=\"row\" v-if=\"status.info.coordinator?.type\">\n          <div class=\"param-name\">Firmware Type</div>\n          <div class=\"param-value\" v-text=\"status.info.coordinator.type\" />\n        </div>\n\n        <div class=\"row\" v-if=\"status.info.coordinator?.meta\">\n          <div class=\"param-name\">Firmware Version</div>\n          <div class=\"param-value\">\n            {{ status.info.coordinator.meta.maintrel }}.{{ status.info.coordinator.meta.majorrel }}.{{ status.info.coordinator.meta.minorrel }}\n          </div>\n        </div>\n\n        <div class=\"row\" v-if=\"status.info.coordinator?.meta\">\n          <div class=\"param-name\">Firmware Revision</div>\n          <div class=\"param-value\" v-text=\"status.info.coordinator.meta.revision\" />\n        </div>\n      </div>\n    </Modal>\n\n    <div class=\"view-options\">\n      <div class=\"view-selector col-s-8 col-m-9 col-l-10\">\n        <label>\n          <select :value=\"selected.view\" @change=\"this.selected.view = $event.target.value\">\n            <option v-for=\"(enabled, view) in views\"\n                    v-text=\"(view[0].toUpperCase() + view.slice(1)).replace('_', ' ')\"\n                    :key=\"view\" :selected=\"enabled\" :value=\"view\">\n            </option>\n          </select>\n        </label>\n      </div>\n\n      <div class=\"buttons\">\n        <button class=\"btn btn-default\" title=\"Add Group\" v-if=\"selected.view === 'groups'\"\n                :disabled=\"loading\" @click=\"addGroup\">\n          <i class=\"fa fa-plus\"></i>\n        </button>\n\n        <Dropdown ref=\"networkCommandsDropdown\" icon-class=\"fa fa-cog\" title=\"Network commands\">\n          <DropdownItem text=\"Network Info\" :disabled=\"loading\" @input=\"$refs.infoModal.show()\" />\n          <DropdownItem text=\"Permit Join\" :disabled=\"loading\" @input=\"permitJoin(true)\"\n                        v-if=\"!status.info?.permit_join\" />\n          <DropdownItem text=\"Disable Join\" :disabled=\"loading\" @input=\"permitJoin(false)\" v-else/>\n          <DropdownItem text=\"Factory Reset\" :disabled=\"loading\" @input=\"factoryReset\" />\n        </Dropdown>\n\n        <button class=\"btn btn-default\" title=\"Refresh network\" :disabled=\"loading\" @click=\"refresh\">\n          <i class=\"fa fa-sync-alt\"></i>\n        </button>\n      </div>\n    </div>\n\n    <div class=\"view-container\">\n      <div class=\"view devices\" v-if=\"selected.view === 'devices'\">\n        <div class=\"no-items\" v-if=\"!Object.keys(devices).length\">\n          <div class=\"loading\" v-if=\"loading\">Loading devices...</div>\n          <div class=\"empty\" v-else>No devices found on the network</div>\n        </div>\n\n        <Device v-for=\"(device, id) in devices\" :key=\"id\"\n                :device=\"device\" :groups=\"groups\" :selected=\"selected.deviceId === id\"\n                @select=\"selected.deviceId = selected.deviceId === id ? null : id\"\n                @rename=\"refreshDevices\" @remove=\"refreshDevices\" @groups-edit=\"refreshGroups\" />\n      </div>\n\n      <div class=\"view groups\" v-else-if=\"selected.view === 'groups'\">\n        <div class=\"no-items\" v-if=\"!Object.keys(groups).length\">\n          <div class=\"loading\" v-if=\"loading\">Loading groups...</div>\n          <div class=\"empty\" v-else>No groups available on the network</div>\n        </div>\n\n        <Group v-for=\"(group, id) in groups\" :key=\"id\" :group=\"group\" :devices=\"devices\"\n               :selected=\"selected.groupId === id\"\n               @select=\"selected.groupId = selected.groupId === id ? null : id\"\n               @rename=\"refreshGroups\" @remove=\"refreshGroups\" @edit=\"refreshGroups\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Dropdown from \"../../elements/Dropdown\"\nimport DropdownItem from \"@/components/elements/DropdownItem\"\nimport Loading from \"@/components/Loading\"\nimport Utils from \"@/Utils\"\n\nimport Device from \"@/components/panels/ZigbeeMqtt/Device\";\nimport Group from \"@/components/panels/ZigbeeMqtt/Group\";\nimport Modal from \"@/components/Modal\";\n\nexport default {\n  name: \"ZigbeeMqtt\",\n  components: {Modal, Dropdown, DropdownItem, Loading, Device, Group},\n  mixins: [Utils],\n\n  data() {\n    return {\n      devices: {},\n      groups: {},\n      status: {},\n      loading: false,\n      selected: {\n        view: 'devices',\n        deviceId: undefined,\n        groupId: undefined,\n      },\n      views: {\n        devices: true,\n        groups: true,\n      },\n      modal: {\n        group: {\n          visible: false,\n        },\n      },\n    }\n  },\n\n  methods: {\n    async refreshDevices() {\n      this.loading = true\n\n      try {\n        this.devices = (await this.request('zigbee.mqtt.devices')).reduce((devices, device) => {\n          if (device.friendly_name in this.devices) {\n            device = {\n              values: this.devices[device.friendly_name].values || {},\n              ...this.devices[device.friendly_name],\n            }\n          }\n\n          devices[device.friendly_name] = device\n          return devices\n        }, {})\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async refreshGroups() {\n      this.loading = true\n      try {\n        this.groups = (await this.request('zigbee.mqtt.groups')).reduce((groups, group) => {\n          groups[group.id] = group\n          return groups\n        }, {})\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async refreshInfo() {\n      this.loading = true\n      try {\n        this.status = await this.request('zigbee.mqtt.info')\n      } finally {\n        this.loading = false\n      }\n    },\n\n    refresh() {\n      this.refreshDevices()\n      this.refreshGroups()\n      this.refreshInfo()\n    },\n\n    updateProperties(device, props) {\n      this.devices[device].values = props\n    },\n\n    async addGroup() {\n      const name = prompt('Group name')\n      if (!(name && name.length)) {\n        return\n      }\n\n      this.loading = true\n      try {\n        await this.request('zigbee.mqtt.group_add', {name: name})\n      } finally {\n        this.loading = false\n      }\n\n      await this.refreshGroups()\n    },\n\n    async permitJoin(permit) {\n      const args = {permit: !!permit}\n      if (permit) {\n        let seconds = prompt('Join allow period in seconds (0 or empty for no time limits)', '60')\n        args.seconds = seconds.length ? parseInt(seconds) : null\n      }\n\n      this.loading = true\n      try {\n        await this.request('zigbee.mqtt.permit_join', args)\n        setTimeout(this.refreshInfo, 1000)\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async factoryReset() {\n      if (!confirm('Are you SURE that you want to do a device factory reset?')) {\n        if (!confirm('Are you REALLY sure? ALL network information and custom firmware will be lost!!'))\n          return\n      }\n\n      this.loading = true\n      try {\n        await this.request('zigbee.mqtt.factory_reset')\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async addToGroup(device, group) {\n      this.loading = true\n      await this.request('zigbee.mqtt.group_add_device', {\n        device: device,\n        group: group,\n      })\n\n      this.loading = false\n      const self = this\n\n      setTimeout(() => {\n        self.refresh()\n        self.refreshGroups()\n      }, 100)\n    },\n  },\n\n  created() {\n    this.subscribe(() => {\n      this.notify({\n        text: 'WARNING: The controller is offline',\n        error: true,\n      })\n    }, 'on-zigbee-offline', 'platypush.message.event.zigbee.mqtt.ZigbeeMqttOfflineEvent')\n\n    this.subscribe(() => {\n      this.notify({\n        text: 'The controller is now online',\n        iconClass: 'fas fa-check',\n      })\n    }, 'on-zigbee-online', 'platypush.message.event.zigbee.mqtt.ZigbeeMqttOnlineEvent')\n\n    this.subscribe(() => {\n      this.notify({\n        text: 'Failed to remove the device',\n        error: true,\n      })\n    }, 'on-zigbee-device-remove-failed', 'platypush.message.event.zigbee.mqtt.ZigbeeMqttDeviceRemovedFailedEvent')\n\n    this.subscribe(() => {\n      this.notify({\n        text: 'Failed to add the group',\n        error: true,\n      })\n    }, 'on-zigbee-group-add-failed', 'platypush.message.event.zigbee.mqtt.ZigbeeMqttGroupAddedFailedEvent')\n\n    this.subscribe(() => {\n      this.notify({\n        text: 'Failed to remove group',\n        error: true,\n      })\n    }, 'on-zigbee-group-remove-failed', 'platypush.message.event.zigbee.mqtt.ZigbeeMqttGroupRemovedFailedEvent')\n\n    this.subscribe(() => {\n      this.notify({\n        text: 'Failed to remove the devices from group',\n        error: true,\n      })\n    }, 'on-zigbee-remove-all-failed',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttGroupRemoveAllFailedEvent')\n\n    this.subscribe((event) => {\n      this.notify({\n        text: event.error || '[Unknown error]',\n        error: true,\n      })\n    }, 'on-zigbee-error', 'platypush.message.event.zigbee.mqtt.ZigbeeMqttErrorEvent')\n\n    this.subscribe(this.refresh, 'on-zigbee-device-update',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttOnlineEvent',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttDevicePairingEvent',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttDeviceConnectedEvent',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttDeviceBannedEvent',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttDeviceRemovedEvent',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttDeviceWhitelistedEvent',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttDeviceRenamedEvent',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttDeviceBindEvent',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttDeviceUnbindEvent',\n    )\n\n    this.subscribe(this.refreshGroups, 'on-zigbee-group-update',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttGroupAddedEvent',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttGroupRemovedEvent',\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttGroupRemoveAllEvent',\n    )\n  },\n\n  mounted() {\n    this.refresh()\n  },\n\n  unmounted() {\n    this.unsubscribe('on-zigbee-error')\n    this.unsubscribe('on-zigbee-remove-all-failed')\n    this.unsubscribe('on-zigbee-group-remove-failed')\n    this.unsubscribe('on-zigbee-group-add-failed')\n    this.unsubscribe('on-zigbee-device-remove-failed')\n    this.unsubscribe('on-zigbee-online')\n    this.unsubscribe('on-zigbee-offline')\n    this.unsubscribe('on-zigbee-device-update')\n    this.unsubscribe('on-zigbee-group-update')\n  },\n}\n</script>\n\n<style lang=\"scss\">\n@import \"common\";\n\n.zigbee-container {\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  overflow: auto;\n\n  .no-items {\n    padding: 2em;\n    font-size: 1.5em;\n    color: $no-items-color;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .view-options {\n    display: flex;\n    width: 100%;\n    height: $header-height;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0;\n    background: $header-bg;\n    border-bottom: $default-border-2;\n    box-shadow: $border-shadow-bottom;\n\n    .view-selector {\n      display: inline-flex;\n      padding-left: .5em;\n\n      label {\n        width: 100%;\n      }\n    }\n\n    .buttons {\n      display: inline-flex;\n      margin: 0;\n\n      button {\n        background: none;\n        border: none;\n        padding: 0 .75em;\n\n        &:hover {\n          color: $default-hover-fg;\n        }\n      }\n\n      .dropdown {\n        .item {\n          padding: .5em 2em .5em .5em;\n        }\n      }\n    }\n  }\n\n  .view-container {\n    width: 100%;\n    height: calc(100% - #{$header-height});\n    display: flex;\n    justify-content: center;\n    overflow: auto;\n  }\n\n  .view {\n    height: max-content;\n    background: $view-bg;\n    border: $view-border;\n    box-shadow: $view-box-shadow;\n  }\n\n  @media screen and (max-width: $tablet) {\n    .view {\n      width: 100%;\n    }\n  }\n\n  @media screen and (min-width: $tablet) {\n    .view {\n      width: 100%;\n    }\n  }\n\n  @media screen and (min-width: $desktop) {\n    .view {\n      min-width: 400pt;\n      max-width: 750pt;\n      border-radius: 1.5em;\n    }\n\n    .view-container {\n      padding-top: 2em;\n    }\n  }\n\n  .params {\n    background: $params-bg;\n    padding-bottom: 1em;\n\n    .section {\n      display: flex;\n      flex-direction: column;\n      padding: 0 1em;\n\n      &:not(:first-child) {\n        padding-top: 1em;\n      }\n\n      .header {\n        display: flex;\n        align-items: center;\n        font-weight: bold;\n        border-bottom: $param-section-header-border;\n      }\n    }\n\n  }\n\n  .btn-value-name-edit {\n    padding: 0;\n  }\n\n  .modal {\n    .section {\n      .header {\n        background: none;\n        padding: .5em 0;\n      }\n\n      .body {\n        padding: 0;\n      }\n    }\n\n    .network-info {\n      min-width: 600pt;\n    }\n  }\n\n  .error {\n    color: $error-color;\n  }\n\n  .device, .group {\n    .actions {\n      .row {\n        cursor: pointer;\n      }\n    }\n\n    form {\n      margin-bottom: 0;\n    }\n\n    .param-value {\n      input[type=text] {\n        text-align: right;\n      }\n    }\n  }\n\n  .info-body {\n    margin: -2em;\n    padding: 0;\n\n    .row {\n      padding: 1em .5em;\n\n      .param-name {\n        font-weight: bold;\n      }\n    }\n  }\n\n  @media screen and (max-width: $tablet) {\n    .info-body {\n      width: 100vw;\n    }\n  }\n\n  @media screen and (min-width: $tablet) {\n    .info-body {\n      width: 80vw;\n    }\n  }\n\n  @media screen and (min-width: $desktop) {\n    .info-body {\n      width: 60vw;\n      max-width: 30em;\n    }\n  }\n}\n</style>\n","<template>\n  <div class=\"item device\" :class=\"{selected: selected}\">\n    <Loading v-if=\"loading\" />\n\n    <Modal class=\"groups-modal\" ref=\"groupsModal\" title=\"Device groups\">\n      <Loading v-if=\"loading\" />\n\n      <form class=\"content\" @submit.prevent=\"manageGroups\">\n        <div class=\"groups\">\n          <label class=\"row group\" v-for=\"(group, id) in groups\" :key=\"id\">\n            <input type=\"checkbox\" :value=\"id\" :checked=\"associatedGroups.has(parseInt(group.id))\">\n            <span class=\"name\" v-text=\"group.friendly_name?.length ? group.friendly_name : `[Group #${group.id}]`\" />\n          </label>\n        </div>\n\n        <div class=\"footer buttons\">\n          <button type=\"submit\">Save</button>\n        </div>\n      </form>\n    </Modal>\n\n    <div class=\"row name header vertical-center\" :class=\"{selected: selected}\"\n         v-text=\"device.friendly_name || device.ieee_address\" @click=\"$emit('select')\" />\n\n    <div class=\"params\" v-if=\"selected\">\n      <div class=\"row\">\n        <div class=\"param-name\">Name</div>\n        <div class=\"param-value\">\n          <div class=\"name-edit\" :class=\"{hidden: !editName}\">\n            <form @submit.prevent=\"rename\">\n              <label>\n                <input type=\"text\" name=\"name\" ref=\"name\" :value=\"device.friendly_name\">\n              </label>\n\n              <span class=\"buttons\">\n                <button type=\"button\" class=\"btn btn-default\" @click=\"editName = false\">\n                  <i class=\"fas fa-times\"></i>\n                </button>\n\n                <button type=\"submit\" class=\"btn btn-default\">\n                  <i class=\"fa fa-check\"></i>\n                </button>\n              </span>\n            </form>\n          </div>\n\n          <div class=\"name-edit\" :class=\"{hidden: editName}\">\n            <span v-text=\"device.friendly_name\"></span>\n            <span class=\"buttons\">\n              <button type=\"button\" class=\"btn btn-default\" @click=\"editName = true\">\n                <i class=\"fa fa-edit\"></i>\n              </button>\n            </span>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"param-name\">IEEE Address</div>\n        <div class=\"param-value\" v-text=\"device.ieee_address\"></div>\n      </div>\n\n      <div class=\"row\" v-if=\"device.network_address\">\n        <div class=\"param-name\">Network Address</div>\n        <div class=\"param-value\" v-text=\"device.network_address\"></div>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"param-name\">Type</div>\n        <div class=\"param-value\" v-text=\"device.type\"></div>\n      </div>\n\n      <div class=\"row\" v-if=\"device.definition?.vendor\">\n        <div class=\"param-name\">Vendor</div>\n        <div class=\"param-value\">\n          {{ device.definition.vendor }}\n        </div>\n      </div>\n\n      <div class=\"row\" v-if=\"device.definition?.model\">\n        <div class=\"param-name\">Model</div>\n        <div class=\"param-value\">\n          {{ device.definition.model }}\n        </div>\n      </div>\n\n      <div class=\"row\" v-if=\"device.model_id\">\n        <div class=\"param-name\">Model ID</div>\n        <div class=\"param-value\">\n          {{ device.model_id }}\n        </div>\n      </div>\n\n      <div class=\"row\" v-if=\"device.definition?.description\">\n        <div class=\"param-name\">Description</div>\n        <div class=\"param-value\">\n          {{ device.definition.description }}\n        </div>\n      </div>\n\n      <div class=\"row\" v-if=\"device.software_build_id\">\n        <div class=\"param-name\">Software Build ID</div>\n        <div class=\"param-value\">\n          {{ device.software_build_id }}\n        </div>\n      </div>\n\n      <div class=\"row\" v-if=\"device.definition?.date_code\">\n        <div class=\"param-name\">Date Code</div>\n        <div class=\"param-value\">\n          {{ device.definition.date_code }}\n        </div>\n      </div>\n\n      <div class=\"row\" v-if=\"device.power_source\">\n        <div class=\"param-name\">Power Source</div>\n        <div class=\"param-value\">\n          {{ device.power_source }}\n        </div>\n      </div>\n\n      <div class=\"section values\" v-if=\"Object.keys(displayedValues).length\">\n        <div class=\"header\">\n          <div class=\"title\">Values</div>\n        </div>\n\n        <div class=\"body\">\n          <div class=\"row value\" v-for=\"(value, property) in displayedValues\" :key=\"property\">\n            <div class=\"param-name\">\n              {{ value.description }}\n              <span class=\"text\" v-if=\"rgbColor != null && (value.value?.x != null && value.value?.y != null) ||\n                                       (value.value?.hue != null && value.value?.saturation != null)\">Color</span>\n              <span class=\"name\" v-text=\"value.property\" v-if=\"value.property\" />\n              <span class=\"unit\" v-text=\"value.unit\" v-if=\"value.unit\" />\n            </div>\n\n            <div class=\"param-value\">\n              <ToggleSwitch :value=\"value.value_on != null ? value.value === value.value_on : !!value.value\"\n                            :disabled=\"!value.writable\" v-if=\"value.type === 'binary'\"\n                            @input=\"setValue(value, $event)\" />\n\n              <Slider :with-label=\"true\" :range=\"[value.value_min, value.value_max]\" :value=\"value.value\"\n                      :disabled=\"!value.writable\" @change=\"setValue(value, $event)\"\n                      v-else-if=\"value.type === 'numeric' && value.value_min != null && value.value_max != null\" />\n\n              <label v-else-if=\"value.type === 'numeric' && (value.value_min == null || value.value_max == null)\">\n                <input type=\"number\" :with-label=\"true\" :value=\"value.value\" :disabled=\"!value.writable\"\n                       @change=\"setValue(value, $event)\" />\n              </label>\n\n              <label v-else-if=\"value.type === 'enum'\">\n                <select :value=\"value.readable && value.value != null ? value.value : ''\"\n                        @change=\"setValue(value, $event)\">\n                  <option v-if=\"!value.readable\" />\n                  <option v-for=\"option in value.values\" :key=\"option\" :value=\"option\" v-text=\"option\"\n                          :selected=\"value.readable && value.value === option\" :disabled=\"!value.writable\" />\n                </select>\n              </label>\n\n              <label v-else-if=\"rgbColor != null && (value.value?.x != null && value.value?.y != null) ||\n                                (value.value?.hue != null && value.value?.saturation != null)\">\n                <input type=\"color\" @change.stop=\"setValue(value, $event)\"\n                       :value=\"'#' + rgbColor.map((i) => { i = Number(i).toString(16); return i.length === 1 ? '0' + i : i }).join('')\" />\n              </label>\n\n              <label v-else>\n                <input type=\"text\" :disabled=\"!value.writable\" :value=\"value.value\" @change=\"setValue(value, $event)\" />\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"section actions\">\n        <div class=\"header\">\n          <div class=\"title\">Actions</div>\n        </div>\n\n        <div class=\"body\">\n          <div class=\"row\" @click=\"$refs.groupsModal.show()\">\n            <div class=\"param-name\">Manage groups</div>\n            <div class=\"param-value\">\n              <i class=\"fa fa-network-wired\" />\n            </div>\n          </div>\n\n          <div class=\"row\" @click=\"otaUpdatesAvailable ? installOtaUpdates() : checkOtaUpdates()\">\n            <div class=\"param-name\" v-if=\"!otaUpdatesAvailable\">Check for updates</div>\n            <div class=\"param-name\" v-else>Install updates</div>\n            <div class=\"param-value\">\n              <i class=\"fa fa-sync-alt\" />\n            </div>\n          </div>\n\n          <div class=\"row\" @click=\"remove(false)\">\n            <div class=\"param-name\">Remove Device</div>\n            <div class=\"param-value\">\n              <i class=\"fa fa-trash\" />\n            </div>\n          </div>\n\n          <div class=\"row error\" @click=\"remove(true)\">\n            <div class=\"param-name\">Force Remove Device</div>\n            <div class=\"param-value\">\n              <i class=\"fa fa-trash\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from \"@/components/Loading\";\nimport Slider from \"@/components/elements/Slider\";\nimport ToggleSwitch from \"@/components/elements/ToggleSwitch\";\nimport Utils from \"@/Utils\";\nimport {ColorConverter} from \"@/components/panels/Light/color\";\nimport Modal from \"@/components/Modal\";\n\nexport default {\n  name: \"Device\",\n  components: {Modal, ToggleSwitch, Slider, Loading},\n  mixins: [Utils],\n  emits: ['select', 'rename', 'remove', 'groups-edit'],\n\n  props: {\n    device: {\n      type: Object,\n      required: true,\n    },\n\n    groups: {\n      type: Object,\n      default: () => {},\n    },\n\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  data() {\n    return {\n      editName: false,\n      loading: false,\n      status: {},\n      otaUpdatesAvailable: false,\n    }\n  },\n\n  computed: {\n    values() {\n      if (!this.device.definition?.exposes)\n        return {}\n\n      const extractValues = (values) => {\n        const extractValue = (value, root) => {\n          if (!value.features) {\n            if (value.property)\n              root[value.property] = value\n\n            return\n          }\n\n          if (value.property) {\n            root[value.property] = root[value.property] || {}\n            root = root[value.property]\n          }\n\n          for (const feature of value.features)\n            extractValue(feature, root)\n        }\n\n        const ret = {}\n        for (const value of values)\n          extractValue(value, ret)\n\n        return ret\n      }\n\n      return extractValues(this.device.definition.exposes)\n    },\n\n    displayedValues() {\n      const ret = {}\n      const mergeValues = (obj, [key, value]) => {\n        if (key in this.status)\n          value = {\n            ...value,\n            value: this.status[key]\n          }\n\n        if (value.access != null) {\n          value.readable = !!(value.access & 0x1)\n          value.writable = !!(value.access & 0x2)\n          delete value.access\n        }\n\n        obj[key] = value\n        Object.entries(value).filter((v) => v[1] instanceof Object).reduce(mergeValues, obj[key])\n        return obj\n      }\n\n      Object.entries(this.values).reduce(mergeValues, ret)\n      return ret\n    },\n\n    rgbColor() {\n      if (!this.displayedValues.color)\n        return\n\n      const color = this.displayedValues.color?.value\n      if (!color)\n        return\n\n      if (color.x != null && color.y != null) {\n        const converter = new ColorConverter({\n          bri: [this.displayedValues.brightness?.value_min || 0, this.displayedValues.brightness?.value_max || 255],\n        })\n\n        return converter.xyToRgb(color.x, color.y, this.displayedValues.brightness.value)\n      } else\n      if (color.hue != null && (color.saturation != null || color.sat != null)) {\n        const satAttr = color.saturation != null ? 'saturation' : 'sat'\n        const converter = new ColorConverter({\n          hue: [this.displayedValues.color.hue?.value_min || 0, this.displayedValues.color.hue.value_max || 65535],\n          sat: [this.displayedValues.color[satAttr]?.value_min || 0, this.displayedValues.color[satAttr].value_max || 255],\n          bri: [this.displayedValues.brightness?.value_min || 0, this.displayedValues.brightness?.value_max || 255],\n        })\n\n        return converter.hslToRgb(color.hue, color[satAttr], this.displayedValues.brightness.value)\n      }\n\n      return null\n    },\n\n    associatedGroups() {\n      return new Set(Object.values(this.groups)\n          .filter((group) => new Set(\n              (group.members || []).map((member) => member.ieee_address)).has(this.device.ieee_address))\n          .map((group) => parseInt(group.id)))\n    },\n  },\n\n  methods: {\n    async refresh() {\n      this.loading = true\n      try {\n        this.status = await this.request('zigbee.mqtt.device_get',\n            {device: this.device.friendly_name || this.device.ieee_address})\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async rename() {\n      const name = (this.$refs.name.value || '').trim()\n      if (!name.length || name === this.device.friendly_name)\n        return\n\n      this.loading = true\n      try {\n        await this.request('zigbee.mqtt.device_rename', {\n          device: this.device.friendly_name?.length ? this.device.friendly_name : this.device.ieee_address,\n          name: name,\n        })\n\n        this.$emit('rename', {name: this.device.friendly_name, newName: name});\n      } finally {\n        this.editName = false\n        this.loading = false\n      }\n    },\n\n    async remove(force) {\n      if (!confirm('Are you really sure that you want to remove this device from the network?'))\n        return\n\n      force = !!force\n      this.loading = true\n      try {\n        await this.request('zigbee.mqtt.device_remove', {\n          device: this.device.friendly_name?.length ? this.device.friendly_name : this.device.ieee_address,\n          force: force,\n        })\n\n        this.$emit('remove', {device: this.device.friendly_name || this.device.ieee_address});\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async setValue(value, event) {\n      const request = {\n        device: this.device.friendly_name || this.device.ieee_address,\n        property: value.property,\n        value: null,\n      }\n\n      switch (value.type) {\n        case 'binary':\n          if (value.value_toggle) {\n            request.value = value.value_toggle\n          } else if (value.value_on && value.value_off) {\n            request.value = value.value === value.value_on ? value.value_off : value.value_on\n          } else {\n            request.value = !value.value\n          }\n          break\n\n        case 'numeric':\n          request.value = parseFloat(event.target.value)\n          break\n\n        case 'enum':\n          if (event.target.value?.length) {\n            request.value = event.target.value\n          }\n          break\n\n        default:\n          if ((value.x != null && value.y != null) || (value.hue != null && (value.saturation != null || value.sat != null))) {\n            request.property = 'color'\n            const rgb = event.target.value.slice(1)\n                .split(/([0-9a-fA-F]{2})/)\n                .filter((_, i) => i % 2)\n                .map((i) => parseInt(i, 16))\n\n            if ((value.x != null && value.y != null)) {\n              const converter = new ColorConverter({\n                bri: [this.displayedValues.brightness?.value_min || 0, this.displayedValues.brightness?.value_max || 255],\n              })\n\n              const xy = converter.rgbToXY(...rgb)\n              request.value = {\n                x: xy[0],\n                y: xy[1],\n              }\n            } else {\n              const satAttr = this.displayedValues.color.saturation != null ? 'saturation' : 'sat'\n              const converter = new ColorConverter({\n                hue: [this.displayedValues.color.hue?.value_min || 0, this.displayedValues.color.hue.value_max || 65535],\n                sat: [this.displayedValues.color[satAttr]?.value_min || 0, this.displayedValues.color[satAttr].value_max || 255],\n                bri: [this.displayedValues.brightness?.value_min || 0, this.displayedValues.brightness?.value_max || 255],\n              })\n\n              const hsl = converter.rgbToHsl(...rgb)\n              request.value = {\n                hue: hsl[0],\n              }\n\n              request.value[satAttr] = hsl[1]\n            }\n          }\n          break\n      }\n\n      if (request.value == null)\n        return\n\n      this.loading = true\n      try {\n        await this.request('zigbee.mqtt.device_set', request)\n        await this.refresh()\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async manageGroups(event) {\n      const groups = [...event.target.querySelectorAll('input[type=checkbox]')].reduce((obj, element) => {\n        const groupId = parseInt(element.value)\n        if (element.checked && !this.associatedGroups.has(groupId))\n          obj.add.add(groupId)\n        else if (!element.checked && this.associatedGroups.has(groupId))\n          obj.remove.add(groupId)\n\n        return obj\n      }, {add: new Set(), remove: new Set()})\n\n      const editGroups = async (action) => {\n        await Promise.all([...groups[action]].map(async (groupId) => {\n          await this.request(`zigbee.mqtt.group_${action}_device`, {\n            group: this.groups[groupId].friendly_name,\n            device: this.device.friendly_name?.length ? this.device.friendly_name : this.device.ieee_address,\n          })\n        }))\n      }\n\n      this.loading = true\n      try {\n        await Promise.all(Object.keys(groups).map(editGroups))\n        this.$emit('groups-edit', groups)\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async checkOtaUpdates() {\n      this.loading = true\n      try {\n        this.otaUpdatesAvailable = (await this.request('zigbee.mqtt.device_check_ota_updates', {\n          device: this.device.friendly_name?.length ? this.device.friendly_name : this.device.ieee_address,\n        })).update_available\n\n        if (this.otaUpdatesAvailable)\n          this.notify({\n            text: 'A firmware update is available for the device',\n            image: {\n              iconClass: 'fa fa-sync-alt',\n            }\n          })\n        else\n          this.notify({\n            text: 'The device is up to date',\n            image: {\n              iconClass: 'fa fa-check',\n            }\n          })\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async installOtaUpdates() {\n      this.loading = true\n      try {\n        await this.request('zigbee.mqtt.device_install_ota_updates', {\n          device: this.device.friendly_name?.length ? this.device.friendly_name : this.device.ieee_address,\n        })\n      } finally {\n        this.loading = false\n      }\n    },\n  },\n\n  mounted() {\n    this.$watch(() => this.selected, (newValue) => {\n      if (newValue)\n        this.refresh()\n    })\n\n    this.$watch(() => this.status.update_available, (newValue) => {\n      this.otaUpdatesAvailable = newValue\n    })\n\n    this.subscribe((event) => {\n      if (event.device !== this.device.friendly_name && event.device !== this.device.ieee_address)\n        return\n\n      this.status = {...this.status, ...event.properties}\n    }, `on-property-change-${this.device.ieee_address}`,\n        'platypush.message.event.zigbee.mqtt.ZigbeeMqttDevicePropertySetEvent')\n  },\n\n  unmounted() {\n    this.unsubscribe(`on-property-change-${this.device.ieee_address}`)\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"common\";\n\n.groups-modal {\n  .content {\n    min-width: 20em;\n    margin: -2em;\n    padding: 0;\n    border: none;\n    box-shadow: none;\n  }\n\n  .group {\n    width: 100%;\n    display: flex;\n    align-items: center;\n    padding: .5em 1em !important;\n\n    input[type=checkbox] {\n      margin-right: 1em;\n    }\n  }\n\n  .groups {\n    width: 100%;\n    height: calc(100% - 3.5em);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow: auto;\n  }\n\n  .footer {\n    width: 100%;\n    height: 3.5em;\n    display: flex;\n    justify-content: right;\n    align-items: center;\n    padding: 0;\n    background: $default-bg-2;\n    border-top: $default-border-2;\n  }\n}\n\n@media screen and (max-width: $tablet) {\n  .section.actions {\n    .row {\n      flex-direction: row-reverse;\n      justify-content: left;\n\n      .param-name {\n        width: auto;\n      }\n\n      .param-value {\n        width: 1.5em;\n        margin-right: .5em;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./Device.vue?vue&type=template&id=6437b841&scoped=true\"\nimport script from \"./Device.vue?vue&type=script&lang=js\"\nexport * from \"./Device.vue?vue&type=script&lang=js\"\n\nimport \"./Device.vue?vue&type=style&index=0&id=6437b841&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6437b841\"]])\n\nexport default __exports__","<template>\n  <div class=\"item group\" :class=\"{selected: selected}\">\n    <Loading v-if=\"loading\" />\n    <div class=\"row name header vertical-center\" :class=\"{selected: selected}\"\n         v-text=\"group.friendly_name\" @click=\"$emit('select')\" />\n\n    <div class=\"params\" v-if=\"selected\">\n      <div class=\"section devices\">\n        <div class=\"header\">\n          <div class=\"title\">Devices</div>\n        </div>\n\n        <div class=\"body\">\n          <form>\n            <label class=\"row\" v-for=\"(device, id) in devices\" :key=\"id\">\n              <input type=\"checkbox\" :checked=\"members.has(device.ieee_address)\" :value=\"device.ieee_address\"\n                     @change=\"toggleDevice(device.ieee_address)\" />\n              <span class=\"label\" v-text=\"device.friendly_name?.length ? device.friendly_name : device.ieee_address\" />\n            </label>\n          </form>\n        </div>\n      </div>\n\n      <div class=\"section actions\">\n        <div class=\"header\">\n          <div class=\"title\">Actions</div>\n        </div>\n\n        <div class=\"body\">\n          <div class=\"row\" @click=\"rename\">\n            <div class=\"col-10\">Rename Group</div>\n            <div class=\"buttons col-2 pull-right\">\n              <i class=\"fa fa-edit\"></i>\n            </div>\n          </div>\n\n          <div class=\"row\" @click=\"remove\">\n            <div class=\"col-10\">Remove Group</div>\n            <div class=\"buttons col-2 pull-right\">\n              <i class=\"fa fa-trash\"></i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from \"@/components/Loading\";\nimport Utils from \"@/Utils\";\n\nexport default {\n  name: \"Group\",\n  emits: ['select', 'remove', 'edit'],\n  mixins: [Utils],\n  components: {Loading},\n\n  props: {\n    group: {\n      type: Object,\n      required: true,\n    },\n\n    devices: {\n      type: Object,\n      default: () => { return {} },\n    },\n\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  data() {\n    return {\n      loading: false,\n      values: {},\n    }\n  },\n\n  computed: {\n    devicesByAddress() {\n      return Object.entries(this.devices).reduce((obj, entry) => {\n        const device = entry[1]\n        obj[device.ieee_address] = device\n        return obj\n      }, {})\n    },\n\n    members() {\n      return new Set((this.group.members || []).map((member) => member.ieee_address))\n    },\n  },\n\n  methods: {\n    async remove() {\n      if (!confirm('Are you sure that you want to remove this group?'))\n        return\n\n      this.loading = true\n      try {\n        await this.request('zigbee.mqtt.group_remove', {name: this.group.friendly_name})\n        this.$emit('remove', {name: this.group.friendly_name})\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async rename() {\n      let name = prompt('New group name', this.group.friendly_name)\n      if (!name?.length)\n        return\n\n      name = name.trim()\n      this.loading = true\n\n      try {\n        await this.request('zigbee.mqtt.group_rename', {\n          group: this.group.friendly_name || this.group.id,\n          name: name,\n        })\n\n        this.$emit('rename', {name: this.group.friendly_name, newName: name})\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async toggleDevice(ieeeAddress) {\n      const device = this.devicesByAddress[ieeeAddress]\n      const name = device.friendly_name?.length ? device.friendly_name : ieeeAddress\n      const method = this.members.has(ieeeAddress) ? 'remove' : 'add'\n\n      this.loading = true\n      try {\n        await this.request(`zigbee.mqtt.group_${method}_device`, {\n          group: this.group.friendly_name,\n          device: name,\n        })\n\n        this.$emit('edit', {device: name, method: method})\n      } finally {\n        this.loading = false\n      }\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"common\";\n\n.section {\n  padding-left: 1em !important;\n}\n\nform {\n  margin: 0;\n  padding: 0;\n  border: none;\n  box-shadow: none;\n\n  .row {\n    background: none !important;\n\n    &:hover {\n      background: $hover-bg !important;\n    }\n\n    .label {\n      margin-left: .75em;\n      font-weight: normal;\n    }\n  }\n}\n</style>\n","import { render } from \"./Group.vue?vue&type=template&id=7667f7ba&scoped=true\"\nimport script from \"./Group.vue?vue&type=script&lang=js\"\nexport * from \"./Group.vue?vue&type=script&lang=js\"\n\nimport \"./Group.vue?vue&type=style&index=0&id=7667f7ba&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7667f7ba\"]])\n\nexport default __exports__","import { render } from \"./Index.vue?vue&type=template&id=5c7b8224\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\nimport \"./Index.vue?vue&type=style&index=0&id=5c7b8224&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["ColorConverter","constructor","ranges","this","hue","sat","bri","ct","attr","Object","keys","normalize","x","xRange","yRange","hslToRgb","h","s","l","a","Math","min","f","n","k","color","max","round","rgbToHsl","r","g","b","d","parseInt","xyToRgb","y","brightness","z","Y","toFixed","X","Z","red","green","blue","pow","isNaN","map","c","rgbToXY","parseFloat","rgbToBri","getRGB","rgb","getXY","xy","toRGB","console","debug","toXY","toHSL","hexToRgb","hex","slice","_","rgbToHex","toString","length","join","class","ref","_createElementBlock","_hoisted_1","_createElementVNode","title","$props","onClick","_cache","_withModifiers","$event","$options","toggle","iconClass","_normalizeClass","text","_toDisplayString","_hoisted_4","_createVNode","_component_DropdownBody","id","keepOpenOnItemClick","style","_normalizeStyle","_renderSlot","_ctx","$slots","undefined","components","DropdownBody","emits","props","type","String","default","Boolean","data","visible","computed","button","el","$refs","$el","querySelector","buttonStyle","getComputedStyle","buttonWidth","width","buttonHeight","height","methods","documentClickHndl","event","element","target","classList","contains","parentElement","close","getDropdownWidth","dropdown","getDropdownHeight","tagName","preventDefault","defaultPrevented","stopPropagation","document","removeEventListener","bus","emit","open","addEventListener","appendChild","dropdownContainer","remove","$nextTick","adjustDropdownPos","buttonRect","getBoundingClientRect","buttonPos","left","window","scrollX","top","scrollY","pos","dropdownWidth","dropdownHeight","innerWidth","innerHeight","newPosTop","add","$emit","onKeyUp","key","mounted","body","unmounted","__exports__","render","itemClass_","disabled","hoverText","args","clicked","iconUrl","_hoisted_2","_component_Icon","url","Icon","itemClass","$parent","src","alt","className","withRange","withLabel","range","step","value","onInput","onChange","Number","Array","checked","_hoisted_3","name","_hoisted_36","_hoisted_39","$data","loading","_createBlock","_component_Loading","_component_Modal","status","info","state","_hoisted_6","_hoisted_7","permit_join","network","_hoisted_9","_hoisted_10","channel","_hoisted_12","_hoisted_13","version","config","mqtt","_hoisted_15","_hoisted_16","server","serial","_hoisted_18","_hoisted_19","port","coordinator","_hoisted_21","_hoisted_22","meta","_hoisted_24","_hoisted_25","_hoisted_26","maintrel","majorrel","minorrel","_hoisted_27","_hoisted_28","revision","_hoisted_30","_hoisted_31","selected","view","_Fragment","_renderList","views","enabled","toUpperCase","replace","_hoisted_34","addGroup","_component_Dropdown","_component_DropdownItem","infoModal","show","permitJoin","factoryReset","refresh","_hoisted_41","_hoisted_42","devices","_hoisted_43","_hoisted_44","_hoisted_45","device","_component_Device","groups","deviceId","onSelect","onRename","refreshDevices","onRemove","onGroupsEdit","refreshGroups","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","group","_component_Group","groupId","onEdit","_hoisted_17","_hoisted_70","_hoisted_71","_hoisted_76","_hoisted_77","_hoisted_79","_hoisted_80","onSubmit","manageGroups","associatedGroups","has","friendly_name","ieee_address","_hoisted_8","hidden","editName","rename","_hoisted_11","_hoisted_14","_hoisted_20","network_address","_hoisted_23","definition","vendor","_hoisted_29","model","_hoisted_32","_hoisted_33","model_id","_hoisted_35","description","_hoisted_37","_hoisted_38","software_build_id","_hoisted_40","date_code","power_source","displayedValues","_hoisted_50","_hoisted_51","property","_hoisted_52","rgbColor","saturation","_hoisted_53","unit","_hoisted_56","_component_ToggleSwitch","value_on","writable","setValue","value_min","value_max","_component_Slider","_hoisted_59","readable","_hoisted_61","values","option","_hoisted_63","i","_hoisted_65","_hoisted_57","_hoisted_67","_hoisted_68","_hoisted_69","groupsModal","otaUpdatesAvailable","installOtaUpdates","checkOtaUpdates","_hoisted_74","_hoisted_73","_hoisted_75","Modal","ToggleSwitch","Slider","Loading","mixins","Utils","required","exposes","extractValues","extractValue","root","features","feature","ret","mergeValues","obj","access","entries","filter","v","reduce","converter","satAttr","Set","members","member","request","trim","newName","force","confirm","value_toggle","value_off","split","hsl","querySelectorAll","editGroups","async","Promise","all","action","update_available","notify","image","$watch","newValue","subscribe","properties","unsubscribe","_hoisted_5","toggleDevice","devicesByAddress","entry","prompt","ieeeAddress","method","Dropdown","DropdownItem","Device","Group","modal","refreshInfo","updateProperties","permit","seconds","setTimeout","addToGroup","self","created","error"],"sourceRoot":""}