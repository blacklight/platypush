(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[7401],{6791:function(e,s,a){"use strict";a.d(s,{Z:function(){return d}});var n=a(6252);const t={class:"loading"},i={class:"icon"};function l(e,s){return(0,n.wg)(),(0,n.iD)("div",t,[(0,n._)("div",i,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(4,(e=>(0,n._)("div",{key:e}))),64))])])}var c=a(3744);const o={},r=(0,c.Z)(o,[["render",l],["__scopeId","data-v-4d9c871b"]]);var d=r},2419:function(e,s,a){"use strict";a.d(s,{Z:function(){return A}});var n=a(6252),t=a(3577);const i=e=>((0,n.dD)("data-v-bab139d4"),e=e(),(0,n.Cn)(),e),l=i((()=>(0,n._)("i",{class:"fas fa-bars"},null,-1))),c=["textContent"],o=["title"],r={key:0,class:"plugins"},d={href:"/#"},f=i((()=>(0,n._)("i",{class:"fas fa-home"},null,-1))),p={key:0,class:"name"},m=["title","onClick"],u={href:"/#settings"},g={class:"icon"},h=["src"],x={key:2,class:"fas fa-puzzle-piece"},k=["textContent"],v={key:1,class:"plugins"},w=["title","onClick"],y=["href"],C={class:"icon"},I=["textContent"],_={class:"footer"},b={href:"/#extensions"},D=i((()=>(0,n._)("span",{class:"icon"},[(0,n._)("i",{class:"fa fa-puzzle-piece"})],-1))),P={key:0,class:"name"},M={href:"/#settings"},S=i((()=>(0,n._)("span",{class:"icon"},[(0,n._)("i",{class:"fa fa-cog"})],-1))),z={key:0,class:"name"},q={href:"/logout"},Z=i((()=>(0,n._)("span",{class:"icon"},[(0,n._)("i",{class:"fas fa-sign-out-alt"})],-1))),E={key:0,class:"name"};function U(e,s,a,i,U,$){const N=(0,n.up)("ExtensionIcon");return(0,n.wg)(),(0,n.iD)("nav",{class:(0,t.C_)({collapsed:U.collapsed})},[(0,n._)("div",{class:"toggler",onClick:s[0]||(s[0]=e=>U.collapsed=!U.collapsed)},[l,a.hostname?((0,n.wg)(),(0,n.iD)("span",{key:0,class:"hostname",textContent:(0,t.zw)(a.hostname)},null,8,c)):(0,n.kq)("",!0),(0,n._)("i",{class:(0,t.C_)(["icon status fas fa-circle",{ok:U.connected,error:!U.connected}]),title:U.connected?"Connected":"Disconnected"},null,10,o)]),"settings"===a.selectedPanel?((0,n.wg)(),(0,n.iD)("ul",r,[(0,n._)("li",{class:"entry",title:"Home",onClick:s[1]||(s[1]=e=>$.onItemClick("entities"))},[(0,n._)("a",d,[f,U.collapsed?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",p,"Home"))])]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(U.configSections,((s,i)=>((0,n.wg)(),(0,n.iD)("li",{key:i,class:(0,t.C_)(["entry",{selected:i===a.selectedConfigPanel}]),title:s.name,onClick:s=>e.$emit("select-config",i)},[(0,n._)("a",u,[(0,n._)("span",g,[s.icon?.["class"]?((0,n.wg)(),(0,n.iD)("i",{key:0,class:(0,t.C_)(s.icon["class"])},null,2)):s.icon?.imgUrl?((0,n.wg)(),(0,n.iD)("img",{key:1,src:s.icon?.imgUrl,alt:"name"},null,8,h)):((0,n.wg)(),(0,n.iD)("i",x))]),U.collapsed?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",{key:0,class:"name",textContent:(0,t.zw)(s.name)},null,8,k))])],10,m)))),128))])):((0,n.wg)(),(0,n.iD)("ul",v,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)($.panelNames,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e,class:(0,t.C_)(["entry",{selected:e===a.selectedPanel}]),title:e,onClick:s=>$.onItemClick(e)},[(0,n._)("a",{href:`/#${e}`},[(0,n._)("span",C,[$.specialPlugins.includes(e)?((0,n.wg)(),(0,n.iD)("i",{key:0,class:(0,t.C_)(U.icons[e].class)},null,2)):((0,n.wg)(),(0,n.j4)(N,{key:1,name:e,size:"1.5em"},null,8,["name"]))]),U.collapsed?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",{key:0,class:"name",textContent:(0,t.zw)($.displayName(e))},null,8,I))],8,y)],10,w)))),128))])),(0,n._)("ul",_,[(0,n._)("li",{class:(0,t.C_)({selected:"extensions"===a.selectedPanel}),title:"Extensions",onClick:s[2]||(s[2]=e=>$.onItemClick("extensions"))},[(0,n._)("a",b,[D,U.collapsed?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",P,"Extensions"))])],2),(0,n._)("li",{class:(0,t.C_)({selected:"settings"===a.selectedPanel}),title:"Settings",onClick:s[3]||(s[3]=e=>$.onItemClick("settings"))},[(0,n._)("a",M,[S,U.collapsed?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",z,"Settings"))])],2),(0,n._)("li",{title:"Logout",onClick:s[4]||(s[4]=e=>$.onItemClick("logout"))},[(0,n._)("a",q,[Z,U.collapsed?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("span",E,"Logout"))])])])],2)}var $=a(1359),N=a(2126),j=a(8637),O=JSON.parse('{"users":{"name":"Users","icon":{"class":"fas fa-user"}},"tokens":{"name":"Tokens","icon":{"class":"fas fa-key"}},"application":{"name":"Application","icon":{"class":"fas fa-gears"}}}'),L=a(5250),T={name:"Nav",emits:["select","select-config"],mixins:[j.Z],components:{ExtensionIcon:N.Z},props:{panels:{type:Object,required:!0},selectedPanel:{type:String},selectedConfigPanel:{type:String},hostname:{type:String}},computed:{specialPlugins(){return["execute","entities"]},panelNames(){const e=(e,a)=>{const n=s.indexOf(a);return n>=0&&(e=[a].concat(e.slice(0,n).concat(e.slice(n+1)))),e};let s=Object.keys(this.panels).sort();return s=e(s,"execute"),s=e(s,"entities"),s},collapsedDefault(){return!(!this.isMobile()&&!this.isTablet())}},methods:{onItemClick(e){this.$emit("select",e),this.collapsed=!!this.isMobile()||this.collapsedDefault},displayName(e){return"entities"===e?"Home":"execute"===e?"Execute":e},setConnected(e){this.connected=e}},data(){return{collapsed:!0,connected:!1,icons:$,host:null,configSections:O}},mounted(){this.collapsed=this.collapsedDefault,L.$.on("connect",(()=>this.setConnected(!0))),L.$.on("disconnect",(()=>this.setConnected(!1))),this.$watch((()=>this.$root.connected),(e=>this.setConnected(e))),this.setConnected(this.$root.connected)}},H=a(3744);const Y=(0,H.Z)(T,[["render",U],["__scopeId","data-v-bab139d4"]]);var A=Y},8665:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return w}});var n=a(6252),t=a(3577);const i={key:2,class:"canvas"},l={class:"panel"},c={key:3,class:"canvas"},o={class:"panel"},r={key:4,class:"canvas"};function d(e,s,a,d,f,p){const m=(0,n.up)("Loading"),u=(0,n.up)("Nav"),g=(0,n.up)("Settings"),h=(0,n.up)("Extensions");return(0,n.wg)(),(0,n.iD)("main",null,[f.loading?((0,n.wg)(),(0,n.j4)(m,{key:0})):((0,n.wg)(),(0,n.j4)(u,{key:1,panels:f.components,"selected-panel":f.selectedPanel,"selected-config-panel":f.selectedConfigPanel,hostname:f.hostname,onSelect:s[0]||(s[0]=e=>f.selectedPanel=e),onSelectConfig:s[1]||(s[1]=e=>f.selectedConfigPanel=e)},null,8,["panels","selected-panel","selected-config-panel","hostname"])),"settings"===f.selectedPanel?((0,n.wg)(),(0,n.iD)("div",i,[(0,n._)("div",l,[(0,n.Wm)(g,{"selected-panel":f.selectedConfigPanel},null,8,["selected-panel"])])])):"extensions"===f.selectedPanel?((0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",o,[(0,n.Wm)(h)])])):((0,n.wg)(),(0,n.iD)("div",r,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(f.components,((e,s)=>((0,n.wg)(),(0,n.iD)("div",{class:(0,t.C_)(["panel",{hidden:s!==f.selectedPanel}]),key:s},[s===f.selectedPanel?((0,n.wg)(),(0,n.j4)((0,n.LL)(e.component),{key:0,config:e.config,"plugin-name":s},null,8,["config","plugin-name"])):(0,n.kq)("",!0)],2)))),128))]))])}var f=a(2262),p=a(8637),m=a(6791),u=a(2419),g=a(2018),h=a(4084),x={name:"Panel",mixins:[p.Z],components:{Extensions:g["default"],Settings:h["default"],Nav:u.Z,Loading:m.Z},data(){return{loading:!1,plugins:{},backends:{},procedures:{},components:{},hostname:void 0,selectedPanel:void 0,selectedConfigPanel:"users"}},methods:{initSelectedPanel(){const e=this.$route.hash.match(/^#?([a-zA-Z0-9_.]+)(\?(.+?))?/),s=e?e[1]:"entities";s?.length&&(this.selectedPanel=s)},initPanels(){const e=this;this.components={},Object.entries(this.plugins).forEach((async([s,t])=>{const i=s.split(".").map((e=>e[0].toUpperCase()+e.slice(1))).join("");let l=null;try{l=await a(3379)(`./${i}/Index`)}catch(o){return}const c=(0,f.XI)((0,n.RC)((async()=>l)));e.$options.components[s]=c,e.components[s]={component:c,pluginName:s,config:t}}))},async parseConfig(){[this.plugins,this.backends,this.procedures,this.hostname]=await Promise.all([this.request("config.get_plugins"),this.request("config.get_backends"),this.request("config.get_procedures"),this.request("config.get_device_id")]),this.initializeDefaultViews()},initializeDefaultViews(){this.plugins.entities={},this.plugins.execute={}}},async mounted(){this.loading=!0;try{await this.parseConfig(),this.initPanels(),this.initSelectedPanel(),this.$watch("$route.hash",this.initSelectedPanel)}finally{this.loading=!1}}},k=a(3744);const v=(0,k.Z)(x,[["render",d],["__scopeId","data-v-871fbba0"]]);var w=v},3379:function(e,s,a){var n={"./Alarm/Index":[1949,7651,5933,9549,2844,6016,2992,735,6281,58,1807,9381,8224,1949],"./Camera/Index":[5324,8039,5324],"./CameraAndroidIpcam/Index":[3924,3924],"./CameraCv/Index":[6148,8039,6148],"./CameraFfmpeg/Index":[9334,8039,9334],"./CameraGstreamer/Index":[813,8039,813],"./CameraIrMlx90640/Index":[7381,8039,7381],"./CameraPi/Index":[5214,8039,8895],"./CameraPiLegacy/Index":[1512,8039,1512],"./Entities/Index":[7878,5933,9549,2992,669,2154,8224,7878],"./Execute/Index":[4221,5933,735,1807,5197],"./Extensions/Index":[2018,5933,735,58,2924,6217,2018,3862],"./Light/Index":[9751,7651,2844,9751],"./LightHue/Index":[2976,7651,2844,9751,2976],"./Media/Index":[3033,7651,5933,9549,906,2582,6016,2577,182,3033],"./Media/Providers/YouTube/Index":[2200,2200],"./MediaMplayer/Index":[3518,7651,5933,9549,906,2582,6016,2577,182,3033,3518],"./MediaMpv/Index":[4765,7651,5933,9549,906,2582,6016,2577,182,3033,4765],"./MediaOmxplayer/Index":[7819,7651,5933,9549,906,2582,6016,2577,182,3033,7819],"./MediaVlc/Index":[2614,7651,5933,9549,906,2582,6016,2577,182,3033,2614],"./Music/Index":[288,7651,5933,9549,906,2582,288],"./MusicMopidy/Index":[3400,7651,5933,9549,906,2582,288,3400],"./MusicMpd/Index":[3083,7651,5933,9549,906,2582,288,3083],"./MusicSnapcast/Index":[5285,7651,2844,5285],"./MusicSpotify/Index":[4053,7651,5933,9549,906,2582,288,4053],"./Rtorrent/Index":[2183,5933,9549,2577,6429,2183],"./Settings/Index":[4084,5933,9549,6281,2924,4084],"./Sound/Index":[746,746],"./Torrent/Index":[8784,5933,9549,2577,6429,8784],"./Tts/Index":[3732,8069,3732],"./TtsGoogle/Index":[7605,8069,2853],"./TtsPicovoice/Index":[7089,8069,7089],"./TvSamsungWs/Index":[4589,4589],"./ZigbeeMqtt/Index":[1259,7651,5933,9549,2844,1259],"./Zwave/Index":[2732,7651,5933,9549,2844,7880,2732],"./ZwaveMqtt/Index":[1088,7651,5933,9549,2844,7880,1088]};function t(e){if(!a.o(n,e))return Promise.resolve().then((function(){var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}));var s=n[e],t=s[0];return Promise.all(s.slice(1).map(a.e)).then((function(){return a(t)}))}t.keys=function(){return Object.keys(n)},t.id=3379,e.exports=t},1359:function(e){"use strict";e.exports=JSON.parse('{"alarm":{"class":"fas fa-stopwatch"},"arduino":{"class":"fas fa-microchip"},"assistant.google":{"class":"fas fa-microphone-lines"},"assistant.openai":{"class":"fas fa-microphone-lines"},"assistant.picovoice":{"class":"fas fa-microphone-lines"},"bluetooth":{"class":"fab fa-bluetooth"},"camera.android.ipcam":{"class":"fab fa-android"},"camera.cv":{"class":"fas fa-camera"},"camera.ffmpeg":{"class":"fas fa-camera"},"camera.gstreamer":{"class":"fas fa-camera"},"camera.ir.mlx90640":{"class":"fas fa-sun"},"camera.pi":{"class":"fas fa-camera"},"camera.pi.legacy":{"class":"fas fa-camera"},"entities":{"class":"fa fa-home"},"execute":{"class":"fa fa-play"},"extensions":{"class":"fas fa-puzzle-piece"},"light.hue":{"class":"fas fa-lightbulb"},"linode":{"class":"fas fa-cloud"},"media.jellyfin":{"imgUrl":"/icons/jellyfin.svg"},"media.kodi":{"imgUrl":"/icons/kodi.svg"},"media.omxplayer":{"class":"fa fa-film"},"media.mplayer":{"class":"fa fa-film"},"media.mpv":{"class":"fa fa-film"},"media.plex":{"imgUrl":"/icons/plex.svg"},"media.vlc":{"class":"fa fa-film"},"music.mpd":{"class":"fas fa-music"},"music.snapcast":{"class":"fa fa-volume-up"},"music.spotify":{"class":"fab fa-spotify"},"ping":{"class":"fas fa-server"},"torrent":{"class":"fa fa-magnet"},"rtorrent":{"class":"fa fa-magnet"},"sensor.bme280":{"class":"fas fa-microchip"},"sensor.dht":{"class":"fas fa-microchip"},"sensor.envirophat":{"class":"fas fa-microchip"},"sensor.ltr559":{"class":"fas fa-microchip"},"sensor.mcp3008":{"class":"fas fa-microchip"},"sensor.pmw3901":{"class":"fas fa-microchip"},"sensor.vl53l1x":{"class":"fas fa-microchip"},"serial":{"class":"fab fa-usb"},"smartthings":{"imgUrl":"/icons/smartthings.png"},"switches":{"class":"fas fa-toggle-on"},"switch.switchbot":{"class":"fas fa-toggle-on"},"switch.tplink":{"class":"fas fa-toggle-on"},"switchbot":{"class":"fas fa-toggle-on"},"sound":{"class":"fa fa-microphone"},"system":{"class":"fas fa-microchip"},"tts":{"class":"far fa-comment"},"tts.google":{"class":"fas fa-comment"},"tv.samsung.ws":{"class":"fas fa-tv"},"variable":{"class":"fas fa-square-root-variable"},"weather.buienradar":{"class":"fas fa-cloud-sun-rain"},"weather.openweathermap":{"class":"fas fa-cloud-sun-rain"},"zigbee.mqtt":{"imgUrl":"/icons/zigbee.svg"},"zwave":{"imgUrl":"/icons/z-wave.png"},"zwave.mqtt":{"imgUrl":"/icons/z-wave.png"}}')}}]);
//# sourceMappingURL=panel.c9a94003.js.map