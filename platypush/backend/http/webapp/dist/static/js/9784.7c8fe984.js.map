{"version":3,"file":"static/js/9784.7c8fe984.js","mappings":"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","sources":["webpack://platypush/./src/components/elements/NoItems.vue","webpack://platypush/./src/components/elements/NoItems.vue?70de","webpack://platypush/./src/components/panels/Media/Providers/YouTube/Channel.vue","webpack://platypush/./src/components/panels/Media/Providers/YouTube/Channel.vue?e8bb","webpack://platypush/./src/components/panels/Media/Providers/YouTube/Subscriptions.vue","webpack://platypush/./src/components/panels/Media/Providers/YouTube/Subscriptions.vue?c1d5"],"sourcesContent":["<template>\n<div class=\"no-items-container\">\n  <div class=\"no-items fade-in\" :class=\"{shadow: withShadow}\">\n    <slot />\n  </div>\n</div>\n</template>\n\n<script>\nexport default {\n  name: \"NoItems\",\n  props: {\n    withShadow: {\n      type: Boolean,\n      default: true,\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.no-items-container {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .no-items {\n    min-width: 100%;\n    max-width: 100%;\n\n    @include from($tablet) {\n      min-width: 80%;\n    }\n\n    @include from($desktop) {\n      min-width: 50%;\n      max-width: 35em;\n    }\n\n    @include from($fullhd) {\n      min-width: 33%;\n    }\n\n    background: $background-color;\n    margin: 1em;\n    padding: 1em;\n    font-size: 1.5em;\n    color: $no-items-color;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 1em;\n\n    &.shadow {\n      box-shadow: $border-shadow-bottom;\n    }\n  }\n}\n</style>\n","import { render } from \"./NoItems.vue?vue&type=template&id=4856c4d7&scoped=true\"\nimport script from \"./NoItems.vue?vue&type=script&lang=js\"\nexport * from \"./NoItems.vue?vue&type=script&lang=js\"\n\nimport \"./NoItems.vue?vue&type=style&index=0&id=4856c4d7&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4856c4d7\"]])\n\nexport default __exports__","<template>\n  <div class=\"media-youtube-channel\">\n    <Loading v-if=\"isLoading\" />\n\n    <div class=\"channel\" v-else-if=\"channel\">\n      <div class=\"header\">\n        <div class=\"banner\">\n          <img :src=\"channel.banner\" @error=\"onBannerError\" v-if=\"banner?.length\" />\n        </div>\n\n        <div class=\"row info-container\">\n          <div class=\"info\">\n            <div class=\"row\">\n              <div class=\"title-container\">\n                <a :href=\"channel.url\" target=\"_blank\" rel=\"noopener noreferrer\" v-if=\"image?.length\">\n                  <div class=\"image\">\n                    <img :src=\"image\" @error=\"onImageError\" />\n                  </div>\n                </a>\n\n                <a class=\"title\" :href=\"channel.url\" target=\"_blank\" rel=\"noopener noreferrer\">\n                  {{ channel?.name }}\n                </a>\n              </div>\n\n              <div class=\"actions\">\n                <button :title=\"subscribed ? 'Unsubscribe' : 'Subscribe'\" @click=\"toggleSubscription\">\n                  {{ subscribed ? 'Unsubscribe' : 'Subscribe' }}\n                </button>\n\n                <div class=\"subscribers\" v-if=\"channel.subscribers != null && (channel.subscribers || 0) >= 0\">\n                  {{ formatNumber(channel.subscribers) }} subscribers\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row description-container\" v-if=\"channel?.description\">\n        <div class=\"description-toggle\">\n          <button :title=\"showDescription ? 'Hide description' : 'Show description'\"\n                  @click=\"showDescription = !showDescription\">\n            <i class=\"fas\" :class=\"{'fa-chevron-down': !showDescription, 'fa-chevron-up': showDescription}\"></i>\n          </button>\n        </div>\n\n        <div class=\"description\" :class=\"{hidden: !showDescription}\" v-if=\"channel?.description\">\n          {{ channel.description }}\n        </div>\n      </div>\n\n      <Results :results=\"channel.items\"\n               :filter=\"filter\"\n               :result-index-step=\"null\"\n               :selected-result=\"selectedResult\"\n               ref=\"results\"\n               @add-to-playlist=\"$emit('add-to-playlist', $event)\"\n               @download=\"$emit('download', $event)\"\n               @download-audio=\"$emit('download-audio', $event)\"\n               @open-channel=\"$emit('open-channel', $event)\"\n               @play=\"$emit('play', $event)\"\n               @play-with-opts=\"$emit('play-with-opts', $event)\"\n               @scroll-end=\"loadNextPage\"\n               @select=\"selectedResult = $event\"\n               @view=\"$emit('view', $event)\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Loading from \"@/components/Loading\";\nimport Results from \"@/components/panels/Media/Results\";\nimport Utils from \"@/Utils\";\n\nexport default {\n  mixins: [Utils],\n  emits: [\n    'add-to-playlist',\n    'download',\n    'download-audio',\n    'open-channel',\n    'play',\n    'play-with-opts',\n    'view',\n  ],\n\n  components: {\n    Loading,\n    Results,\n  },\n\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n\n    filter: {\n      type: String,\n      default: null,\n    },\n\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  data() {\n    return {\n      banner: null,\n      channel: null,\n      image: null,\n      loading_: false,\n      loadingNextPage: false,\n      nextPageToken: null,\n      renderedPageTokens: {},\n      selectedResult: null,\n      showDescription: false,\n      subscribed: false,\n    }\n  },\n\n  computed: {\n    isLoading() {\n      return this.loading || this.loading_\n    },\n\n    itemsByUrl() {\n      return this.channel?.items.reduce((acc, item) => {\n        acc[item.url] = item\n        return acc\n      }, {})\n    },\n  },\n\n  methods: {\n    async loadChannel() {\n      this.loading_ = true\n      try {\n        await this.updateChannel(true)\n        this.subscribed = await this.request('youtube.is_subscribed', {channel_id: this.id})\n      } finally {\n        this.loading_ = false\n      }\n    },\n\n    async updateChannel(init) {\n      const nextPageToken = this.channel?.next_page_token\n      const channel = await this.request(\n        'youtube.get_channel',\n        {id: this.id, page: nextPageToken}\n      )\n\n      if (nextPageToken) {\n        this.renderedPageTokens[nextPageToken] = true\n      }\n\n      this.nextPageToken = channel.next_page_token\n      this.image = channel.image\n      this.banner = channel.banner\n\n      const itemsByUrl = this.itemsByUrl || {}\n      let items = channel.items\n        .filter(item => !itemsByUrl[item.url])\n        .map(item => {\n          return {\n            type: 'youtube',\n            ...item,\n          }\n        })\n\n      if (!init) {\n        items = this.channel.items.concat(items)\n      }\n\n      this.channel = channel\n      this.channel.items = items\n    },\n\n    async loadNextPage() {\n      if (!this.nextPageToken || this.renderedPageTokens[this.nextPageToken] || this.loadingNextPage) {\n        return\n      }\n\n      this.loadingNextPage = true\n\n      try {\n        await this.timeout(500)\n        await this.updateChannel()\n      } finally {\n        this.loadingNextPage = false\n      }\n    },\n\n    async toggleSubscription() {\n      const action = this.subscribed ? 'unsubscribe' : 'subscribe'\n      await this.request(`youtube.${action}`, {channel_id: this.id})\n      this.subscribed = !this.subscribed\n    },\n\n    onBannerError() {\n      this.banner = null\n    },\n\n    onImageError() {\n      this.image = null\n    },\n  },\n\n  async mounted() {\n    this.setUrlArgs({channel: this.id})\n    await this.loadChannel()\n  },\n\n  unmounted() {\n    this.setUrlArgs({channel: null})\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"header.scss\";\n\n.media-youtube-channel {\n  height: 100%;\n  overflow-y: auto;\n\n  .channel {\n    height: 100%;\n    position: relative;\n  }\n\n  .header {\n    .title-container {\n      flex: 1;\n    }\n\n    .actions {\n      display: flex;\n      flex-direction: column;\n      align-items: flex-end;\n\n      button {\n        background: $default-bg-7;\n        padding: 0.5em 1em;\n        border-radius: 0.5em;\n        cursor: pointer;\n\n        &:hover {\n          background: $hover-bg;\n        }\n      }\n    }\n\n    .subscribers {\n      font-size: 0.8em;\n    }\n  }\n}\n</style>\n","import { render } from \"./Channel.vue?vue&type=template&id=1dc82e96&scoped=true\"\nimport script from \"./Channel.vue?vue&type=script&lang=js\"\nexport * from \"./Channel.vue?vue&type=script&lang=js\"\n\nimport \"./Channel.vue?vue&type=style&index=0&id=1dc82e96&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1dc82e96\"]])\n\nexport default __exports__","<template>\n  <div class=\"media-youtube-subscriptions\">\n    <div class=\"subscriptions-index\" v-if=\"!selectedChannel?.id\" @scroll=\"onScroll\">\n      <Loading v-if=\"showLoading\" />\n      <NoItems :with-shadow=\"false\" v-else-if=\"!channels?.length\">\n        No channels found.\n      </NoItems>\n\n      <div class=\"body grid\" v-else>\n        <div class=\"channel item\"\n             v-for=\"(channel, id) in channelsById\"\n             :key=\"id\"\n             @click=\"$emit('select', channel)\">\n          <div class=\"image\">\n            <img :src=\"channel.image\" :alt=\"channel.name\" />\n          </div>\n          <div class=\"title\">{{ channel.name }}</div>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"subscription-body\" v-else>\n      <Channel\n        :id=\"selectedChannel.id\"\n        :filter=\"filter\"\n        @add-to-playlist=\"$emit('add-to-playlist', $event)\"\n        @download=\"$emit('download', $event)\"\n        @download-audio=\"$emit('download-audio', $event)\"\n        @play=\"$emit('play', $event)\"\n        @play-with-opts=\"$emit('play-with-opts', $event)\"\n        @view=\"$emit('view', $event)\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport Channel from \"./Channel\";\nimport NoItems from \"@/components/elements/NoItems\";\nimport Loading from \"@/components/Loading\";\nimport Utils from \"@/Utils\";\n\nexport default {\n  mixins: [Utils],\n  emits: [\n    'add-to-playlist',\n    'download',\n    'download-audio',\n    'play',\n    'play-with-opts',\n    'select',\n    'view',\n  ],\n\n  components: {\n    Channel,\n    Loading,\n    NoItems,\n  },\n\n  props: {\n    selectedChannel: {\n      type: Object,\n      default: null,\n    },\n\n    filter: {\n      type: String,\n      default: null,\n    },\n  },\n\n  data() {\n    return {\n      channels: [],\n      loading: false,\n      nextPageToken: null,\n    }\n  },\n\n  computed: {\n    channelsById() {\n      return this.channels\n        .filter(channel => !this.filter || channel.name.toLowerCase().includes(this.filter.toLowerCase()))\n        .reduce((acc, channel) => {\n          acc[channel.id] = channel\n          return acc\n        }, {})\n    },\n\n    showLoading() {\n      return this.loading && !this.channels.length\n    },\n  },\n\n  methods: {\n    async loadSubscriptions() {\n      if (this.loading)\n        return\n\n      this.loading = true\n\n      try {\n        this.channels = [\n          ...this.channels,\n          ...(await this.request('youtube.get_subscriptions', {page: this.nextPageToken}))\n        ]\n        if (this.channels.length) {\n          this.nextPageToken = this.channels[this.channels.length - 1].next_page_token\n        }\n      } finally {\n        this.loading = false\n      }\n    },\n\n    initView() {\n      const args = this.getUrlArgs()\n      if (args.channel) {\n        this.$emit('select', {id: args.channel})\n      }\n    },\n\n    onScroll(e) {\n      const el = e.target\n      if (!el)\n        return\n\n      const bottom = (el.scrollHeight - el.scrollTop) <= el.clientHeight + 150\n      if (!bottom)\n        return\n\n      this.loadSubscriptions()\n    },\n  },\n\n  async mounted() {\n    await this.loadSubscriptions()\n    this.initView()\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.media-youtube-subscriptions {\n  height: 100%;\n\n  .subscriptions-index {\n    height: 100%;\n    overflow-y: auto;\n  }\n\n  .channel.item {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    border: $default-border-2;\n    box-shadow: $border-shadow-bottom;\n    border-radius: 0.5em;\n    cursor: pointer;\n\n    .image {\n      width: 100%;\n      height: 10em;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n\n      img {\n        width: 5em;\n        height: 5em;\n        border-radius: 0.5em;\n        transition: filter 0.2s ease-in-out;\n      }\n    }\n\n    .title {\n      font-size: 1.1em;\n      margin-top: 0.5em;\n    }\n\n    &:hover {\n      text-decoration: underline;\n\n      img {\n        filter: contrast(70%);\n      }\n    }\n  }\n\n  .subscription-body {\n    height: 100%;\n  }\n}\n</style>\n","import { render } from \"./Subscriptions.vue?vue&type=template&id=681f78c0&scoped=true\"\nimport script from \"./Subscriptions.vue?vue&type=script&lang=js\"\nexport * from \"./Subscriptions.vue?vue&type=script&lang=js\"\n\nimport \"./Subscriptions.vue?vue&type=style&index=0&id=681f78c0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-681f78c0\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_normalizeClass","shadow","$props","withShadow","_renderSlot","_ctx","$slots","undefined","name","props","type","Boolean","default","__exports__","render","$options","isLoading","_createBlock","_component_Loading","key","$data","channel","_hoisted_2","_hoisted_3","_hoisted_4","banner","length","src","onError","_cache","args","onBannerError","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","image","href","url","target","rel","_hoisted_11","onImageError","_hoisted_13","_hoisted_14","title","subscribed","onClick","toggleSubscription","_hoisted_15","subscribers","_hoisted_16","_toDisplayString","formatNumber","description","_hoisted_17","_hoisted_18","showDescription","$event","hidden","_createVNode","_component_Results","results","items","filter","selectedResult","ref","onAddToPlaylist","$emit","onDownload","onDownloadAudio","onOpenChannel","onPlay","onPlayWithOpts","onScrollEnd","loadNextPage","onSelect","onView","mixins","Utils","emits","components","Loading","Results","id","String","required","loading","data","loading_","loadingNextPage","nextPageToken","renderedPageTokens","computed","this","itemsByUrl","reduce","acc","item","methods","loadChannel","updateChannel","request","channel_id","init","next_page_token","page","map","concat","timeout","action","mounted","setUrlArgs","unmounted","selectedChannel","_component_Channel","onScroll","showLoading","channels","_Fragment","_renderList","channelsById","alt","_component_NoItems","Channel","NoItems","Object","toLowerCase","includes","loadSubscriptions","initView","getUrlArgs","e","el","bottom","scrollHeight","scrollTop","clientHeight"],"sourceRoot":""}