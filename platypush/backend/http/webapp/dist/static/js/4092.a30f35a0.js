(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[4092],{941:function(e,t,s){"use strict";s.d(t,{Z:function(){return S}});var l=s(6252),a=s(3577);const i=e=>((0,l.dD)("data-v-2d3ac17c"),e=e(),(0,l.Cn)(),e),n={class:"browser"},o={class:"nav",ref:"nav"},r=["onClick"],d={class:"token"},c={key:0,class:"separator"},u=i((()=>(0,l._)("i",{class:"fa fa-chevron-right"},null,-1))),m=[u],h={class:"items",ref:"items"},p=i((()=>(0,l._)("div",{class:"col-10 left side"},[(0,l._)("i",{class:"icon fa fa-folder"}),(0,l._)("span",{class:"name"},"..")],-1))),w=[p],y=["onClick"],f={class:"col-10"},g={class:"name"},v={key:0,class:"col-2 actions"};function _(e,t,s,i,u,p){const _=(0,l.up)("Loading"),b=(0,l.up)("DropdownItem"),k=(0,l.up)("Dropdown");return(0,l.wg)(),(0,l.iD)("div",n,[u.loading?((0,l.wg)(),(0,l.j4)(_,{key:0})):(0,l.kq)("",!0),(0,l._)("div",o,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(p.pathTokens,((e,t)=>((0,l.wg)(),(0,l.iD)("span",{class:"path",key:t,onClick:e=>u.path=p.pathTokens.slice(0,t+1).join("/").slice(1)},[(0,l._)("span",d,(0,a.zw)(e),1),(t>0||p.pathTokens.length>1)&&t<p.pathTokens.length-1?((0,l.wg)(),(0,l.iD)("span",c,m)):(0,l.kq)("",!0)],8,r)))),128))],512),(0,l._)("div",h,[u.path?.length&&"/"!==u.path||s.hasBack?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"row item",onClick:t[0]||(t[0]=(...e)=>p.onBack&&p.onBack(...e))},w)):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(p.filteredFiles,((t,s)=>((0,l.wg)(),(0,l.iD)("div",{class:"row item",key:s,onClick:e=>p.onItemSelect(t)},[(0,l._)("div",f,[(0,l._)("i",{class:(0,a.C_)(["icon fa",{"fa-file":"directory"!==t.type,"fa-folder":"directory"===t.type}])},null,2),(0,l._)("span",g,(0,a.zw)(t.name),1)]),p.fileActions.length?((0,l.wg)(),(0,l.iD)("div",v,[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[p.hasPlay&&"directory"!==t.type?((0,l.wg)(),(0,l.j4)(b,{key:0,"icon-class":"fa fa-play",text:"Play",onInput:s=>e.$emit("play",{type:"file",url:`file://${t.path}`})},null,8,["onInput"])):(0,l.kq)("",!0)])),_:2},1024)])):(0,l.kq)("",!0)],8,y)))),128))],512)])}var b=s(6791),k=s(8637),C=s(1065),P=s(4904),D=s(7597),x={name:"Browser",components:{DropdownItem:D.Z,Dropdown:P.Z,Loading:b.Z},mixins:[k.Z,C.Z],emits:["back","path-change","play","input"],props:{hasBack:{type:Boolean,default:!1},initialPath:{type:String},isMedia:{type:Boolean},filter:{type:String,default:""}},data(){return{loading:!1,path:this.initialPath,files:[]}},computed:{filteredFiles(){return this.filter?.length?this.files.filter((e=>(e?.name||"").toLowerCase().indexOf(this.filter.toLowerCase())>=0)):this.files},hasPlay(){return this.isMedia&&this.files.some((e=>this.mediaExtensions.has(e.name.split(".").pop()?.toLowerCase())))},fileActions(){return this.hasPlay?[{iconClass:"fa fa-play",text:"Play",onClick:e=>this.$emit("play",{type:"file",url:`file://${e.path}`})}]:[]},pathTokens(){return this.path?.length?["/",...this.path.split(/(?<!\\)\//).slice(1)]:["/"]}},methods:{async refresh(){this.loading=!0,this.$nextTick((()=>{this.$refs.nav.scrollLeft=99999,this.$refs.items.scrollTop=0}));try{this.files=await this.request("file.list",{path:this.path}),this.$emit("path-change",this.path),this.setUrlArgs({path:decodeURIComponent(this.path)})}finally{this.loading=!1}},onBack(){this.path?.length&&"/"!==this.path?this.path=[...this.pathTokens].slice(0,-1).join("/").slice(1):this.$emit("back")},onItemSelect(e){"directory"===e.type?this.path=e.path:this.$emit("input",e.path)}},watch:{initialPath(){this.path=this.initialPath},path(){this.refresh()}},mounted(){const e=this.getUrlArgs();e.path&&(this.path=e.path),this.refresh()},unmounted(){this.setUrlArgs({path:null})}},I=s(3744);const $=(0,I.Z)(x,[["render",_],["__scopeId","data-v-2d3ac17c"]]);var S=$},5757:function(e,t,s){"use strict";s.d(t,{Z:function(){return y}});var l=s(6252),a=s(9963),i=s(3577);const n=e=>((0,l.dD)("data-v-d5048f18"),e=e(),(0,l.Cn)(),e),o={class:"dialog-content"},r={class:"buttons"},d=n((()=>(0,l._)("i",{class:"fas fa-check"},null,-1))),c=n((()=>(0,l._)("i",{class:"fas fa-xmark"},null,-1)));function u(e,t,s,n,u,m){const h=(0,l.up)("Modal");return(0,l.wg)(),(0,l.j4)(h,{ref:"modal",title:s.title},{default:(0,l.w5)((()=>[(0,l._)("form",{onSubmit:t[5]||(t[5]=(0,a.iM)(((...e)=>m.onConfirm&&m.onConfirm(...e)),["prevent"]))},[(0,l._)("div",o,[(0,l.WI)(e.$slots,"default",{},void 0,!0),(0,l.wy)((0,l._)("input",{type:"text",ref:"input","onUpdate:modelValue":t[0]||(t[0]=e=>u.value_=e)},null,512),[[a.nr,u.value_]])]),(0,l._)("div",r,[(0,l._)("button",{type:"submit",class:"ok-btn",onClick:t[1]||(t[1]=(...e)=>m.onConfirm&&m.onConfirm(...e)),onTouch:t[2]||(t[2]=(...e)=>m.onConfirm&&m.onConfirm(...e))},[d,(0,l.Uk)("   "+(0,i.zw)(s.confirmText),1)],32),(0,l._)("button",{type:"button",class:"cancel-btn",onClick:t[3]||(t[3]=(...e)=>m.close&&m.close(...e)),onTouch:t[4]||(t[4]=(...e)=>m.close&&m.close(...e))},[c,(0,l.Uk)("   "+(0,i.zw)(s.cancelText),1)],32)])],32)])),_:3},8,["title"])}var m=s(5166),h={emits:["input"],components:{Modal:m.Z},props:{title:{type:String},confirmText:{type:String,default:"OK"},cancelText:{type:String,default:"Cancel"},visible:{type:Boolean,default:!1},value:{type:String,default:""}},data(){return{value_:"",visible_:!1}},methods:{onConfirm(){this.value_?.trim()?.length&&this.$emit("input",this.value_),this.close()},open(){this.visible_||(this.value_=this.value,this.$refs.modal.show(),this.visible_=!0,this.focus())},close(){this.visible_&&(this.value_="",this.$refs.modal.hide(),this.visible_=!1)},show(){this.open()},hide(){this.close()},focus(){this.$nextTick((()=>{this.$refs.input.focus()}))}},watch:{visible(e){e?this.open():this.close()}},mounted(){this.visible_=this.visible,this.value_=this.value||"",this.$nextTick((()=>{this.$refs.input.focus()}))}},p=s(3744);const w=(0,p.Z)(h,[["render",u],["__scopeId","data-v-d5048f18"]]);var y=w},4092:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return xs}});var l=s(6252),a=s(3577);const i={class:"media-plugin fade-in"},n={class:"view-container"},o={class:"subtitles-container"},r={key:0,class:"subtitles-content"},d={class:"play-url-container"},c={key:0,class:"add-to-playlist-container"},u={key:1,class:"info-container"};function m(e,t,s,m,h,p){const w=(0,l.up)("Nav"),y=(0,l.up)("Header"),f=(0,l.up)("Results"),g=(0,l.up)("TorrentTransfers"),v=(0,l.up)("MediaDownloads"),_=(0,l.up)("Browser"),b=(0,l.up)("MediaView"),k=(0,l.up)("Subtitles"),C=(0,l.up)("Modal"),P=(0,l.up)("UrlPlayer"),D=(0,l.up)("PlaylistAdder"),x=(0,l.up)("Info");return(0,l.wg)(),(0,l.j4)(l.Ob,null,[(0,l._)("div",i,[(0,l.Wm)(b,{"plugin-name":s.pluginName,status:h.selectedPlayer?.status||{},track:h.selectedPlayer?.status||{},buttons:s.mediaButtons,onInfo:t[16]||(t[16]=e=>h.infoTrack=e),onPlay:p.pause,onPause:p.pause,onStop:p.stop,onSetVolume:p.setVolume,onSeek:p.seek,onSearch:p.search,onMute:p.toggleMute,onUnmute:p.toggleMute},{default:(0,l.w5)((()=>[(0,l._)("main",null,[(0,l._)("div",{class:"nav-container from tablet",style:(0,a.j5)(p.navContainerStyle)},[(0,l.Wm)(w,{"selected-view":h.selectedView,"torrent-plugin":h.torrentPlugin,"download-icon-class":p.downloadIconClass,onInput:p.setView,onToggle:t[0]||(t[0]=e=>h.forceShowNav=!h.forceShowNav)},null,8,["selected-view","torrent-plugin","download-icon-class","onInput"])],4),(0,l._)("div",n,[(0,l.Wm)(y,{"plugin-name":s.pluginName,"selected-view":h.selectedView,"has-subtitles-plugin":p.hasSubtitlesPlugin,sources:h.sources,"selected-item":p.selectedItem,"selected-subtitles":h.selectedSubtitles,"browser-filter":h.browserFilter,"downloads-filter":h.downloadsFilter,"show-nav-button":!h.forceShowNav,ref:"header",onSearch:p.search,onSelectPlayer:t[1]||(t[1]=e=>h.selectedPlayer=e),onPlayerStatus:p.onStatusUpdate,onTorrentAdd:t[2]||(t[2]=e=>p.downloadTorrent(e)),onShowSubtitles:t[3]||(t[3]=e=>h.showSubtitlesModal=!h.showSubtitlesModal),onPlayUrl:p.showPlayUrlModal,onFilter:t[4]||(t[4]=e=>h.browserFilter=e),onFilterDownloads:t[5]||(t[5]=e=>h.downloadsFilter=e),onToggleNav:t[6]||(t[6]=e=>h.forceShowNav=!h.forceShowNav),onSourceToggle:t[7]||(t[7]=e=>h.sources[e]=!h.sources[e])},null,8,["plugin-name","selected-view","has-subtitles-plugin","sources","selected-item","selected-subtitles","browser-filter","downloads-filter","show-nav-button","onSearch","onPlayerStatus","onPlayUrl"]),(0,l._)("div",{class:(0,a.C_)(["body-container",{"expanded-header":e.$refs.header?.filterVisible}])},["search"===h.selectedView?((0,l.wg)(),(0,l.j4)(f,{key:0,results:h.results,"selected-result":h.selectedResult,sources:h.sources,"plugin-name":s.pluginName,loading:h.loading,filter:h.browserFilter,onAddToPlaylist:t[8]||(t[8]=e=>h.addToPlaylistItem=e),onOpenChannel:p.selectChannelFromItem,onSelect:t[9]||(t[9]=e=>p.onResultSelect(e)),onPlay:p.play,onPlayCache:t[10]||(t[10]=e=>p.play(e,{cache:!0})),onView:p.view,onDownload:p.download,onDownloadAudio:p.downloadAudio},null,8,["results","selected-result","sources","plugin-name","loading","filter","onOpenChannel","onPlay","onView","onDownload","onDownloadAudio"])):"torrents"===h.selectedView?((0,l.wg)(),(0,l.j4)(g,{key:1,"plugin-name":h.torrentPlugin,"is-media":!0,onPlay:p.play},null,8,["plugin-name","onPlay"])):"downloads"===h.selectedView?((0,l.wg)(),(0,l.j4)(v,{key:2,"plugin-name":s.pluginName,downloads:h.downloads,filter:h.downloadsFilter,onPlay:p.play},null,8,["plugin-name","downloads","filter","onPlay"])):"browser"===h.selectedView?((0,l.wg)(),(0,l.j4)(_,{key:3,filter:h.browserFilter,loading:h.loading,"selected-playlist":p.selectedPlaylist,"selected-channel":p.selectedChannel,onAddToPlaylist:t[11]||(t[11]=e=>h.addToPlaylistItem=e),onBack:t[12]||(t[12]=e=>h.selectedResult=null),onDownload:p.download,onDownloadAudio:p.downloadAudio,onPathChange:t[13]||(t[13]=e=>h.browserFilter=""),onPlay:t[14]||(t[14]=e=>p.play(e)),onPlayCache:t[15]||(t[15]=e=>p.play(e,{cache:!0}))},null,8,["filter","loading","selected-playlist","selected-channel","onDownload","onDownloadAudio"])):(0,l.kq)("",!0)],2)])])])),_:1},8,["plugin-name","status","track","buttons","onPlay","onPause","onStop","onSetVolume","onSeek","onSearch","onMute","onUnmute"]),(0,l._)("div",o,[(0,l.Wm)(C,{title:"Available subtitles",visible:h.showSubtitlesModal,ref:"subtitlesSelector",onClose:t[18]||(t[18]=e=>h.showSubtitlesModal=!1)},{default:(0,l.w5)((()=>[h.showSubtitlesModal&&null!=h.selectedResult?((0,l.wg)(),(0,l.iD)("div",r,[(0,l.Wm)(k,{item:h.selectedPlayer&&h.selectedPlayer.status&&("play"===h.selectedPlayer.status.state||"pause"===h.selectedPlayer.status.state)?h.selectedPlayer.status:h.results[h.selectedResult],onSelectSubs:t[17]||(t[17]=e=>p.selectSubtitles(e))},null,8,["item"])])):(0,l.kq)("",!0)])),_:1},8,["visible"])]),(0,l._)("div",d,[(0,l.Wm)(C,{title:"Play URL",ref:"playUrlModal",onOpen:p.onPlayUrlModalOpen},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{value:h.urlPlay,onInput:t[19]||(t[19]=e=>h.urlPlay=e.target.value),onPlay:t[20]||(t[20]=e=>p.playUrl(e))},null,8,["value"])])),_:1},8,["onOpen"])]),h.addToPlaylistItem?((0,l.wg)(),(0,l.iD)("div",c,[(0,l.Wm)(C,{title:"Add to playlist",visible:null!=h.addToPlaylistItem,onClose:t[23]||(t[23]=e=>h.addToPlaylistItem=null)},{default:(0,l.w5)((()=>[(0,l.Wm)(D,{item:h.addToPlaylistItem,onDone:t[21]||(t[21]=e=>h.addToPlaylistItem=null),onClose:t[22]||(t[22]=e=>h.addToPlaylistItem=null)},null,8,["item"])])),_:1},8,["visible"])])):(0,l.kq)("",!0),null!=h.infoTrack?((0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(C,{ref:"infoModal",title:"Media info",visible:null!=h.infoTrack,onClose:t[26]||(t[26]=e=>h.infoTrack=null)},{default:(0,l.w5)((()=>[(0,l.Wm)(x,{item:h.infoTrack,pluginName:s.pluginName,onAddToPlaylist:t[24]||(t[24]=e=>h.addToPlaylistItem=e),onDownload:p.download,onDownloadAudio:p.downloadAudio,onOpenChannel:p.selectChannelFromItem,onPlay:p.play,onPlayCache:t[25]||(t[25]=e=>p.play(e,{cache:!0}))},null,8,["item","pluginName","onDownload","onDownloadAudio","onOpenChannel","onPlay"])])),_:1},8,["visible"])])):(0,l.kq)("",!0)])],1024)}var h=s(5166),p=s(8637);const w={class:"media-browser"},y={key:0,class:"media-index grid"},f=["onClick"],g={class:"icon"},v={class:"name"},_={key:1,class:"media-browser-body"};function b(e,t,s,i,n,o){return(0,l.wg)(),(0,l.j4)(l.Ob,null,[(0,l._)("div",w,[n.mediaProvider?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.mediaProviders,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"item",key:t,onClick:t=>n.mediaProvider=e},[(0,l._)("div",g,[n.providersMetadata[t].icon?((0,l.wg)(),(0,l.iD)("i",(0,l.dG)({key:0,ref_for:!0},n.providersMetadata[t].icon,{style:{color:n.providersMetadata[t].icon?.color||"inherit"}}),null,16)):(0,l.kq)("",!0)]),(0,l._)("div",v,(0,a.zw)(n.providersMetadata[t].name),1)],8,f)))),128))])),n.mediaProvider?((0,l.wg)(),(0,l.iD)("div",_,[((0,l.wg)(),(0,l.j4)((0,l.LL)(n.mediaProvider),{filter:s.filter,loading:s.loading,"selected-playlist":s.selectedPlaylist,"selected-channel":s.selectedChannel,onAddToPlaylist:t[0]||(t[0]=t=>e.$emit("add-to-playlist",t)),onBack:o.back,onDownload:t[1]||(t[1]=t=>e.$emit("download",t)),onDownloadAudio:t[2]||(t[2]=t=>e.$emit("download-audio",t)),onPathChange:t[3]||(t[3]=t=>e.$emit("path-change",t)),onPlay:t[4]||(t[4]=t=>e.$emit("play",t)),onPlayCache:t[5]||(t[5]=t=>e.$emit("play-cache",t))},null,40,["filter","loading","selected-playlist","selected-channel","onBack"]))])):(0,l.kq)("",!0)])],1024)}var k=s(2262),C=s(941),P=s(4569),D={mixins:[p.Z],emits:["add-to-playlist","back","create-playlist","download","download-audio","path-change","play","play-cache","remove-from-playlist","remove-playlist","rename-playlist"],components:{Browser:C.Z},props:{filter:{type:String,default:""},selectedPlaylist:{type:Object},selectedChannel:{type:Object},loading:{type:Boolean,default:!1}},data(){return{mediaProvider:null,mediaProviders:{},providersMetadata:P}},computed:{mediaProvidersLookup(){return Object.keys(this.mediaProviders).reduce(((e,t)=>(e[t.toLowerCase()]=t,e)),{})}},methods:{back(){this.mediaProvider=null,this.$emit("back")},registerMediaProvider(e){const t=(0,k.iH)((0,l.RC)((()=>s(6809)(`./${e}`))));this.$options.components[e]=t,this.mediaProviders[e]=t},async refreshMediaProviders(){const e=await this.request("config.get");this.mediaProviders={},this.registerMediaProvider("File"),e.youtube&&this.registerMediaProvider("YouTube")},onPlaylistChange(){if(!this.selectedPlaylist)return;const e=this.selectedPlaylist.type?.toLowerCase(),t=this.mediaProvidersLookup[e];t&&(this.mediaProvider=this.mediaProviders[t])},onChannelChange(){if(!this.selectedChannel)return;const e=this.selectedChannel.type?.toLowerCase(),t=this.mediaProvidersLookup[e];t&&(this.mediaProvider=this.mediaProviders[t])},updateView(){if(this.getUrlArgs().provider?.length){const e=this.getUrlArgs().provider,t=this.mediaProvidersLookup[e.toLowerCase()];if(!t?.length)return;this.mediaProvider=this.mediaProviders[t]}this.selectedPlaylist?this.onPlaylistChange():this.selectedChannel&&this.onChannelChange()}},watch:{mediaProvider(e){if(!e)return void this.setUrlArgs({provider:null});const t=Object.entries(this.mediaProviders).filter((t=>t[1]===e))?.[0]?.[0]?.toLowerCase();t?.length&&this.setUrlArgs({provider:t})},selectedPlaylist(){this.onPlaylistChange()},selectedChannel(){this.onChannelChange()}},async mounted(){await this.refreshMediaProviders(),this.updateView()},unmounted(){this.setUrlArgs({provider:null})}},x=s(3744);const I=(0,x.Z)(D,[["render",b],["__scopeId","data-v-6d9d90b7"]]);var $=I,S=s(9963);const q=e=>((0,l.dD)("data-v-3e938a5b"),e=e(),(0,l.Cn)(),e),N={class:"row"},T={key:0,class:"col-s-8 col-m-7 left side"},M=q((()=>(0,l._)("i",{class:"fa fa-filter"},null,-1))),U=[M],z={class:"search-box"},R={key:1,class:"col-s-8 col-m-7 left side"},Z={class:"search-box"},L={key:2,class:"col-s-8 col-m-7 left side"},V={class:"search-box"},j={key:3,class:"col-s-8 col-m-7 left side"},A={class:"search-box"},O=["value"],W={class:"col-s-4 col-m-5 right side"},F=q((()=>(0,l._)("i",{class:"fas fa-bars"},null,-1))),Y=[F],E=q((()=>(0,l._)("i",{class:"fas fa-closed-captioning"},null,-1))),B=[E],H=q((()=>(0,l._)("i",{class:"fas fa-play"},null,-1))),K=[H],G=["checked","onChange"];function Q(e,t,s,i,n,o){const r=(0,l.up)("Players");return(0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)(["header",{"with-filter":n.filterVisible}])},[(0,l._)("div",N,["search"===s.selectedView?((0,l.wg)(),(0,l.iD)("div",T,[(0,l._)("button",{title:"Filter",class:(0,a.C_)(["filter-btn",{selected:n.filterVisible}]),onClick:t[0]||(t[0]=e=>n.filterVisible=!n.filterVisible)},U,2),(0,l._)("form",{onSubmit:t[2]||(t[2]=(0,S.iM)(((...e)=>o.search&&o.search(...e)),["prevent"]))},[(0,l._)("label",z,[(0,l.wy)((0,l._)("input",{type:"search",placeholder:"Search","onUpdate:modelValue":t[1]||(t[1]=e=>n.query=e)},null,512),[[S.nr,n.query]])])],32)])):"torrents"===s.selectedView?((0,l.wg)(),(0,l.iD)("div",R,[(0,l._)("form",{onSubmit:t[4]||(t[4]=(0,S.iM)((t=>e.$emit("torrent-add",n.torrentURL)),["prevent"]))},[(0,l._)("label",Z,[(0,l.wy)((0,l._)("input",{type:"search",placeholder:"Add torrent URL","onUpdate:modelValue":t[3]||(t[3]=e=>n.torrentURL=e)},null,512),[[S.nr,n.torrentURL]])])],32)])):"downloads"===s.selectedView?((0,l.wg)(),(0,l.iD)("div",L,[(0,l._)("form",{onSubmit:t[6]||(t[6]=(0,S.iM)((t=>e.$emit("filter-downloads",n.downloadFilter)),["prevent"]))},[(0,l._)("label",V,[(0,l.wy)((0,l._)("input",{type:"search",placeholder:"Filter","onUpdate:modelValue":t[5]||(t[5]=e=>n.downloadFilter=e)},null,512),[[S.nr,n.downloadFilter]])])],32)])):"browser"===s.selectedView?((0,l.wg)(),(0,l.iD)("div",j,[(0,l._)("label",A,[(0,l._)("input",{type:"search",placeholder:"Filter",value:s.browserFilter,onChange:t[7]||(t[7]=t=>e.$emit("filter",t.target.value)),onKeyup:t[8]||(t[8]=t=>e.$emit("filter",t.target.value))},null,40,O)])])):(0,l.kq)("",!0),(0,l._)("div",W,[s.showNavButton?((0,l.wg)(),(0,l.iD)("button",{key:0,class:"mobile",title:"Menu",onClick:t[9]||(t[9]=t=>e.$emit("toggle-nav"))},Y)):(0,l.kq)("",!0),s.hasSubtitlesPlugin&&s.selectedItem&&("file"===s.selectedItem.type||(s.selectedItem.url||"").startsWith("file://"))?((0,l.wg)(),(0,l.iD)("button",{key:1,title:"Select subtitles",class:(0,a.C_)(["captions-btn",{selected:null!=s.selectedSubtitles}]),onClick:t[10]||(t[10]=t=>e.$emit("show-subtitles"))},B,2)):(0,l.kq)("",!0),(0,l.Wm)(r,{"plugin-name":s.pluginName,onSelect:t[11]||(t[11]=t=>e.$emit("select-player",t)),onStatus:t[12]||(t[12]=t=>e.$emit("player-status",t))},null,8,["plugin-name"]),(0,l._)("button",{title:"Play URL",onClick:t[13]||(t[13]=t=>e.$emit("play-url"))},K)])]),(0,l._)("div",{class:(0,a.C_)(["row filter fade-in",{hidden:!n.filterVisible}])},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Object.keys(s.sources),(t=>((0,l.wg)(),(0,l.iD)("label",{key:t},[(0,l._)("input",{type:"checkbox",checked:s.sources[t],onChange:s=>e.$emit("source-toggle",t)},null,40,G),(0,l.Uk)(" "+(0,a.zw)(t),1)])))),128))],2)],2)}const J={class:"media-players"},X={class:"plugins"},ee={class:"players"},te={class:"refresh"},se={key:1,class:"no-results"};function le(e,t,s,i,n,o){const r=(0,l.up)("Chromecast"),d=(0,l.up)("Kodi"),c=(0,l.up)("Mplayer"),u=(0,l.up)("Mpv"),m=(0,l.up)("GStreamer"),h=(0,l.up)("Vlc"),p=(0,l.up)("Loading"),w=(0,l.up)("DropdownItem"),y=(0,l.up)("Dropdown");return(0,l.wg)(),(0,l.iD)("div",J,[(0,l._)("div",X,[(0,l.Wm)(r,{player:"media.chromecast"===n.selectedPlayer?.pluginName?n.selectedPlayer:null,ref:"chromecastPlugin",onStatus:t[0]||(t[0]=t=>e.$emit("status",t))},null,8,["player"]),(0,l.Wm)(d,{player:"media.kodi"===n.selectedPlayer?.pluginName?n.selectedPlayer:null,ref:"kodiPlugin",onStatus:t[1]||(t[1]=t=>e.$emit("status",t))},null,8,["player"]),(0,l.Wm)(c,{player:"media.mplayer"===n.selectedPlayer?.pluginName?n.selectedPlayer:null,ref:"mplayerPlugin",onStatus:t[2]||(t[2]=t=>e.$emit("status",t))},null,8,["player"]),(0,l.Wm)(u,{player:"media.mpv"===n.selectedPlayer?.pluginName?n.selectedPlayer:null,ref:"mpvPlugin",onStatus:t[3]||(t[3]=t=>e.$emit("status",t))},null,8,["player"]),(0,l.Wm)(m,{player:"media.gstreamer"===n.selectedPlayer?.pluginName?n.selectedPlayer:null,ref:"gstreamerPlugin",onStatus:t[4]||(t[4]=t=>e.$emit("status",t))},null,8,["player"]),(0,l.Wm)(h,{player:"media.vlc"===n.selectedPlayer?.pluginName?n.selectedPlayer:null,ref:"vlcPlugin",onStatus:t[5]||(t[5]=t=>e.$emit("status",t))},null,8,["player"])]),(0,l._)("div",ee,[(0,l.Wm)(y,{title:n.selectedPlayer?.name||"Players","icon-class":n.selectedPlayer?n.selectedPlayer.iconClass:"fab fa-chromecast"},{default:(0,l.w5)((()=>[n.loading?((0,l.wg)(),(0,l.j4)(p,{key:0})):(0,l.kq)("",!0),(0,l._)("div",te,[(0,l.Wm)(w,{text:"Refresh","icon-class":"fa fa-sync-alt",onInput:o.refresh},null,8,["onInput"])]),n.players?.length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",se,"No players found")),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.players,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)(["player",{selected:null!=n.selectedPlayer&&n.selectedPlayer.pluginName===e.pluginName&&n.selectedPlayer.name===e.name}]),key:t},[(0,l.Wm)(w,{text:e.name,"icon-class":e.iconClass,onInput:t=>o.select(e)},null,8,["text","icon-class","onInput"])],2)))),128))])),_:1},8,["title","icon-class"])])])}s(560);var ae=s(4904),ie=s(7597),ne=s(6791);function oe(e,t,s,a,i,n){return(0,l.wg)(),(0,l.iD)("div")}var re=s(1065),de={name:"Mixin",mixins:[p.Z,re.Z],emits:["status"],props:{player:{type:Object}},data(){return{iconClass:null,name:null,pluginName:null}},methods:{async getPlayers(){return[{iconClass:this.iconClass,name:this.name,pluginName:this.pluginName,component:this,status:await this.status()}]},async status(){return await this.request(`${this.pluginName}.status`)},async play(e,t,s,l){if(!e)return await this.pause();const a={resource:e.url,subtitles:t,metadata:e};return l?.cache&&(a.cache_streams=!0),await this.request(`${this.pluginName}.play`,a)},async pause(){return await this.request(`${this.pluginName}.pause`)},async stop(){return await this.request(`${this.pluginName}.stop`)},async setVolume(e){return await this.request(`${this.pluginName}.set_volume`,{volume:e})},async toggleMute(){return await this.request(`${this.pluginName}.mute`)},async seek(e){return await this.request(`${this.pluginName}.seek`,{position:e})},async onNewMedia(e){const t=await this.onMediaEvent(e);t&&e.title&&this.notify({title:e.player||e.device||this.player?.name||this.name||this.pluginName,text:e.title,image:{iconClass:this.iconClass||"fa fa-play"}})},async onMediaEvent(e){return e.plugin===this.pluginName&&(this.$emit("status",await this.status()),!0)},async addSubtitles(e){await this.request(`${this.pluginName}.add_subtitles`,{filename:e}),await this.request(`${this.pluginName}.toggle_subtitles`,{visible:!0})},async removeSubtitles(){await this.request(`${this.pluginName}.toggle_subtitles`,{visible:!1})},supports(e){return"file"===e?.type||"youtube"===e?.type||(e.url||e).startsWith("file://")||(e.url||e).startsWith("http://")||(e.url||e).startsWith("https://")}},mounted(){this.subscribe(this.onNewMedia,`on-new-media-${this.pluginName}`,"platypush.message.event.media.NewPlayingMediaEvent"),this.subscribe(this.onMediaEvent,`on-media-event-${this.pluginName}`,"platypush.message.event.media.MediaPlayEvent","platypush.message.event.media.MediaStopEvent","platypush.message.event.media.MediaPauseEvent","platypush.message.event.media.MediaSeekEvent","platypush.message.event.media.MediaVolumeChangedEvent","platypush.message.event.media.MediaMuteChangedEvent")},destroy(){this.unsubscribe(`on-media-event-${this.pluginName}`)}};const ce=de;var ue=ce,me={name:"Chromecast",mixins:[ue],emits:["status"],data(){return{name:"Chromecast",pluginName:"media.chromecast",iconClass:"fab fa-chromecast"}},methods:{async getPlayers(){const e=Object.values(await this.request(`${this.pluginName}.status`));return Promise.all(e.map((async e=>({...e,iconClass:"audio"===e.type?"fa fa-volume-up":"fab fa-chromecast",pluginName:this.pluginName,component:this}))))},getPlayerName(e){return"string"===typeof e?e:e?e?.name:this.player?.name},async status(e){return(await this.request(`${this.pluginName}.status`,{chromecast:this.getPlayerName(e)}))?.status},async play(e,t,s){return e?await this.request(`${this.pluginName}.play`,{resource:e.url,chromecast:this.getPlayerName(s),subtitles:t,metadata:e}):await this.pause(s)},async pause(e){return await this.request(`${this.pluginName}.pause`,{chromecast:this.getPlayerName(e)})},async stop(e){return await this.request(`${this.pluginName}.quit`,{chromecast:this.getPlayerName(e)})},async setVolume(e,t){return await this.request(`${this.pluginName}.set_volume`,{volume:e,chromecast:this.getPlayerName(t)})},async seek(e,t){return await this.request(`${this.pluginName}.seek`,{position:e,chromecast:this.getPlayerName(t)})},async onMediaEvent(e){return e.plugin===this.pluginName&&(this.$emit("status",await this.status(e.player)),!0)},supports(){return!0}}};const he=(0,x.Z)(me,[["render",oe]]);var pe=he;function we(e,t,s,a,i,n){return(0,l.wg)(),(0,l.iD)("div")}var ye={name:"Kodi",mixins:[ue],data(){return{iconClass:"fa fa-kodi",name:"Kodi",pluginName:"media.kodi"}},methods:{async getPlayers(){return[{iconClass:this.iconClass,pluginName:this.pluginName,name:this.$root.config["media.kodi"]?.host||this.name,component:this,status:await this.request(`${this.pluginName}.status`)}]},supports(e){return"youtube"===e?.type||(e.url||e).startsWith("http://")||(e.url||e).startsWith("https://")}}};const fe=(0,x.Z)(ye,[["render",we]]);var ge=fe;function ve(e,t,s,a,i,n){return(0,l.wg)(),(0,l.iD)("div")}var _e={name:"Mplayer",mixins:[ue],data(){return{iconClass:"fa fa-tv",name:"MPlayer",pluginName:"media.mplayer"}}};const be=(0,x.Z)(_e,[["render",ve]]);var ke=be;function Ce(e,t,s,a,i,n){return(0,l.wg)(),(0,l.iD)("div")}var Pe={name:"Mpv",mixins:[ue],data(){return{iconClass:"fa fa-tv",name:"mpv",pluginName:"media.mpv"}}};const De=(0,x.Z)(Pe,[["render",Ce]]);var xe=De;function Ie(e,t,s,a,i,n){return(0,l.wg)(),(0,l.iD)("div")}var $e={mixins:[ue],data(){return{iconClass:"fa fa-tv",name:"GStreamer",pluginName:"media.gstreamer"}}};const Se=(0,x.Z)($e,[["render",Ie]]);var qe=Se;function Ne(e,t,s,a,i,n){return(0,l.wg)(),(0,l.iD)("div")}var Te={name:"Vlc",mixins:[ue],data(){return{iconClass:"fa fa-tv",name:"VLC",pluginName:"media.vlc"}}};const Me=(0,x.Z)(Te,[["render",Ne]]);var Ue=Me,ze={name:"Players",components:{Loading:ne.Z,DropdownItem:ie.Z,Dropdown:ae.Z,Chromecast:pe,Kodi:ge,Mplayer:ke,Mpv:xe,GStreamer:qe,Vlc:Ue},emits:["select","status"],mixins:[p.Z],props:{pluginName:{type:String,required:!0}},data(){return{loading:!1,players:[],selectedPlayer:null,config:{},plugins:[]}},methods:{loadPlugins(){this.plugins=Object.entries(this.$refs).filter((e=>e[0].endsWith("Plugin"))).map((e=>e[1]))},async refresh(){this.players=[],this.loading=!0;const e=this.$root.config;try{await Promise.all(this.plugins.map((async t=>{if(!(t.pluginName in e))return;const s=await t.getPlayers();if(this.players.push(...s),null==this.selectedPlayer&&t.pluginName===this.pluginName&&s.length>0){const e=this.getUrlArgs().player;let t=s[0];e?.length&&(t=s.find((t=>t.name===e)),t||(t=s[0])),this.select(t)}})))}finally{this.loading=!1}},select(e){this.selectedPlayer=e,this.$emit("select",e)}},async mounted(){await this.loadPlugins(),await this.refresh()}};const Re=(0,x.Z)(ze,[["render",le]]);var Ze=Re,Le={name:"Header",components:{Players:Ze},mixins:[p.Z],emits:["filter","filter-downloads","play-url","player-status","search","select-player","show-subtitles","source-toggle","toggle-nav","torrent-add"],props:{pluginName:{type:String,required:!0},selectedView:{type:String,required:!0},selectedSubtitles:{type:String},selectedItem:{type:Object},hasSubtitlesPlugin:{type:Boolean,default:!1},showNavButton:{type:Boolean},browserFilter:{type:String,default:""},sources:{type:Object,default:()=>{}}},data(){return{filterVisible:!1,query:"",torrentURL:"",downloadFilter:""}},computed:{enabledTypes(){return Object.keys(this.sources).filter((e=>this.sources[e]))}},methods:{search(){this.query?.length&&this.enabledTypes?.length&&this.$emit("search",{query:this.query,types:this.enabledTypes})}},mounted(){this.$nextTick((()=>{const e=this.getUrlArgs()?.q;e&&(this.query=e,this.$emit("search",{query:e,types:this.enabledTypes}))})),this.$watch((()=>this.selectedView),(()=>{this.$emit("filter",""),this.torrentURL="",this.query=""}))}};const Ve=(0,x.Z)(Le,[["render",Q],["__scopeId","data-v-3e938a5b"]]);var je=Ve,Ae=s(9548);const Oe=e=>((0,l.dD)("data-v-e857a488"),e=e(),(0,l.Cn)(),e),We={key:1,class:"media-downloads fade-in"},Fe={key:0,class:"no-content"},Ye={key:1,class:"no-content"},Ee={key:2,class:"items"},Be=["onClick"],He={class:"col-8 left side"},Ke=["textContent"],Ge={class:"col-2 right side"},Qe=["textContent"],Je={class:"col-2 right side"},Xe={key:0,class:"modal-body media-info"},et={key:0,class:"row"},tt=Oe((()=>(0,l._)("div",{class:"attr"},"Path",-1))),st=["textContent"],lt={key:1,class:"row"},at=Oe((()=>(0,l._)("div",{class:"attr"},"Remote URL",-1))),it={class:"value"},nt=["href","textContent"],ot={key:2,class:"row"},rt=Oe((()=>(0,l._)("div",{class:"attr"},"Local URL",-1))),dt={class:"value"},ct=["href","textContent"],ut={key:3,class:"row"},mt=Oe((()=>(0,l._)("div",{class:"attr"},"State",-1))),ht=["textContent"],pt={key:4,class:"row"},wt=Oe((()=>(0,l._)("div",{class:"attr"},"Progress",-1))),yt=["textContent"],ft={key:5,class:"row"},gt=Oe((()=>(0,l._)("div",{class:"attr"},"Size",-1))),vt=["textContent"],_t={key:6,class:"row"},bt=Oe((()=>(0,l._)("div",{class:"attr"},"Started",-1))),kt=["textContent"],Ct={key:7,class:"row"},Pt=Oe((()=>(0,l._)("div",{class:"attr"},"Ended",-1))),Dt=["textContent"];function xt(e,t,s,i,n,o){const r=(0,l.up)("Loading"),d=(0,l.up)("DropdownItem"),c=(0,l.up)("Dropdown"),u=(0,l.up)("Modal"),m=(0,l.up)("ConfirmDialog");return n.loading?((0,l.wg)(),(0,l.j4)(r,{key:0})):((0,l.wg)(),(0,l.iD)("div",We,[Object.keys(s.downloads).length?Object.keys(o.filteredDownloads).length?((0,l.wg)(),(0,l.iD)("div",Ee,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.filteredDownloads,((s,i)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)(["row item",{selected:n.selectedItem===i}]),key:i,onClick:e=>n.selectedItem=i},[(0,l._)("div",He,[(0,l._)("i",{class:(0,a.C_)(["icon fa",{"fa-check":"completed"===s.state.toLowerCase(),"fa-play":"downloading"===s.state.toLowerCase(),"fa-pause":"paused"===s.state.toLowerCase(),"fa-times":"cancelled"===s.state.toLowerCase(),"fa-stop":"idle"===s.state.toLowerCase(),"fa-hourglass-half":"started"===s.state.toLowerCase()}])},null,2),(0,l._)("div",{class:"title",textContent:(0,a.zw)(s.path||s.url)},null,8,Ke)]),(0,l._)("div",Ge,[(0,l._)("span",{textContent:(0,a.zw)(o.displayProgress[i])},null,8,Qe)]),(0,l._)("div",Je,[(0,l.Wm)(c,{title:"Actions","icon-class":"fa fa-ellipsis-h",onClick:e=>n.selectedItem=i},{default:(0,l.w5)((()=>["completed"===s.state.toLowerCase()?((0,l.wg)(),(0,l.j4)(d,{key:0,"icon-class":"fa fa-play",text:"Play",onInput:t=>e.$emit("play",{url:`file:///${s.path}`})},null,8,["onInput"])):(0,l.kq)("",!0),"downloading"===s.state.toLowerCase()||"started"===s.state.toLowerCase()?((0,l.wg)(),(0,l.j4)(d,{key:1,"icon-class":"fa fa-pause",text:"Pause download",onInput:e=>o.pause(s)},null,8,["onInput"])):(0,l.kq)("",!0),"paused"===s.state.toLowerCase()?((0,l.wg)(),(0,l.j4)(d,{key:2,"icon-class":"fa fa-rotate-left",text:"Resume download",onInput:e=>o.resume(s)},null,8,["onInput"])):(0,l.kq)("",!0),"completed"===s.state.toLowerCase()?((0,l.wg)(),(0,l.j4)(d,{key:3,"icon-class":"fa fa-eraser",text:"Clear from queue",onInput:e=>o.clear(s)},null,8,["onInput"])):(0,l.kq)("",!0),"completed"!==s.state.toLowerCase()&&"cancelled"!==s.state.toLowerCase()?((0,l.wg)(),(0,l.j4)(d,{key:4,"icon-class":"fa fa-stop",text:"Cancel",onInput:e=>o.cancel(s)},null,8,["onInput"])):(0,l.kq)("",!0),"completed"===s.state.toLowerCase()||"cancelled"===s.state.toLowerCase()?((0,l.wg)(),(0,l.j4)(d,{key:5,"icon-class":"fa fa-trash",text:"Remove file",onInput:e=>o.onDeleteSelected(s)},null,8,["onInput"])):(0,l.kq)("",!0),(0,l.Wm)(d,{"icon-class":"fa fa-info",text:"Media info",onInput:t[0]||(t[0]=t=>e.$refs.mediaInfo.isVisible=!0)})])),_:2},1032,["onClick"])])],10,Be)))),128))])):((0,l.wg)(),(0,l.iD)("div",Ye,"No media downloads match the filter")):((0,l.wg)(),(0,l.iD)("div",Fe,"No media downloads in progress")),(0,l.Wm)(u,{ref:"mediaInfo",title:"Media info",width:"80%"},{default:(0,l.w5)((()=>[null!=n.selectedItem&&s.downloads[n.selectedItem]?((0,l.wg)(),(0,l.iD)("div",Xe,[s.downloads[n.selectedItem].name?((0,l.wg)(),(0,l.iD)("div",et,[tt,(0,l._)("div",{class:"value",textContent:(0,a.zw)(s.downloads[n.selectedItem].path)},null,8,st)])):(0,l.kq)("",!0),s.downloads[n.selectedItem].url?((0,l.wg)(),(0,l.iD)("div",lt,[at,(0,l._)("div",it,[(0,l._)("a",{href:s.downloads[n.selectedItem].url,target:"_blank",textContent:(0,a.zw)(s.downloads[n.selectedItem].url)},null,8,nt)])])):(0,l.kq)("",!0),s.downloads[n.selectedItem].path?((0,l.wg)(),(0,l.iD)("div",ot,[rt,(0,l._)("div",dt,[(0,l._)("a",{href:o.localURL(s.downloads[n.selectedItem]),target:"_blank",textContent:(0,a.zw)(s.downloads[n.selectedItem].path)},null,8,ct)])])):(0,l.kq)("",!0),s.downloads[n.selectedItem].state?((0,l.wg)(),(0,l.iD)("div",ut,[mt,(0,l._)("div",{class:"value",textContent:(0,a.zw)(s.downloads[n.selectedItem].state)},null,8,ht)])):(0,l.kq)("",!0),null!=s.downloads[n.selectedItem].progress?((0,l.wg)(),(0,l.iD)("div",pt,[wt,(0,l._)("div",{class:"value",textContent:(0,a.zw)(o.displayProgress[n.selectedItem])},null,8,yt)])):(0,l.kq)("",!0),null!=s.downloads[n.selectedItem].size?((0,l.wg)(),(0,l.iD)("div",ft,[gt,(0,l._)("div",{class:"value",textContent:(0,a.zw)(e.convertSize(s.downloads[n.selectedItem].size))},null,8,vt)])):(0,l.kq)("",!0),s.downloads[n.selectedItem].started_at?((0,l.wg)(),(0,l.iD)("div",_t,[bt,(0,l._)("div",{class:"value",textContent:(0,a.zw)(e.formatDateTime(s.downloads[n.selectedItem].started_at))},null,8,kt)])):(0,l.kq)("",!0),s.downloads[n.selectedItem].ended_at?((0,l.wg)(),(0,l.iD)("div",Ct,[Pt,(0,l._)("div",{class:"value",textContent:(0,a.zw)(e.formatDateTime(s.downloads[n.selectedItem].ended_at))},null,8,Dt)])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])),_:1},512),(0,l.Wm)(m,{ref:"deleteConfirmDialog",title:"Delete file",onInput:o.rm,onClose:t[1]||(t[1]=e=>n.mediaToDelete=null)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Are you sure you want to delete the downloaded file? ")])),_:1},8,["onInput"])]))}var It=s(7833),$t={mixins:[p.Z,re.Z],emits:["play","refresh"],components:{ConfirmDialog:It.Z,Dropdown:ae.Z,DropdownItem:ie.Z,Loading:ne.Z,Modal:h.Z},props:{downloads:{type:Object,default:()=>({})},pluginName:{type:String,required:!0},filter:{type:String,default:""}},data(){return{loading:!1,selectedItem:null,mediaToDelete:null}},computed:{relativeFiles(){return null!=this.selectedItem&&this.downloads[this.selectedItem]?.files?.length?this.downloads[this.selectedItem].files.map((e=>e.split("/").pop())):[]},displayProgress(){return Object.values(this.downloads).reduce(((e,t)=>{let s=this.round(t.progress,2),l=null!=s?`${s}%`:"N/A";return"completed"===t.state.toLowerCase()&&(l="100%"),e[t.path]=l,e}),{})},filteredDownloads(){const e=(this.filter||"").trim().toLowerCase();let t=Object.values(this.downloads);return e?.length&&(t=t.filter((t=>t.path.toLowerCase().includes(e)||t.url.toLowerCase().includes(e)))),t.reduce(((e,t)=>(e[t.path]=t,e)),{})}},methods:{async run(e,t){this.loading=!0;try{await this.request(`${this.pluginName}.${e}`,{path:t.path})}finally{this.loading=!1}},async pause(e){await this.run("pause_download",e)},async resume(e){await this.run("resume_download",e)},async clear(e){await this.run("clear_downloads",e),this.downloads[e.path]&&delete this.downloads[e.path]},async cancel(e){await this.run("cancel_download",e)},async rm(){const e=this.mediaToDelete;if(e)try{await this.request("file.unlink",{file:e.path})}finally{await this.clear(e)}},localURL(e){return`${window.location.origin}/file?path=${encodeURIComponent(e.path)}`},onDeleteSelected(e){this.mediaToDelete=e,this.$refs.deleteConfirmDialog.show()}}};const St=(0,x.Z)($t,[["render",xt],["__scopeId","data-v-e857a488"]]);var qt=St,Nt=s(7539);const Tt=e=>((0,l.dD)("data-v-c67b72b8"),e=e(),(0,l.Cn)(),e),Mt=Tt((()=>(0,l._)("i",{class:"fa fa-bars"},null,-1))),Ut=[Mt],zt=["title","onClick"];function Rt(e,t,s,i,n,o){return(0,l.wg)(),(0,l.iD)("nav",null,[(0,l._)("button",{class:"menu-button mobile",onClick:t[0]||(t[0]=t=>e.$emit("toggle"))},Ut),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.displayedViews,((e,t)=>((0,l.wg)(),(0,l.iD)("li",{key:t,title:e.displayName,class:(0,a.C_)({selected:t===s.selectedView,...o.customClasses[t]}),onClick:e=>o.input(t)},[(0,l._)("i",{class:(0,a.C_)(e.iconClass)},null,2)],10,zt)))),128))])}var Zt={mixins:[p.Z],emits:["input","toggle"],props:{selectedView:{type:String},collapsed:{type:Boolean,default:!1},torrentPlugin:{type:String},downloadIconClass:{type:String},views:{type:Object,default:()=>({search:{iconClass:"fa fa-search",displayName:"Search"},browser:{iconClass:"fa fa-folder",displayName:"Browser"},downloads:{iconClass:"fa fa-download",displayName:"Downloads"},torrents:{iconClass:"fa fa-magnet",displayName:"Torrents"}})}},computed:{displayedViews(){const e={...this.views};return this.torrentPlugin?.length||delete e.torrents,e},customClasses(){return{downloads:this.downloadIconClass.split(" ").reduce(((e,t)=>(e[t]=!0,e)),{})}}},methods:{input(e){this.$emit("input",e),this.setUrlArgs({view:e})}}};const Lt=(0,x.Z)(Zt,[["render",Rt],["__scopeId","data-v-c67b72b8"]]);var Vt=Lt;const jt=e=>((0,l.dD)("data-v-1def516f"),e=e(),(0,l.Cn)(),e),At={class:"playlist-adder-container"},Ot={class:"playlists"},Wt={class:"playlist new-playlist"},Ft=jt((()=>(0,l._)("i",{class:"fa fa-plus"},null,-1))),Yt=["onClick"],Et=jt((()=>(0,l._)("i",{class:"fa fa-list"},null,-1)));function Bt(e,t,s,i,n,o){const r=(0,l.up)("Loading"),d=(0,l.up)("TextPrompt");return(0,l.wg)(),(0,l.iD)("div",At,[n.loading?((0,l.wg)(),(0,l.j4)(r,{key:0})):(0,l.kq)("",!0),(0,l.Wm)(d,{ref:"newPlaylistName",visible:n.showNewPlaylist,onInput:t[0]||(t[0]=e=>o.createPlaylist(e))},{default:(0,l.w5)((()=>[(0,l.Uk)(" Playlist name ")])),_:1},8,["visible"]),(0,l._)("div",Ot,[(0,l._)("div",Wt,[(0,l._)("button",{onClick:t[1]||(t[1]=e=>n.showNewPlaylist=!0)},[Ft,(0,l.Uk)(" Create new playlist ")])]),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.playlists,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"playlist",key:e.id},[(0,l._)("button",{onClick:t=>o.addToPlaylist(e.id)},[Et,(0,l.Uk)(" "+(0,a.zw)(e.name),1)],8,Yt)])))),128))])])}var Ht=s(5757),Kt={emits:["done"],mixins:[p.Z],components:{Loading:ne.Z,TextPrompt:Ht.Z},props:{item:{type:Object,required:!0}},data(){return{loading:!1,playlists:[],showNewPlaylist:!1}},methods:{async createPlaylist(e){if(e=e?.trim(),e?.length){this.loading=!0;try{const t=await this.request("youtube.create_playlist",{name:e});await this.request("youtube.add_to_playlist",{playlist_id:t.id,video_id:this.item.id||this.item.url}),this.$emit("done"),this.notify({text:"Playlist created and video added",image:{icon:"check"}})}finally{this.loading=!1,this.showNewPlaylist=!1}}},async refreshPlaylists(){this.loading=!0;try{this.playlists=await this.request("youtube.get_playlists")}finally{this.loading=!1}},async addToPlaylist(e){this.loading=!0;try{await this.request("youtube.add_to_playlist",{playlist_id:e,video_id:this.item.id||this.item.url}),this.notify({text:"Video added to playlist",image:{icon:"check"}}),this.$emit("done")}finally{this.loading=!1}}},mounted(){this.refreshPlaylists()}};const Gt=(0,x.Z)(Kt,[["render",Bt],["__scopeId","data-v-1def516f"]]);var Qt=Gt,Jt=s(2893);const Xt=e=>((0,l.dD)("data-v-77ae3705"),e=e(),(0,l.Cn)(),e),es={class:"subtitles-container"},ts={class:"items"},ss=Xt((()=>(0,l._)("div",{class:"col-1 icon"},[(0,l._)("i",{class:"fa fa-ban"})],-1))),ls=Xt((()=>(0,l._)("div",{class:"col-11 title"},"None",-1))),as=[ss,ls],is=["onClick"],ns={class:"col-1 icon"},os={key:0,class:"fa fa-file"},rs={key:2,class:"fa fa-closed-captioning"},ds={class:"footer"};function cs(e,t,s,i,n,o){const r=(0,l.up)("Loading");return(0,l.wg)(),(0,l.iD)("div",es,[(0,l._)("div",ts,[n.loading?((0,l.wg)(),(0,l.j4)(r,{key:0})):(0,l.kq)("",!0),(0,l._)("div",{class:(0,a.C_)(["row item",{selected:null==n.selectedItem}]),onClick:t[0]||(t[0]=e=>n.selectedItem=null)},as,2),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.items,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)(["row item",{selected:n.selectedItem===t}]),key:t,onClick:e=>n.selectedItem=t},[(0,l._)("div",ns,[e.IsLocal?((0,l.wg)(),(0,l.iD)("i",os)):e.ISO639?((0,l.wg)(),(0,l.iD)("i",{key:1,class:(0,a.C_)(["flag-icon",`flag-icon-${e.ISO639}`])},null,2)):((0,l.wg)(),(0,l.iD)("i",rs))]),(0,l.Uk)(" "+(0,a.zw)(e.SubFileName),1)],10,is)))),128))]),(0,l._)("div",ds,[(0,l._)("button",{onClick:t[1]||(t[1]=t=>e.$emit("select-subs",null==n.selectedItem?null:n.items[n.selectedItem]))},"Select")])])}var us={name:"Subtitles",mixins:[p.Z],components:{Loading:ne.Z},emits:["select-subs"],props:{item:{type:Object,default:()=>{}}},data(){return{loading:!1,items:[],selectedItem:null}},methods:{async refresh(){this.loading=!0;try{this.items=await this.request("media.subtitles.search",{resource:this.item.url,language:"all"})}finally{this.loading=!1}}},mounted(){this.refresh()}};const ms=(0,x.Z)(us,[["render",cs],["__scopeId","data-v-77ae3705"]]);var hs=ms,ps=s(8);const ws=e=>((0,l.dD)("data-v-6f90e487"),e=e(),(0,l.Cn)(),e),ys={class:"row"},fs={class:"row footer"},gs=["disabled"],vs=ws((()=>(0,l._)("i",{class:"fa fa-play"},null,-1)));function _s(e,t,s,a,i,n){return(0,l.wg)(),(0,l.iD)("form",{class:"url-player",onSubmit:t[1]||(t[1]=(0,S.iM)((t=>e.$emit("play",i.value)),["prevent"]))},[(0,l._)("div",ys,[(0,l._)("label",null,[(0,l.Uk)(" Play URL (use the file:// prefix for local files) "),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.value=e),ref:"playUrlInput",autofocus:""},null,512),[[S.nr,i.value]])])]),(0,l._)("div",fs,[(0,l._)("button",{type:"submit",disabled:!i.value?.length},[vs,(0,l.Uk)(" Play ")],8,gs)])],32)}var bs={emits:["input","play"],props:{playUrl:{type:String,default:""}},data(){return{value:this.playUrl}}};const ks=(0,x.Z)(bs,[["render",_s],["__scopeId","data-v-6f90e487"]]);var Cs=ks,Ps={name:"Media",mixins:[p.Z,re.Z],components:{Browser:$,Header:je,Info:Ae.Z,MediaDownloads:qt,MediaView:Nt.Z,Modal:h.Z,Nav:Vt,PlaylistAdder:Qt,Results:Jt.Z,Subtitles:hs,TorrentTransfers:ps.Z,UrlPlayer:Cs},props:{pluginName:{type:String,required:!0},mediaButtons:{type:Object,default:()=>({previous:!1,next:!1,stop:!0})}},data(){return{addToPlaylistItem:null,awaitingPlayTorrent:null,browserFilter:null,downloads:{},downloadsFilter:null,forceShowNav:!1,infoTrack:null,loading:!1,prevSelectedView:null,results:[],selectedPlayer:null,selectedResult:null,selectedSubtitles:null,selectedView:"search",showSubtitlesModal:!1,sources:{file:!0,youtube:!0,torrent:!0},urlPlay:null,torrentPlugin:null,torrentPlugins:["torrent","rtorrent"]}},computed:{hasSubtitlesPlugin(){return"media.subtitles"in this.$root.config},navContainerStyle(){return this.forceShowNav?{display:"flex !important"}:{}},selectedItem(){return this.selectedPlayer&&this.selectedPlayer.status&&("play"===this.selectedPlayer.status.state||"pause"===this.selectedPlayer.status.state)?this.selectedPlayer.status:this.results[this.selectedResult]},selectedPlaylist(){if(null==this.selectedResult)return null;const e=this.results[this.selectedResult];return"playlist"!==e?.item_type?null:this.results[this.selectedResult]},selectedChannel(){if(null==this.selectedResult)return null;const e=this.results[this.selectedResult];return"channel"!==e?.item_type?null:this.results[this.selectedResult]},hasPendingDownloads(){return Object.values(this.downloads).some((e=>!["completed","cancelled"].includes(e.state.toLowerCase())))},allDownloadsCompleted(){return Object.values(this.downloads).length&&Object.values(this.downloads).every((e=>["completed","cancelled"].includes(e.state.toLowerCase())))},downloadIconClass(){return this.hasPendingDownloads?"glow loop":this.allDownloadsCompleted?"completed":""}},methods:{async search(e){this.loading=!0,this.setUrlArgs({q:e.query});try{this.results=await this.request(`${this.pluginName}.search`,e)}finally{this.loading=!1}},async play(e,t){if("torrent"===e?.type)return this.awaitingPlayTorrent=e.url,this.notify({text:"Torrent queued for download",image:{iconClass:"fa fa-magnet"}}),void await this.download(e);this.loading=!0;try{this.selectedPlayer.component.supports(e)||(e=await this.startStreaming(e,this.pluginName)),await this.selectedPlayer.component.play(e,this.selectedSubtitles,this.selectedPlayer,t),await this.refresh()}finally{this.loading=!1}},async pause(){await this.selectedPlayer.component.pause(this.selectedPlayer),await this.refresh()},async stop(){await this.selectedPlayer.component.stop(this.selectedPlayer),await this.refresh()},async setVolume(e){await this.selectedPlayer.component.setVolume(e,this.selectedPlayer),await this.refresh()},async toggleMute(){await this.selectedPlayer.component.toggleMute(this.selectedPlayer),await this.refresh()},async seek(e){await this.selectedPlayer.component.seek(e,this.selectedPlayer),await this.refresh()},async view(e){const t=await this.startStreaming(e,this.pluginName,!0);window.open(t.url,"_blank")},async download(e,t){switch(e.type){case"torrent":return await this.downloadTorrent(e,t);case"youtube":return await this.downloadYoutube(e,t)}},async downloadAudio(e){await this.download(e,{onlyAudio:!0})},async refresh(){this.selectedPlayer.status=await this.selectedPlayer.component.status(this.selectedPlayer)},onStatusUpdate(e){this.selectedPlayer&&(this.selectedPlayer.status=e)},onPlayUrlModalOpen(){const e=this.$refs.playUrlModal;this.urlPlay="",e.$nextTick((()=>{const t=e.$el.querySelector("input[type=text]");t&&(t.focus(),t.select())}))},onTorrentQueued(e){this.notify({title:"Torrent queued for download",text:e.name,image:{iconClass:"fa fa-magnet"}})},onTorrentMetadata(e){this.notify({title:"Torrent metadata downloaded",text:e.name,image:{iconClass:"fa fa-info"}})},onTorrentDownloadStart(e){this.notify({title:"Torrent download started",text:e.name,image:{iconClass:"fa fa-download"}})},onTorrentDownloadCompleted(e){this.notify({title:"Torrent download completed",text:e.name,image:{iconClass:"fa fa-check"}})},getTorrentPlugin(){const e=this.$root.config[this.pluginName]||{};let t=e.torrent_plugin;if(!t)for(let s of this.torrentPlugins)if(s in this.$root.config){t=s;break}return t},async downloadTorrent(e){const t=this.getTorrentPlugin();if(t){if(e?.url)return await this.request(`${t}.download`,{torrent:e.url||e});this.notify({text:"No torrent URL available",error:!0})}else this.notify({text:"No torrent plugins configured",error:!0})},async downloadYoutube(e,t){if(!e?.url)return void this.notify({text:"No YouTube URL available",error:!0});const s={url:e.url},l=!!t?.onlyAudio;l&&(s.only_audio=!0),await this.request(`${this.pluginName}.download`,s)},async selectSubtitles(e){if(this.$refs.subtitlesSelector.close(),!e)return void(this.selectedSubtitles=null);this.notify({text:"Downloading subtitles track",image:{iconClass:"fa fa-download"}});const t=await this.request("media.subtitles.download",{link:e.SubDownloadLink});this.selectedSubtitles=t.filename,this.notify({text:"Subtitles track downloaded",image:{iconClass:"fa fa-check"}})},onResultSelect(e){null==this.selectedResult||this.selectedResult!==e?(this.selectedResult=e,this.selectedSubtitles=null):this.selectedResult=null;const t=this.results[this.selectedResult];null==this.selectedResult||"playlist"!==t?.item_type&&"channel"!==t?.item_type?this.selectedView=this.prevSelectedView||"search":this.onBrowserItemSelect()},onBrowserItemSelect(){this.prevSelectedView!=this.selectedView&&(this.prevSelectedView=this.selectedView),this.selectedView="browser"},showPlayUrlModal(){this.$refs.playUrlModal.show()},async playUrl(e){this.urlPlay=e,this.loading=!0;try{await this.play({url:e}),this.$refs.playUrlModal.close()}finally{this.loading=!1}},async refreshDownloads(){this.downloads=(await this.request(`${this.pluginName}.get_downloads`)).reduce(((e,t)=>(e[t.path]=t,e)),{})},setView(e){this.selectedView=e,"search"===e&&(this.selectedResult=null)},updateView(){const e=this.getUrlArgs();e.view&&(this.selectedView=e.view),e.player&&this.players?.length&&(this.selectedPlayer=this.players.find((t=>t.name===e.player))),e.subtitles&&(this.selectedSubtitles=e.subtitles)},onDownloadStarted(e){this.downloads[e.path]=e,this.notify({title:"Media download started",html:`Saving <b>${e.resource}</b> to <b>${e.path}</b>`,image:{iconClass:"fa fa-download"}})},onDownloadCompleted(e){this.downloads[e.path]=e,this.downloads[e.path].progress=100,this.notify({title:"Media download completed",html:`Saved <b>${e.resource}</b> to <b>${e.path}</b>`,image:{iconClass:"fa fa-check"}})},onDownloadError(e){this.downloads[e.path]=e,this.notify({title:"Media download error",html:`Error downloading ${e.resource}: <b>${e.error}</b>`,error:!0,image:{iconClass:"fa fa-exclamation-triangle"}})},onDownloadCancelled(e){this.downloads[e.path]=e,this.notify({title:"Media download cancelled",html:`Cancelled download of <b>${e.resource}</b>`,image:{iconClass:"fa fa-times"}})},onDownloadPaused(e){this.downloads[e.path]=e,this.notify({title:"Media download paused",html:`Paused download of <b>${e.resource}</b>`,image:{iconClass:"fa fa-pause"}})},onDownloadResumed(e){this.downloads[e.path]=e,this.notify({title:"Media download resumed",html:`Resumed download of <b>${e.resource}</b>`,image:{iconClass:"fa fa-play"}})},onDownloadProgress(e){this.downloads[e.path]=e},onDownloadClear(e){e.path in this.downloads&&delete this.downloads[e.path]},selectChannelFromItem(e){const t=e?.type,s=e?.channel_id||e?.channel?.id||e?.channel_url.split("/").pop();(t||null!=s)&&(this.setUrlArgs({provider:t,section:"subscriptions",channel:s}),this.selectedView="browser")}},watch:{selectedPlayer(e){this.setUrlArgs({player:e?.name}),e&&this.refresh()},selectedSubtitles(e){this.setUrlArgs({subtitles:this.selectedSubtitles}),new Set(["play","pause"]).has(this.selectedPlayer?.status?.state)&&(e?this.selectedPlayer.component.addSubtitles(e):this.selectedPlayer.component.removeSubtitles())},selectedView(){this.setUrlArgs({view:this.selectedView})}},async mounted(){this.torrentPlugin=this.getTorrentPlugin(),this.subscribe(this.onTorrentQueued,"on-torrent-queued","platypush.message.event.torrent.TorrentQueuedEvent"),this.subscribe(this.onTorrentMetadata,"on-torrent-metadata","platypush.message.event.torrent.TorrentDownloadedMetadataEvent"),this.subscribe(this.onTorrentDownloadStart,"on-torrent-download-start","platypush.message.event.torrent.TorrentDownloadStartEvent"),this.subscribe(this.onTorrentDownloadCompleted,"on-torrent-download-completed","platypush.message.event.torrent.TorrentDownloadCompletedEvent"),this.subscribe(this.onDownloadStarted,"on-download-started","platypush.message.event.media.MediaDownloadStartedEvent"),this.subscribe(this.onDownloadCompleted,"on-download-completed","platypush.message.event.media.MediaDownloadCompletedEvent"),this.subscribe(this.onDownloadError,"on-download-error","platypush.message.event.media.MediaDownloadErrorEvent"),this.subscribe(this.onDownloadCancelled,"on-download-cancelled","platypush.message.event.media.MediaDownloadCancelledEvent"),this.subscribe(this.onDownloadPaused,"on-download-paused","platypush.message.event.media.MediaDownloadPausedEvent"),this.subscribe(this.onDownloadResumed,"on-download-resumed","platypush.message.event.media.MediaDownloadResumedEvent"),this.subscribe(this.onDownloadProgress,"on-download-progress","platypush.message.event.media.MediaDownloadProgressEvent"),this.subscribe(this.onDownloadClear,"on-download-clear","platypush.message.event.media.MediaDownloadClearEvent"),"media.plex"in this.$root.config&&(this.sources.plex=!0),"media.jellyfin"in this.$root.config&&(this.sources.jellyfin=!0),await this.refreshDownloads(),this.updateView()},destroy(){this.unsubscribe("on-torrent-queued"),this.unsubscribe("on-torrent-metadata"),this.unsubscribe("on-torrent-download-start"),this.unsubscribe("on-torrent-download-completed"),this.unsubscribe("on-download-started"),this.unsubscribe("on-download-completed"),this.unsubscribe("on-download-error"),this.unsubscribe("on-download-cancelled"),this.unsubscribe("on-download-paused"),this.unsubscribe("on-download-resumed"),this.unsubscribe("on-download-progress"),this.unsubscribe("on-download-clear")}};const Ds=(0,x.Z)(Ps,[["render",m],["__scopeId","data-v-543eb2d2"]]);var xs=Ds},9548:function(e,t,s){"use strict";s.d(t,{Z:function(){return lt}});var l=s(6252),a=s(3577);const i=e=>((0,l.dD)("data-v-240278fa"),e=e(),(0,l.Cn)(),e),n={class:"media-info"},o={class:"row header"},r={class:"item-container"},d={key:0,class:"row direct-url"},c=i((()=>(0,l._)("div",{class:"left side"},"Direct URL",-1))),u={class:"right side"},m=["href"],h=i((()=>(0,l._)("i",{class:"fas fa-external-link-alt"},null,-1))),p=[h],w=i((()=>(0,l._)("i",{class:"fas fa-clipboard"},null,-1))),y=[w],f={key:1,class:"row"},g=i((()=>(0,l._)("div",{class:"left side"},"TV Series",-1))),v=["textContent"],_={key:2,class:"row"},b=i((()=>(0,l._)("div",{class:"left side"},"Season",-1))),k=["textContent"],C={key:3,class:"row"},P=i((()=>(0,l._)("div",{class:"left side"},"Episode",-1))),D=["textContent"],x={key:4,class:"row"},I=i((()=>(0,l._)("div",{class:"left side"},"Number of seasons",-1))),$=["textContent"],S={key:5,class:"row"},q=i((()=>(0,l._)("div",{class:"left side"},"Description",-1))),N=["textContent"],T={key:6,class:"row"},M=i((()=>(0,l._)("div",{class:"left side"},"Summary",-1))),U=["textContent"],z={key:7,class:"row"},R=i((()=>(0,l._)("div",{class:"left side"},"Overview",-1))),Z=["textContent"],L={key:8,class:"row"},V=i((()=>(0,l._)("div",{class:"left side"},"Country",-1))),j=["textContent"],A={key:9,class:"row"},O=i((()=>(0,l._)("div",{class:"left side"},"Network",-1))),W=["textContent"],F={key:10,class:"row"},Y=i((()=>(0,l._)("div",{class:"left side"},"Status",-1))),E=["textContent"],B={key:11,class:"row"},H=i((()=>(0,l._)("div",{class:"left side"},"Resolution",-1))),K={class:"right side"},G={key:12,class:"row"},Q=i((()=>(0,l._)("div",{class:"left side"},"Views",-1))),J={class:"right side"},X={key:13,class:"row"},ee=i((()=>(0,l._)("div",{class:"left side"},"Rating",-1))),te={class:"right side"},se={key:14,class:"row"},le=i((()=>(0,l._)("div",{class:"left side"},"Critic Rating",-1))),ae={class:"right side"},ie={key:15,class:"row"},ne=i((()=>(0,l._)("div",{class:"left side"},"Community Rating",-1))),oe={class:"right side"},re={key:16,class:"row"},de=i((()=>(0,l._)("div",{class:"left side"},"Votes",-1))),ce=["textContent"],ue={key:17,class:"row"},me=i((()=>(0,l._)("div",{class:"left side"},"Genres",-1))),he=["textContent"],pe={key:18,class:"row"},we=i((()=>(0,l._)("div",{class:"left side"},"Channel",-1))),ye={class:"right side"},fe=["href","textContent"],ge={key:19,class:"row"},ve=i((()=>(0,l._)("div",{class:"left side"},"Year",-1))),_e=["textContent"],be={key:20,class:"row"},ke=i((()=>(0,l._)("div",{class:"left side"},"Published at",-1))),Ce=["textContent"],Pe={key:21,class:"row"},De=i((()=>(0,l._)("div",{class:"left side"},"File",-1))),xe=["textContent"],Ie={key:22,class:"row"},$e=i((()=>(0,l._)("div",{class:"left side"},"Trailer",-1))),Se={class:"right side url"},qe=["href","textContent"],Ne={key:23,class:"row"},Te=i((()=>(0,l._)("div",{class:"left side"},"Size",-1))),Me=["textContent"],Ue={key:24,class:"row"},ze=i((()=>(0,l._)("div",{class:"left side"},"Quality",-1))),Re=["textContent"],Ze={key:25,class:"row"},Le=i((()=>(0,l._)("div",{class:"left side"},"Seeds",-1))),Ve=["textContent"],je={key:26,class:"row"},Ae=i((()=>(0,l._)("div",{class:"left side"},"Peers",-1))),Oe=["textContent"],We={key:27,class:"row"},Fe=i((()=>(0,l._)("div",{class:"left side"},"Language",-1))),Ye=["textContent"],Ee={key:28,class:"row"},Be=i((()=>(0,l._)("div",{class:"left side"},"Audio Channels",-1))),He=["textContent"];function Ke(e,t,s,i,h,w){const Ke=(0,l.up)("Item");return(0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",o,[(0,l._)("div",r,[(0,l.Wm)(Ke,{item:s.item,onAddToPlaylist:t[0]||(t[0]=t=>e.$emit("add-to-playlist",s.item)),onOpenChannel:t[1]||(t[1]=t=>e.$emit("open-channel",s.item)),onPlay:t[2]||(t[2]=t=>e.$emit("play",s.item)),onPlayCache:t[3]||(t[3]=t=>e.$emit("play-cache",s.item)),onDownload:t[4]||(t[4]=t=>e.$emit("download",s.item)),onDownloadAudio:t[5]||(t[5]=t=>e.$emit("download-audio",s.item))},null,8,["item"])])]),w.mainUrl?((0,l.wg)(),(0,l.iD)("div",d,[c,(0,l._)("div",u,[(0,l._)("a",{href:w.mainUrl,title:"Direct URL",target:"_blank"},p,8,m),(0,l._)("button",{onClick:t[6]||(t[6]=t=>e.copyToClipboard(w.mainUrl)),title:"Copy URL to clipboard"},y)])])):(0,l.kq)("",!0),s.item?.series?((0,l.wg)(),(0,l.iD)("div",f,[g,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.series)},null,8,v)])):(0,l.kq)("",!0),s.item?.season?((0,l.wg)(),(0,l.iD)("div",_,[b,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.season)},null,8,k)])):(0,l.kq)("",!0),s.item?.episode?((0,l.wg)(),(0,l.iD)("div",C,[P,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.episode)},null,8,D)])):(0,l.kq)("",!0),s.item?.num_seasons?((0,l.wg)(),(0,l.iD)("div",x,[I,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.num_seasons)},null,8,$)])):(0,l.kq)("",!0),s.item?.description?((0,l.wg)(),(0,l.iD)("div",S,[q,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.description)},null,8,N)])):(0,l.kq)("",!0),s.item?.summary?((0,l.wg)(),(0,l.iD)("div",T,[M,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.summary)},null,8,U)])):(0,l.kq)("",!0),s.item?.overview?((0,l.wg)(),(0,l.iD)("div",z,[R,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.overview)},null,8,Z)])):(0,l.kq)("",!0),s.item?.country?((0,l.wg)(),(0,l.iD)("div",L,[V,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.country)},null,8,j)])):(0,l.kq)("",!0),s.item?.network?((0,l.wg)(),(0,l.iD)("div",A,[O,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.network)},null,8,W)])):(0,l.kq)("",!0),s.item?.status?((0,l.wg)(),(0,l.iD)("div",F,[Y,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.status)},null,8,E)])):(0,l.kq)("",!0),s.item?.width&&s.item?.height?((0,l.wg)(),(0,l.iD)("div",B,[H,(0,l._)("div",K,(0,a.zw)(s.item.width)+"x"+(0,a.zw)(s.item.height),1)])):(0,l.kq)("",!0),null!=s.item?.view_count?((0,l.wg)(),(0,l.iD)("div",G,[Q,(0,l._)("div",J,(0,a.zw)(e.formatNumber(s.item.view_count)),1)])):(0,l.kq)("",!0),s.item?.rating?((0,l.wg)(),(0,l.iD)("div",X,[ee,(0,l._)("div",te,(0,a.zw)(s.item.rating)+"%",1)])):(0,l.kq)("",!0),s.item?.critic_rating?((0,l.wg)(),(0,l.iD)("div",se,[le,(0,l._)("div",ae,(0,a.zw)(s.item.critic_rating)+"%",1)])):(0,l.kq)("",!0),s.item?.community_rating?((0,l.wg)(),(0,l.iD)("div",ie,[ne,(0,l._)("div",oe,(0,a.zw)(s.item.community_rating)+"%",1)])):(0,l.kq)("",!0),s.item?.votes?((0,l.wg)(),(0,l.iD)("div",re,[de,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.votes)},null,8,ce)])):(0,l.kq)("",!0),s.item?.genres?((0,l.wg)(),(0,l.iD)("div",ue,[me,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.genres.join(", "))},null,8,he)])):(0,l.kq)("",!0),w.channel?((0,l.wg)(),(0,l.iD)("div",pe,[we,(0,l._)("div",ye,[(0,l._)("a",{href:w.channel.url,target:"_blank",textContent:(0,a.zw)(w.channel.title||w.channel.url)},null,8,fe)])])):(0,l.kq)("",!0),s.item?.year?((0,l.wg)(),(0,l.iD)("div",ge,[ve,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.year)},null,8,_e)])):(0,l.kq)("",!0),w.publishedDate?((0,l.wg)(),(0,l.iD)("div",be,[ke,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(w.publishedDate)},null,8,Ce)])):(0,l.kq)("",!0),s.item?.file?((0,l.wg)(),(0,l.iD)("div",Pe,[De,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.file)},null,8,xe)])):(0,l.kq)("",!0),s.item?.trailer?((0,l.wg)(),(0,l.iD)("div",Ie,[$e,(0,l._)("div",Se,[(0,l._)("a",{href:s.item.trailer,target:"_blank",textContent:(0,a.zw)(s.item.trailer)},null,8,qe)])])):(0,l.kq)("",!0),s.item?.size?((0,l.wg)(),(0,l.iD)("div",Ne,[Te,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(e.convertSize(s.item.size))},null,8,Me)])):(0,l.kq)("",!0),s.item?.quality?((0,l.wg)(),(0,l.iD)("div",Ue,[ze,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.quality)},null,8,Re)])):(0,l.kq)("",!0),s.item?.seeds?((0,l.wg)(),(0,l.iD)("div",Ze,[Le,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.seeds)},null,8,Ve)])):(0,l.kq)("",!0),s.item?.peers?((0,l.wg)(),(0,l.iD)("div",je,[Ae,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.peers)},null,8,Oe)])):(0,l.kq)("",!0),s.item?.language?((0,l.wg)(),(0,l.iD)("div",We,[Fe,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.language)},null,8,Ye)])):(0,l.kq)("",!0),s.item?.audio_channels?((0,l.wg)(),(0,l.iD)("div",Ee,[Be,(0,l._)("div",{class:"right side",textContent:(0,a.zw)(s.item.audio_channels)},null,8,He)])):(0,l.kq)("",!0)])}var Ge=s(5007),Qe=s(3969),Je=s(1065),Xe=s(8637),et={name:"Info",components:{Item:Qe.Z},mixins:[Xe.Z,Je.Z],emits:["add-to-playlist","download","download-audio","open-channel","play","play-cache"],props:{item:{type:Object,default:()=>{}},pluginName:{type:String}},data(){return{typeIcons:Ge,loadingUrl:!1,youtubeUrl:null}},computed:{channel(){let e=null;return this.item?.channelId?e={url:`https://www.youtube.com/channel/${this.item.channelId}`}:this.item?.channel_url&&(e={url:this.item.channel_url}),e?(this.item?.channelTitle?e.title=this.item.channelTitle:this.item?.channel&&(e.title=this.item.channel),e):null},publishedDate(){return this.item?.publishedAt?this.formatDate(this.item.publishedAt,!0):this.item?.created_at?this.formatDate(this.item.created_at,!0):this.item?.timestamp?this.formatDate(this.item.timestamp,!0):null},directUrl(){if("file"===this.item?.type&&this.item?.url){const e=this.item.url.replace(/^file:\/\//,"");return window.location.origin+"/file?path="+encodeURIComponent(e)}return null},mainUrl(){const e=this.directUrl;return e||this.item?.url}}},tt=s(3744);const st=(0,tt.Z)(et,[["render",Ke],["__scopeId","data-v-240278fa"]]);var lt=st},3969:function(e,t,s){"use strict";s.d(t,{Z:function(){return P}});var l=s(6252),a=s(3577),i=s(9963);const n={class:"thumbnail"},o={class:"body"},r={class:"row title"},d=["textContent"],c={class:"col-1 right side"},u={key:0,class:"row subtitle"},m=["src"],h=["textContent"],p={key:1,class:"row creation-date"};function w(e,t,s,w,y,f){const g=(0,l.up)("MediaImage"),v=(0,l.up)("DropdownItem"),_=(0,l.up)("Dropdown");return s.hidden?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",{key:0,class:(0,a.C_)(["item media-item",{selected:s.selected}]),onContextmenu:t[12]||(t[12]=(0,i.iM)((t=>e.$refs.dropdown.toggle()),["right","prevent"]))},[(0,l._)("div",n,[(0,l.Wm)(g,{item:s.item,onPlay:t[0]||(t[0]=t=>e.$emit("play")),onSelect:t[1]||(t[1]=t=>e.$emit("select"))},null,8,["item"])]),(0,l._)("div",o,[(0,l._)("div",r,[(0,l._)("div",{class:"col-11 left side",textContent:(0,a.zw)(s.item.title||s.item.name),onClick:t[2]||(t[2]=t=>e.$emit("select"))},null,8,d),(0,l._)("div",c,[(0,l.Wm)(_,{title:"Actions","icon-class":"fa fa-ellipsis-h",ref:"dropdown"},{default:(0,l.w5)((()=>["torrent"!==s.item.type?((0,l.wg)(),(0,l.j4)(v,{key:0,"icon-class":"fa fa-play",text:"Play",onInput:t[3]||(t[3]=t=>e.$emit("play"))})):(0,l.kq)("",!0),"youtube"===s.item.type?((0,l.wg)(),(0,l.j4)(v,{key:1,"icon-class":"fa fa-play",text:"Play (With Cache)",onInput:t[4]||(t[4]=t=>e.$emit("play-cache"))})):(0,l.kq)("",!0),"torrent"!==s.item.type&&"youtube"!==s.item.type||"channel"===s.item.item_type||"playlist"===s.item.item_type?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(v,{key:2,"icon-class":"fa fa-download",text:"Download",onInput:t[5]||(t[5]=t=>e.$emit("download"))})),"youtube"===s.item.type&&"channel"!==s.item.item_type&&"playlist"!==s.item.item_type?((0,l.wg)(),(0,l.j4)(v,{key:3,"icon-class":"fa fa-volume-high",text:"Download Audio",onInput:t[6]||(t[6]=t=>e.$emit("download-audio"))})):(0,l.kq)("",!0),"youtube"===s.item.type?((0,l.wg)(),(0,l.j4)(v,{key:4,"icon-class":"fa fa-list",text:"Add to playlist",onInput:t[7]||(t[7]=t=>e.$emit("add-to-playlist"))})):(0,l.kq)("",!0),"youtube"===s.item.type&&s.playlist?.length?((0,l.wg)(),(0,l.j4)(v,{key:5,"icon-class":"fa fa-trash",text:"Remove from playlist",onInput:t[8]||(t[8]=t=>e.$emit("remove-from-playlist"))})):(0,l.kq)("",!0),"file"===s.item.type?((0,l.wg)(),(0,l.j4)(v,{key:6,"icon-class":"fa fa-window-maximize",text:"View in browser",onInput:t[9]||(t[9]=t=>e.$emit("view"))})):(0,l.kq)("",!0),(0,l.Wm)(v,{"icon-class":"fa fa-info-circle",text:"Info",onInput:t[10]||(t[10]=t=>e.$emit("select"))})])),_:1},512)])]),s.item.channel?((0,l.wg)(),(0,l.iD)("div",u,[(0,l._)("a",{class:"channel",href:"#",target:"_blank",onClick:t[11]||(t[11]=(0,i.iM)((t=>e.$emit("open-channel")),["prevent"]))},[s.item.channel_image?((0,l.wg)(),(0,l.iD)("img",{key:0,src:s.item.channel_image,class:"channel-image"},null,8,m)):(0,l.kq)("",!0),(0,l._)("span",{class:"channel-name",textContent:(0,a.zw)(s.item.channel)},null,8,h)])])):(0,l.kq)("",!0),s.item.created_at?((0,l.wg)(),(0,l.iD)("div",p,(0,a.zw)(e.formatDateTime(s.item.created_at,!0)),1)):(0,l.kq)("",!0)])],34))}var y=s(4904),f=s(7597),g=s(5007),v=s(5300),_=s(8637),b={components:{Dropdown:y.Z,DropdownItem:f.Z,MediaImage:v.Z},mixins:[_.Z],emits:["add-to-playlist","download","download-audio","open-channel","play","play-cache","remove-from-playlist","select","view"],props:{item:{type:Object,required:!0},hidden:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},playlist:{type:String}},data(){return{typeIcons:g}}},k=s(3744);const C=(0,k.Z)(b,[["render",w],["__scopeId","data-v-f6475b08"]]);var P=C},5300:function(e,t,s){"use strict";s.d(t,{Z:function(){return P}});var l=s(6252),a=s(3577);const i=e=>((0,l.dD)("data-v-0dfe65a0"),e=e(),(0,l.Cn)(),e),n={key:1,class:"icon type-icon"},o=["href"],r=["title"],d=["src","alt"],c={key:3,class:"image"},u={class:"inner"},m={key:4,class:"icon imdb-link"},h=["href"],p=i((()=>(0,l._)("i",{class:"fab fa-imdb"},null,-1))),w=[p],y=["textContent"],f={key:6,class:"bottom-overlay videos"};function g(e,t,s,i,p,g){return(0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)(["image-container",{"with-image":!!s.item?.image}])},[s.hasPlay?((0,l.wg)(),(0,l.iD)("div",{key:0,class:"play-overlay",onClick:t[0]||(t[0]=t=>e.$emit(g.clickEvent,s.item))},[(0,l._)("i",{class:(0,a.C_)(g.overlayIconClass)},null,2)])):(0,l.kq)("",!0),p.typeIcons[s.item?.type]?((0,l.wg)(),(0,l.iD)("span",n,[s.item.url?((0,l.wg)(),(0,l.iD)("a",{key:0,href:s.item.url,target:"_blank"},[(0,l._)("i",{class:(0,a.C_)(p.typeIcons[s.item.type]),title:s.item.type},"   ",10,r)],8,o)):(0,l.kq)("",!0)])):(0,l.kq)("",!0),g.imgUrl?((0,l.wg)(),(0,l.iD)("img",{key:2,class:"image",src:g.imgUrl,alt:s.item.title},null,8,d)):((0,l.wg)(),(0,l.iD)("div",c,[(0,l._)("div",u,[(0,l._)("i",{class:(0,a.C_)(g.iconClass)},null,2)])])),s.item?.imdb_id?((0,l.wg)(),(0,l.iD)("span",m,[(0,l._)("a",{href:`https://www.imdb.com/title/${s.item.imdb_id}`,target:"_blank"},w,8,h)])):(0,l.kq)("",!0),null!=s.item?.duration?((0,l.wg)(),(0,l.iD)("span",{key:5,class:"bottom-overlay duration",textContent:(0,a.zw)(e.convertTime(s.item.duration))},null,8,y)):null!=s.item?.videos?((0,l.wg)(),(0,l.iD)("span",f,(0,a.zw)(s.item.videos)+" items ",1)):(0,l.kq)("",!0)],2)}var v=s(5007),_=s(1065),b={mixins:[v,_.Z],emits:["play","select"],props:{item:{type:Object,default:()=>{}},hasPlay:{type:Boolean,default:!0}},data(){return{typeIcons:v}},computed:{clickEvent(){switch(this.item?.item_type){case"channel":case"playlist":case"folder":return"select";default:return"play"}},iconClass(){switch(this.item?.item_type){case"channel":return"fas fa-user";case"playlist":return"fas fa-list";case"folder":return"fas fa-folder";default:return"fas fa-play"}},imgUrl(){let e=this.item?.image;return e||(e=this.item?.images?.[0]?.url),e},overlayIconClass(){return"channel"===this.item?.item_type||"playlist"===this.item?.item_type||"folder"===this.item?.item_type?"fas fa-folder-open":"fas fa-play"}}},k=s(3744);const C=(0,k.Z)(b,[["render",g],["__scopeId","data-v-0dfe65a0"]]);var P=C},2893:function(e,t,s){"use strict";s.d(t,{Z:function(){return h}});var l=s(6252);const a={class:"media-results"};function i(e,t,s,i,n,o){const r=(0,l.up)("Loading"),d=(0,l.up)("Item"),c=(0,l.up)("Info"),u=(0,l.up)("Modal");return(0,l.wg)(),(0,l.iD)("div",a,[s.loading?((0,l.wg)(),(0,l.j4)(r,{key:0})):(0,l.kq)("",!0),s.results?.length?((0,l.wg)(),(0,l.iD)("div",{key:1,class:"grid",ref:"grid",onScroll:t[0]||(t[0]=(...e)=>o.onScroll&&o.onScroll(...e))},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.visibleResults,((t,a)=>((0,l.wg)(),(0,l.j4)(d,{key:a,hidden:!!Object.keys(s.sources||{}).length&&!s.sources[t.type],item:t,playlist:s.playlist,selected:s.selectedResult===a,onAddToPlaylist:s=>e.$emit("add-to-playlist",t),onOpenChannel:s=>e.$emit("open-channel",t),onRemoveFromPlaylist:s=>e.$emit("remove-from-playlist",t),onSelect:t=>e.$emit("select",a),onPlay:s=>e.$emit("play",t),onPlayCache:s=>e.$emit("play-cache",t),onView:s=>e.$emit("view",t),onDownload:s=>e.$emit("download",t),onDownloadAudio:s=>e.$emit("download-audio",t)},null,8,["hidden","item","playlist","selected","onAddToPlaylist","onOpenChannel","onRemoveFromPlaylist","onSelect","onPlay","onPlayCache","onView","onDownload","onDownloadAudio"])))),128))],544)):(0,l.kq)("",!0),(0,l.Wm)(u,{ref:"infoModal",title:"Media info",onClose:t[7]||(t[7]=t=>e.$emit("select",null))},{default:(0,l.w5)((()=>[null!=s.selectedResult?((0,l.wg)(),(0,l.j4)(c,{key:0,item:s.results[s.selectedResult],pluginName:s.pluginName,onAddToPlaylist:t[1]||(t[1]=t=>e.$emit("add-to-playlist",s.results[s.selectedResult])),onDownload:t[2]||(t[2]=t=>e.$emit("download",s.results[s.selectedResult])),onDownloadAudio:t[3]||(t[3]=t=>e.$emit("download-audio",s.results[s.selectedResult])),onOpenChannel:t[4]||(t[4]=t=>e.$emit("open-channel",s.results[s.selectedResult])),onPlay:t[5]||(t[5]=t=>e.$emit("play",s.results[s.selectedResult])),onPlayCache:t[6]||(t[6]=t=>e.$emit("play-cache",s.results[s.selectedResult]))},null,8,["item","pluginName"])):(0,l.kq)("",!0)])),_:1},512)])}var n=s(9548),o=s(3969),r=s(6791),d=s(5166),c={components:{Info:n.Z,Item:o.Z,Loading:r.Z,Modal:d.Z},emits:["add-to-playlist","download","download-audio","open-channel","play","play-cache","remove-from-playlist","scroll-end","select","view"],props:{loading:{type:Boolean,default:!1},pluginName:{type:String},results:{type:Array,default:()=>[]},selectedResult:{type:Number},sources:{type:Object,default:()=>{}},filter:{type:String,default:null},resultIndexStep:{type:Number,default:25},playlist:{default:null}},data(){return{maxResultIndex:this.resultIndexStep}},computed:{visibleResults(){let e=this.results.filter((e=>!this.filter?.length||e.title.toLowerCase().includes(this.filter.toLowerCase())));return null!=this.maxResultIndex&&(e=e.slice(0,this.maxResultIndex)),e}},methods:{onScroll(e){const t=e.target;if(!t)return;const s=t.scrollHeight-t.scrollTop<=t.clientHeight+150;s&&(this.$emit("scroll-end"),null!=this.resultIndexStep&&(this.maxResultIndex+=this.resultIndexStep))}},mounted(){this.$watch("selectedResult",(e=>{"playlist"!==e?.item_type&&"channel"!==e?.item_type?null==e?this.$refs.infoModal?.close():this.$refs.infoModal?.show():this.$emit("select",null)}))}},u=s(3744);const m=(0,u.Z)(c,[["render",i],["__scopeId","data-v-53ca1180"]]);var h=m},8:function(e,t,s){"use strict";s.d(t,{Z:function(){return ye}});var l=s(6252),a=s(3577);const i=e=>((0,l.dD)("data-v-65e233cd"),e=e(),(0,l.Cn)(),e),n={key:1,class:"torrent-transfers fade-in"},o={key:0,class:"no-content"},r=["onClick"],d={class:"col-8 left side"},c=["textContent"],u={class:"col-2 right side"},m=["textContent"],h={class:"col-2 right side"},p={key:0,class:"modal-body torrent-info"},w={key:0,class:"row"},y=i((()=>(0,l._)("div",{class:"attr"},"Name",-1))),f=["textContent"],g={key:1,class:"row"},v=i((()=>(0,l._)("div",{class:"attr"},"State",-1))),_=["textContent"],b={class:"row"},k=i((()=>(0,l._)("div",{class:"attr"},"Progress",-1))),C=["textContent"],P={class:"row"},D=i((()=>(0,l._)("div",{class:"attr"},"DL rate",-1))),x=["textContent"],I={class:"row"},$=i((()=>(0,l._)("div",{class:"attr"},"UL rate",-1))),S=["textContent"],q={class:"row"},N=i((()=>(0,l._)("div",{class:"attr"},"Size",-1))),T=["textContent"],M={key:2,class:"row"},U=i((()=>(0,l._)("div",{class:"attr"},"Remaining",-1))),z=["textContent"],R={class:"row"},Z=i((()=>(0,l._)("div",{class:"attr"},"URL",-1))),L={class:"value nowrap"},V=["href","textContent"],j={class:"row"},A=i((()=>(0,l._)("div",{class:"attr"},"Peers",-1))),O=["textContent"],W={key:3,class:"row"},F=i((()=>(0,l._)("div",{class:"attr"},"Started",-1))),Y=["textContent"],E={key:4,class:"row"},B=i((()=>(0,l._)("div",{class:"attr"},"Finished",-1))),H=["textContent"],K={key:5,class:"row"},G=i((()=>(0,l._)("div",{class:"attr"},"Save path",-1))),Q=["textContent"],J={key:6,class:"row"},X=i((()=>(0,l._)("div",{class:"attr"},"Files",-1))),ee={class:"value files-container"},te=["href","textContent"],se={key:0,class:"modal-body torrent-files"},le={class:"col-1 icon"},ae={key:1,class:"fa fa-file"},ie=["textContent"];function ne(e,t,s,i,ne,oe){const re=(0,l.up)("Loading"),de=(0,l.up)("DropdownItem"),ce=(0,l.up)("Dropdown"),ue=(0,l.up)("Modal");return ne.loading?((0,l.wg)(),(0,l.j4)(re,{key:0})):((0,l.wg)(),(0,l.iD)("div",n,[Object.keys(s.transfers).length?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",o,"No torrent transfers in progress")),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.transfers,((s,i)=>((0,l.wg)(),(0,l.iD)("div",{class:(0,a.C_)(["row item",{selected:ne.selectedItem===i}]),key:i,onClick:e=>ne.selectedItem=i},[(0,l._)("div",d,[(0,l._)("i",{class:(0,a.C_)(["icon fa",{"fa-check":null!=s.finish_date,"fa-play":!s.finish_date&&"downloading"===s.state&&!s.paused,"fa-pause":!s.finish_date&&"downloading"===s.state&&s.paused,"fa-stop":!s.finish_date&&"stopped"===s.state}])},null,2),(0,l._)("div",{class:"title",textContent:(0,a.zw)(s.name||s.hash||s.url)},null,8,c)]),(0,l._)("div",u,[(0,l._)("span",{textContent:(0,a.zw)(`${s.progress}%`)},null,8,m)]),(0,l._)("div",h,[(0,l.Wm)(ce,{title:"Actions","icon-class":"fa fa-ellipsis-h",onClick:e=>ne.selectedItem=i},{default:(0,l.w5)((()=>["downloading"!==s.state||s.paused?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(de,{key:0,"icon-class":"fa fa-pause",text:"Pause transfer",onInput:t=>e.$emit("pause",s)},null,8,["onInput"])),"downloading"===s.state&&s.paused?((0,l.wg)(),(0,l.j4)(de,{key:1,"icon-class":"fa fa-play",text:"Resume transfer",onInput:t=>e.$emit("resume",s)},null,8,["onInput"])):(0,l.kq)("",!0),(0,l.Wm)(de,{"icon-class":"fa fa-trash",text:"Remove transfer",onInput:t=>e.$emit("remove",s)},null,8,["onInput"]),(0,l.Wm)(de,{"icon-class":"fa fa-folder",text:"View files",onInput:t[0]||(t[0]=t=>e.$refs.torrentFiles.isVisible=!0)}),(0,l.Wm)(de,{"icon-class":"fa fa-info",text:"Torrent info",onInput:t[1]||(t[1]=t=>e.$refs.torrentInfo.isVisible=!0)})])),_:2},1032,["onClick"])])],10,r)))),128)),(0,l.Wm)(ue,{ref:"torrentInfo",title:"Torrent info",width:"80%"},{default:(0,l.w5)((()=>[null!=ne.selectedItem&&s.transfers[ne.selectedItem]?((0,l.wg)(),(0,l.iD)("div",p,[s.transfers[ne.selectedItem].name?((0,l.wg)(),(0,l.iD)("div",w,[y,(0,l._)("div",{class:"value",textContent:(0,a.zw)(s.transfers[ne.selectedItem].name)},null,8,f)])):(0,l.kq)("",!0),s.transfers[ne.selectedItem].state?((0,l.wg)(),(0,l.iD)("div",g,[v,(0,l._)("div",{class:"value",textContent:(0,a.zw)(s.transfers[ne.selectedItem].state)},null,8,_)])):(0,l.kq)("",!0),(0,l._)("div",b,[k,(0,l._)("div",{class:"value",textContent:(0,a.zw)(`${s.transfers[ne.selectedItem].progress||0}%`)},null,8,C)]),(0,l._)("div",P,[D,(0,l._)("div",{class:"value",textContent:(0,a.zw)(`${e.convertSize(s.transfers[ne.selectedItem].download_rate||0)}/s`)},null,8,x)]),(0,l._)("div",I,[$,(0,l._)("div",{class:"value",textContent:(0,a.zw)(`${e.convertSize(s.transfers[ne.selectedItem].upload_rate||0)}/s`)},null,8,S)]),(0,l._)("div",q,[N,(0,l._)("div",{class:"value",textContent:(0,a.zw)(e.convertSize(s.transfers[ne.selectedItem].size||0))},null,8,T)]),s.transfers[ne.selectedItem].remaining_bytes?((0,l.wg)(),(0,l.iD)("div",M,[U,(0,l._)("div",{class:"value",textContent:(0,a.zw)(e.convertSize(s.transfers[ne.selectedItem].remaining_bytes))},null,8,z)])):(0,l.kq)("",!0),(0,l._)("div",R,[Z,(0,l._)("div",L,[(0,l._)("a",{href:s.transfers[ne.selectedItem].url,target:"_blank",textContent:(0,a.zw)(s.transfers[ne.selectedItem].url)},null,8,V)])]),(0,l._)("div",j,[A,(0,l._)("div",{class:"value",textContent:(0,a.zw)(s.transfers[ne.selectedItem].peers||0)},null,8,O)]),s.transfers[ne.selectedItem].start_date?((0,l.wg)(),(0,l.iD)("div",W,[F,(0,l._)("div",{class:"value",textContent:(0,a.zw)(e.formatDateTime(s.transfers[ne.selectedItem].start_date))},null,8,Y)])):(0,l.kq)("",!0),s.transfers[ne.selectedItem].finish_date?((0,l.wg)(),(0,l.iD)("div",E,[B,(0,l._)("div",{class:"value",textContent:(0,a.zw)(e.formatDateTime(s.transfers[ne.selectedItem].finish_date))},null,8,H)])):(0,l.kq)("",!0),s.transfers[ne.selectedItem].save_path?((0,l.wg)(),(0,l.iD)("div",K,[G,(0,l._)("div",{class:"value",textContent:(0,a.zw)(s.transfers[ne.selectedItem].save_path)},null,8,Q)])):(0,l.kq)("",!0),s.transfers[ne.selectedItem].files?((0,l.wg)(),(0,l.iD)("div",J,[X,(0,l._)("div",ee,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.transfers[ne.selectedItem].files,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{class:"file",key:t},[(0,l._)("a",{href:`/file?path=${encodeURIComponent(e)}`,target:"_blank",textContent:(0,a.zw)(e)},null,8,te)])))),128))])])):(0,l.kq)("",!0)])):(0,l.kq)("",!0)])),_:1},512),(0,l.Wm)(ue,{ref:"torrentFiles",title:"Torrent files",width:"80%"},{default:(0,l.w5)((()=>[null!=ne.selectedItem&&s.transfers[ne.selectedItem]?((0,l.wg)(),(0,l.iD)("div",se,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(oe.relativeFiles,((t,i)=>((0,l.wg)(),(0,l.iD)("div",{class:"row",key:t},[(0,l._)("div",le,[s.isMedia&&e.mediaExtensions.has(t.split(".").pop())?((0,l.wg)(),(0,l.j4)(ce,{key:0},{default:(0,l.w5)((()=>[(0,l.Wm)(de,{"icon-class":"fa fa-play",text:"Play",onInput:t=>e.$emit("play",{url:`file://${s.transfers[ne.selectedItem].files[i]}`,type:"file"})},null,8,["onInput"])])),_:2},1024)):((0,l.wg)(),(0,l.iD)("i",ae))]),(0,l._)("div",{class:"col-11 name",textContent:(0,a.zw)(t)},null,8,ie)])))),128))])):(0,l.kq)("",!0)])),_:1},512)]))}var oe=s(6791),re=s(8637),de=s(1065),ce=s(5166),ue=s(4904),me=s(7597),he={emits:["pause","play","play-with-captions","refresh","remove","resume"],components:{Dropdown:ue.Z,DropdownItem:me.Z,Loading:oe.Z,Modal:ce.Z},mixins:[re.Z,de.Z],props:{isMedia:{type:Boolean,default:!1},transfers:{type:Object,default:()=>({})}},data(){return{loading:!1,selectedItem:null}},computed:{relativeFiles(){return null!=this.selectedItem&&this.transfers[this.selectedItem]?.files?.length?this.transfers[this.selectedItem].files.map((e=>e.split("/").pop())):[]}}},pe=s(3744);const we=(0,pe.Z)(he,[["render",ne],["__scopeId","data-v-65e233cd"]]);var ye=we},6809:function(e,t,s){var l={"./File":[2892,9,2892],"./File.vue":[2892,9,2892],"./Mixin":[6640,9,6640],"./Mixin.vue":[6640,9,6640],"./Nav":[83,9,1931,5505],"./Nav.vue":[83,9,1931,5505],"./YouTube":[1796,9,2992,6281,4507,8528,4768,7035,1931,4790,1684,1796],"./YouTube.vue":[1796,9,2992,6281,4507,8528,4768,7035,1931,4790,1684,1796],"./YouTube/Channel":[168,9,4507,168],"./YouTube/Channel.vue":[168,9,4507,168],"./YouTube/Feed":[1330,9,2992,1684,1330],"./YouTube/Feed.vue":[1330,9,2992,1684,1330],"./YouTube/Index":[2200,9,2200],"./YouTube/Index.vue":[2200,9,2200],"./YouTube/NoToken":[9091,9,4790,9091],"./YouTube/NoToken.vue":[9091,9,4790,9091],"./YouTube/Playlist":[6370,9,2992,8528,6370],"./YouTube/Playlist.vue":[6370,9,2992,8528,6370],"./YouTube/Playlists":[4768,9,2992,6281,8528,4768],"./YouTube/Playlists.vue":[4768,9,2992,6281,8528,4768],"./YouTube/Subscriptions":[9572,9,2992,4507,7035,9572],"./YouTube/Subscriptions.vue":[9572,9,2992,4507,7035,9572],"./YouTube/header.scss":[9092,9,6561,9092],"./meta":[4569,3],"./meta.json":[4569,3]};function a(e){if(!s.o(l,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=l[e],a=t[0];return Promise.all(t.slice(2).map(s.e)).then((function(){return s.t(a,16|t[1])}))}a.keys=function(){return Object.keys(l)},a.id=6809,e.exports=a},4569:function(e){"use strict";e.exports=JSON.parse('{"File":{"name":"Files","icon":{"class":"fas fa-folder","color":"#888888"}},"YouTube":{"name":"YouTube","icon":{"class":"fab fa-youtube","color":"#FF0000"}}}')},5007:function(e){"use strict";e.exports=JSON.parse('{"file":"fa fa-hdd","torrent":"fa fa-magnet","youtube":"fab fa-youtube","plex":"fa fa-plex","jellyfin":"fa fa-jellyfin"}')}}]);
//# sourceMappingURL=4092.a30f35a0.js.map